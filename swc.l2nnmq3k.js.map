{"version":3,"file":"swc.DA7GgpUD.js","sources":["../../../packages/iconset/src/iconset-registry.js","../../../packages/icon/src/Icon.js","../../../packages/icon/sp-icon.js"],"sourcesContent":["\"use strict\";export class IconsetRegistry{constructor(){this.iconsetMap=new Map}static getInstance(){return IconsetRegistry.instance||(IconsetRegistry.instance=new IconsetRegistry),IconsetRegistry.instance}addIconset(e,t){this.iconsetMap.set(e,t);const n=new CustomEvent(\"sp-iconset-added\",{bubbles:!0,composed:!0,detail:{name:e,iconset:t}});setTimeout(()=>window.dispatchEvent(n),0)}removeIconset(e){this.iconsetMap.delete(e);const t=new CustomEvent(\"sp-iconset-removed\",{bubbles:!0,composed:!0,detail:{name:e}});setTimeout(()=>window.dispatchEvent(t),0)}getIconset(e){return this.iconsetMap.get(e)}}\n//# sourceMappingURL=iconset-registry.js.map\n","\"use strict\";var p=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var o=(s,r,e,t)=>{for(var i=t>1?void 0:t?l(r,e):r,n=s.length-1,a;n>=0;n--)(a=s[n])&&(i=(t?a(r,e,i):a(i))||i);return t&&i&&p(r,e,i),i};import{html as c}from\"@spectrum-web-components/base\";import{property as d,query as m}from\"@spectrum-web-components/base/src/decorators.js\";import{ifDefined as u}from\"@spectrum-web-components/base/src/directives.js\";import{IconsetRegistry as h}from\"@spectrum-web-components/iconset/src/iconset-registry.js\";import{IconBase as v}from\"./IconBase.js\";export class Icon extends v{constructor(){super(...arguments);this.iconsetListener=e=>{if(!this.name)return;const t=this.parseIcon(this.name);e.detail.name===t.iconset&&(this.updateIconPromise=this.updateIcon())}}connectedCallback(){super.connectedCallback(),window.addEventListener(\"sp-iconset-added\",this.iconsetListener)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener(\"sp-iconset-added\",this.iconsetListener)}firstUpdated(){this.updateIconPromise=this.updateIcon()}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),this.updateIconPromise=this.updateIcon()}announceIconImageSrcError(){this.dispatchEvent(new Event(\"error\",{cancelable:!1,bubbles:!1,composed:!1}))}render(){return this.name?c`\n                <div id=\"container\"></div>\n            `:this.src?c`\n                <img\n                    src=\"${this.src}\"\n                    alt=${u(this.label)}\n                    @error=${this.announceIconImageSrcError}\n                />\n            `:super.render()}async updateIcon(){if(this.updateIconPromise&&await this.updateIconPromise,!this.name)return Promise.resolve();const e=this.parseIcon(this.name),t=h.getInstance().getIconset(e.iconset);return!t||!this.iconContainer?Promise.resolve():(this.iconContainer.innerHTML=\"\",t.applyIconToElement(this.iconContainer,e.icon,this.size||\"\",this.label?this.label:\"\"))}parseIcon(e){const t=e.split(\":\");let i=\"default\",n=e;return t.length>1&&(i=t[0],n=t[1]),{iconset:i,icon:n}}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.updateIconPromise,e}}o([d()],Icon.prototype,\"src\",2),o([d()],Icon.prototype,\"name\",2),o([m(\"#container\")],Icon.prototype,\"iconContainer\",2);\n//# sourceMappingURL=Icon.js.map\n","\"use strict\";import{Icon as e}from\"./src/Icon.js\";import{defineElement as o}from\"@spectrum-web-components/base/src/define-element.js\";o(\"sp-icon\",e);\n//# sourceMappingURL=sp-icon.js.map\n"],"names":["IconsetRegistry","constructor","this","iconsetMap","Map","getInstance","instance","addIconset","e","t","set","n","CustomEvent","bubbles","composed","detail","name","iconset","setTimeout","window","dispatchEvent","removeIconset","delete","getIconset","get","p","Object","defineProperty","o","s","r","a","i","length","Icon","v","super","arguments","iconsetListener","parseIcon","updateIconPromise","updateIcon","connectedCallback","addEventListener","disconnectedCallback","removeEventListener","firstUpdated","attributeChangedCallback","announceIconImageSrcError","Event","cancelable","render","c","src","u","label","Promise","resolve","h","iconContainer","innerHTML","applyIconToElement","icon","size","split","getUpdateComplete","d","prototype","m"],"mappings":"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"}