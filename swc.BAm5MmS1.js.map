{"version":3,"file":"swc.9fSfT55D.js","sources":["../../../packages/menu/src/menu.css.js","../../../packages/menu/src/Menu.js","../../../packages/menu/sp-menu.js","../../../packages/menu/src/menu-item.css.js","../../../packages/menu/src/MenuItem.js","../../../packages/menu/sp-menu-item.js"],"sourcesContent":["\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const t=e`\n    :host{--spectrum-menu-item-background-color-hover:var(--system-menu-item-background-color-hover);--spectrum-menu-item-background-color-down:var(--system-menu-item-background-color-down);--spectrum-menu-item-background-color-key-focus:var(--system-menu-item-background-color-key-focus);--spectrum-menu-item-corner-radius:var(--system-menu-item-corner-radius);--spectrum-menu-item-focus-indicator-shadow:var(--system-menu-item-focus-indicator-shadow);--spectrum-menu-item-focus-indicator-offset:var(--system-menu-item-focus-indicator-offset);--spectrum-menu-item-spacing-multiplier:var(--system-menu-item-spacing-multiplier);--spectrum-menu-item-focus-indicator-outline-style:var(--system-menu-item-focus-indicator-outline-style)}@media (forced-colors:active){:host{--highcontrast-menu-item-background-color-default:ButtonFace;--highcontrast-menu-item-color-default:ButtonText;--highcontrast-menu-item-background-color-focus:Highlight;--highcontrast-menu-item-color-focus:HighlightText;--highcontrast-menu-checkmark-icon-color-default:Highlight;--highcontrast-menu-item-color-disabled:GrayText;--highcontrast-menu-item-focus-indicator-color:Highlight;--highcontrast-menu-item-selected-background-color:Highlight;--highcontrast-menu-item-selected-color:HighlightText}@supports (color:SelectedItem){:host{--highcontrast-menu-item-selected-background-color:SelectedItem;--highcontrast-menu-item-selected-color:SelectedItemText}}}:host{--spectrum-menu-item-top-to-action:var(--spectrum-spacing-50);--spectrum-menu-item-top-to-checkbox:var(--spectrum-spacing-50);--spectrum-menu-item-label-line-height:var(--spectrum-line-height-100);--spectrum-menu-item-label-line-height-cjk:var(--spectrum-cjk-line-height-100);--spectrum-menu-item-label-to-description-spacing:var(--spectrum-menu-item-label-to-description);--spectrum-menu-item-focus-indicator-width:var(--mod-menu-item-focus-indicator-width,var(--spectrum-border-width-200));--spectrum-menu-item-focus-indicator-color:var(--spectrum-blue-800);--spectrum-menu-item-label-to-value-area-min-spacing:var(--spectrum-spacing-100);--spectrum-menu-item-label-content-color-default:var(--spectrum-neutral-content-color-default);--spectrum-menu-item-label-content-color-hover:var(--spectrum-neutral-content-color-hover);--spectrum-menu-item-label-content-color-down:var(--spectrum-neutral-content-color-down);--spectrum-menu-item-label-content-color-focus:var(--spectrum-neutral-content-color-key-focus);--spectrum-menu-item-label-icon-color-default:var(--spectrum-neutral-content-color-default);--spectrum-menu-item-label-icon-color-hover:var(--spectrum-neutral-content-color-hover);--spectrum-menu-item-label-icon-color-down:var(--spectrum-neutral-content-color-down);--spectrum-menu-item-label-icon-color-focus:var(--spectrum-neutral-content-color-key-focus);--spectrum-menu-item-label-content-color-disabled:var(--spectrum-disabled-content-color);--spectrum-menu-item-label-icon-color-disabled:var(--spectrum-disabled-content-color);--spectrum-menu-item-description-line-height:var(--spectrum-line-height-100);--spectrum-menu-item-description-line-height-cjk:var(--spectrum-cjk-line-height-100);--spectrum-menu-item-description-color-default:var(--spectrum-neutral-subdued-content-color-default);--spectrum-menu-item-description-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-menu-item-description-color-down:var(--spectrum-neutral-subdued-content-color-down);--spectrum-menu-item-description-color-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-menu-item-description-color-disabled:var(--spectrum-disabled-content-color);--spectrum-menu-section-header-line-height:var(--spectrum-line-height-100);--spectrum-menu-section-header-line-height-cjk:var(--spectrum-cjk-line-height-100);--spectrum-menu-section-header-font-weight:var(--spectrum-bold-font-weight);--spectrum-menu-section-header-color:var(--spectrum-gray-900);--spectrum-menu-collapsible-icon-color:var(--spectrum-gray-900);--spectrum-menu-checkmark-icon-color-default:var(--spectrum-accent-color-900);--spectrum-menu-checkmark-icon-color-hover:var(--spectrum-accent-color-1000);--spectrum-menu-checkmark-icon-color-down:var(--spectrum-accent-color-1100);--spectrum-menu-checkmark-icon-color-focus:var(--spectrum-accent-color-1000);--spectrum-menu-drillin-icon-color-default:var(--spectrum-neutral-subdued-content-color-default);--spectrum-menu-drillin-icon-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-menu-drillin-icon-color-down:var(--spectrum-neutral-subdued-content-color-down);--spectrum-menu-drillin-icon-color-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-menu-item-value-color-default:var(--spectrum-neutral-subdued-content-color-default);--spectrum-menu-item-value-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-menu-item-value-color-down:var(--spectrum-neutral-subdued-content-color-down);--spectrum-menu-item-value-color-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-menu-checkmark-display-hidden:none;--spectrum-menu-checkmark-display-shown:block;--spectrum-menu-checkmark-display:var(--spectrum-menu-checkmark-display-shown);--spectrum-menu-item-min-height:var(--spectrum-component-height-100);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-100);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-100);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-100);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-100);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-100);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-100);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-100);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-100);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-75);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-100);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-100);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-medium);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-medium);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-medium);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-medium);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-medium);--spectrum-menu-item-collapsible-no-icon-submenu-item-padding-x-start:calc(var(--spectrum-menu-item-label-inline-edge-to-content) + var(--spectrum-menu-item-checkmark-width) + var(--spectrum-menu-item-label-text-to-visual) + var(--spectrum-menu-item-focus-indicator-width));--spectrum-menu-item-focus-indicator-color-default:var(--highcontrast-menu-item-focus-indicator-color,var(--mod-menu-item-focus-indicator-color,var(--spectrum-menu-item-focus-indicator-color)));--spectrum-menu-item-focus-indicator-border-width:calc(var(--spectrum-menu-item-focus-indicator-width)*var(--spectrum-menu-item-focus-indicator-direction-scalar,1))}:host([size=s]){--spectrum-menu-item-min-height:var(--spectrum-component-height-75);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-75);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-75);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-75);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-75);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-75);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-75);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-75);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-75);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-50);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-75);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-75);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-small);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-small);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-small);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-small);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-small)}:host([size=l]){--spectrum-menu-item-min-height:var(--spectrum-component-height-200);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-200);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-200);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-200);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-200);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-200);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-200);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-200);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-200);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-100);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-200);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-200);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-large);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-large);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-large);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-large);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-large)}:host([size=xl]){--spectrum-menu-item-min-height:var(--spectrum-component-height-300);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-300);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-300);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-300);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-300);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-300);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-300);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-300);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-300);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-200);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-300);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-300);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-extra-large);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-extra-large);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-extra-large);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-extra-large);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-extra-large)}:host:dir(rtl),:host([dir=rtl]){--spectrum-menu-item-focus-indicator-direction-scalar:-1}:host{inline-size:auto;inline-size:var(--mod-menu-inline-size,auto);box-sizing:border-box;margin:0;padding:0;list-style-type:none;display:inline-block;overflow:auto}:host:lang(ja),:host:lang(ko),:host:lang(zh){--spectrum-menu-item-label-line-height:var(--mod-menu-item-label-line-height-cjk,var(--spectrum-menu-item-label-line-height-cjk));--spectrum-menu-item-description-line-height:var(--mod-menu-item-description-line-height-cjk,var(--spectrum-menu-item-description-line-height-cjk));--spectrum-menu-section-header-line-height:var(--mod-menu-section-header-line-height-cjk,var(--spectrum-menu-section-header-line-height-cjk))}:host([selects]) ::slotted(sp-menu-item){--spectrum-menu-checkmark-display:var(--spectrum-menu-checkmark-display-hidden);padding-inline-start:var(--mod-menu-item-selectable-edge-to-text-not-selected,var(--spectrum-menu-item-selectable-edge-to-text-not-selected))}:host([selects]) ::slotted(sp-menu-item[selected]){--spectrum-menu-checkmark-display:var(--spectrum-menu-checkmark-display-shown);padding-inline-start:var(--mod-menu-item-label-inline-edge-to-content,var(--spectrum-menu-item-label-inline-edge-to-content))}.spectrum-Menu-backIcon{margin-block:var(--mod-menu-back-icon-margin-block,var(--spectrum-menu-back-icon-margin));margin-inline:var(--mod-menu-back-icon-margin-inline,var(--spectrum-menu-back-icon-margin));fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default,var(--spectrum-menu-section-header-color)));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default,var(--spectrum-menu-section-header-color)))}.spectrum-Menu-back:focus-visible{box-shadow:var(--spectrum-menu-item-focus-indicator-shadow)var(--spectrum-menu-item-focus-indicator-border-width)0 0 0 var(--spectrum-menu-item-focus-indicator-color-default);outline:var(--spectrum-menu-item-focus-indicator-width)var(--spectrum-menu-item-focus-indicator-outline-style)var(--spectrum-menu-item-focus-indicator-color-default);outline-offset:var(--spectrum-menu-item-focus-indicator-offset);border-radius:var(--spectrum-menu-item-corner-radius)}.spectrum-Menu-sectionHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-section-header-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));min-inline-size:var(--mod-menu-section-header-min-width,var(--spectrum-menu-section-header-min-width));padding-block-start:var(--mod-menu-section-header-top-edge-to-text,var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));padding-block-end:var(--mod-menu-section-header-bottom-edge-to-text,var(--mod-menu-item-bottom-edge-to-text,var(--spectrum-menu-item-bottom-edge-to-text)));padding-inline:var(--mod-menu-item-label-inline-edge-to-content,var(--spectrum-menu-item-label-inline-edge-to-content));grid-area:sectionHeadingArea/1/sectionHeadingArea/-1;display:block}.spectrum-Menu-back{padding-inline:0 var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:0;padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-back .spectrum-Menu-sectionHeading{padding:0}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}.spectrum-Menu-backButton:focus-visible{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}:host{width:var(--swc-menu-width);flex-direction:column}:host(:focus){outline:none}::slotted(*){flex-shrink:0}\n`;export default t;\n//# sourceMappingURL=menu.css.js.map\n","\"use strict\";var v=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var o=(p,c,e,s)=>{for(var t=s>1?void 0:s?I(c,e):c,i=p.length-1,n;i>=0;i--)(n=p[i])&&(t=(s?n(c,e,t):n(t))||t);return s&&t&&v(c,e,t),t};import{html as b,SizedMixin as g,SpectrumElement as f}from\"@spectrum-web-components/base\";import{property as u,query as E}from\"@spectrum-web-components/base/src/decorators.js\";import S from\"./menu.css.js\";import{RovingTabindexController as y}from\"@spectrum-web-components/reactive-controllers/src/RovingTabindex.js\";export class Menu extends g(f,{noDefaultSize:!0}){constructor(){super();this.label=\"\";this.ignore=!1;this.value=\"\";this.valueSeparator=\",\";this._selected=[];this.selectedItems=[];this.childItemSet=new Set;this.focusedItemIndex=0;this.focusInItemIndex=0;this.shouldSupportDragAndSelect=!1;this.selectedItemsMap=new Map;this.pointerUpTarget=null;this.descendentOverlays=new Map;this.handleSubmenuClosed=e=>{e.stopPropagation(),e.composedPath()[0].dispatchEvent(new Event(\"sp-menu-submenu-closed\",{bubbles:!0,composed:!0}))};this.handleSubmenuOpened=e=>{e.stopPropagation(),e.composedPath()[0].dispatchEvent(new Event(\"sp-menu-submenu-opened\",{bubbles:!0,composed:!0})),e.composedPath().find(i=>this.childItemSet.has(i))};this._hasUpdatedSelectedItemIndex=!1;this._willUpdateItems=!1;this.cacheUpdated=Promise.resolve();this.resolveCacheUpdated=()=>{};!this.rovingTabindexController&&this.controlsRovingTabindex&&(this.rovingTabindexController=new y(this,{direction:\"vertical\",focusInIndex:e=>{let s=-1;const t=e==null?void 0:e.findIndex((i,n)=>(!e[s]&&!i.disabled&&(s=n),i.selected&&!i.disabled));return e&&t&&e[t]?t:s},elements:()=>this.childItems,isFocusableElement:this.isFocusableElement.bind(this),hostDelegatesFocus:!0})),this.addEventListener(\"sp-menu-item-added-or-updated\",this.onSelectableItemAddedOrUpdated),this.addEventListener(\"sp-menu-item-added-or-updated\",this.onFocusableItemAddedOrUpdated,{capture:!0}),this.addEventListener(\"click\",this.handleClick),this.addEventListener(\"touchend\",this.handlePointerup),this.addEventListener(\"focusout\",this.handleFocusout),this.addEventListener(\"sp-menu-item-keydown\",this.handleKeydown),this.addEventListener(\"pointerup\",this.handlePointerup),this.addEventListener(\"sp-opened\",this.handleSubmenuOpened),this.addEventListener(\"sp-closed\",this.handleSubmenuClosed)}static get styles(){return[S]}get isSubmenu(){return this.slot===\"submenu\"}get selected(){return this.selects?this._selected:[]}set selected(e){if(e===this.selected)return;const s=this.selected;this._selected=e,this.selectedItems=[],this.selectedItemsMap.clear(),this.childItems.forEach(t=>{this===t.menuData.selectionRoot&&(t.selected=this.selected.includes(t.value),t.selected&&(this.selectedItems.push(t),this.selectedItemsMap.set(t,!0)))}),this.requestUpdate(\"selected\",s)}get focusInItem(){var e;return(e=this.rovingTabindexController)==null?void 0:e.focusInElement}get controlsRovingTabindex(){return!0}get childItems(){return this.cachedChildItems||(this.cachedChildItems=this.updateCachedMenuItems()),this.cachedChildItems}updateCachedMenuItems(){var t;if(!this.menuSlot)return[];const e=[],s=this.menuSlot.assignedElements({flatten:!0});for(const[i,n]of s.entries()){if(this.childItemSet.has(n)){e.push(n);continue}const d=n.localName===\"slot\"?n.assignedElements({flatten:!0}):[...n.querySelectorAll(\":scope > *\")];s.splice(i,1,n,...d)}return this.cachedChildItems=[...e],(t=this.rovingTabindexController)==null||t.clearElementCache(),this.cachedChildItems}get childRole(){if(this.resolvedRole===\"listbox\")return\"option\";switch(this.resolvedSelects){case\"single\":return\"menuitemradio\";case\"multiple\":return\"menuitemcheckbox\";default:return\"menuitem\"}}get ownRole(){return\"menu\"}onFocusableItemAddedOrUpdated(e){e.menuCascade.set(this,{hadFocusRoot:!!e.item.menuData.focusRoot,ancestorWithSelects:e.currentAncestorWithSelects}),this.selects&&(e.currentAncestorWithSelects=this),e.item.menuData.focusRoot=e.item.menuData.focusRoot||this}onSelectableItemAddedOrUpdated(e){var i,n;if(!e.menuCascade.get(this))return;if(e.item.menuData.parentMenu=e.item.menuData.parentMenu||this,this.addChildItem(e.item),this.selects===\"inherit\"){this.resolvedSelects=\"inherit\";const l=(i=e.currentAncestorWithSelects)==null?void 0:i.ignore;this.resolvedRole=l?\"none\":((n=e.currentAncestorWithSelects)==null?void 0:n.getAttribute(\"role\"))||this.getAttribute(\"role\")||void 0}else this.selects?(this.resolvedRole=this.ignore?\"none\":this.getAttribute(\"role\")||void 0,this.resolvedSelects=this.selects):(this.resolvedRole=this.ignore?\"none\":this.getAttribute(\"role\")||void 0,this.resolvedSelects=this.resolvedRole===\"none\"?\"ignore\":\"none\");if(this.resolvedRole===\"none\")return;const t=this.resolvedSelects===\"single\"||this.resolvedSelects===\"multiple\";e.item.menuData.cleanupSteps.push(l=>this.removeChildItem(l)),(t||!this.selects&&this.resolvedSelects!==\"ignore\")&&!e.item.menuData.selectionRoot&&(e.item.setRole(this.childRole),e.item.menuData.selectionRoot=e.item.menuData.selectionRoot||this,e.item.selected&&(this.selectedItemsMap.set(e.item,!0),this.selectedItems=[...this.selectedItems,e.item],this._selected=[...this.selected,e.item.value],this.value=this.selected.join(this.valueSeparator)))}addChildItem(e){this.childItemSet.add(e),this.handleItemsChanged()}async removeChildItem(e){(e.focused||e.hasAttribute(\"focused\")||e.active)&&(this._updateFocus=this.getNeighboringFocusableElement(e)),this.childItemSet.delete(e),this.cachedChildItems=void 0}focusOnFirstSelectedItem({preventScroll:e}={}){var t;if(!this.rovingTabindexController)return;const s=this.selectedItems.find(i=>this.isFocusableElement(i));if(!s){this.focus({preventScroll:e});return}s&&!e&&s.scrollIntoView({block:\"nearest\"}),(t=this.rovingTabindexController)==null||t.focusOnItem(s)}focus({preventScroll:e}={}){if(this.rovingTabindexController){if(!this.childItems.length||this.childItems.every(s=>s.disabled))return;if(this.childItems.some(s=>s.menuData.focusRoot!==this)){super.focus({preventScroll:e});return}this.rovingTabindexController.focus({preventScroll:e})}}handleFocusout(){var e;this.matches(\":focus-within\")||(e=this.rovingTabindexController)==null||e.reset()}handleClick(e){if(this.pointerUpTarget===e.target){this.pointerUpTarget=null;return}this.handlePointerBasedSelection(e)}handlePointerup(e){this.shouldSupportDragAndSelect&&(this.pointerUpTarget=e.target,this.handlePointerBasedSelection(e))}async handlePointerBasedSelection(e){var i,n;if(e instanceof MouseEvent&&e.button!==0)return;const t=e.composedPath().find(l=>l instanceof Element?l.getAttribute(\"role\")===this.childRole:!1);if(e.defaultPrevented){const l=this.childItems.indexOf(t);((i=t==null?void 0:t.menuData)==null?void 0:i.focusRoot)===this&&l>-1&&(this.focusedItemIndex=l);return}if(t!=null&&t.href&&t.href.length){this.dispatchEvent(new Event(\"change\",{bubbles:!0,composed:!0}));return}else if(((n=t==null?void 0:t.menuData)==null?void 0:n.selectionRoot)===this&&this.childItems.length){if(e.preventDefault(),t.hasSubmenu||t.open)return;this.selectOrToggleItem(t)}else return;this.prepareToCleanUp()}handleDescendentOverlayOpened(e){const s=e.composedPath()[0];s.overlayElement&&this.descendentOverlays.set(s.overlayElement,s.overlayElement)}handleDescendentOverlayClosed(e){const s=e.composedPath()[0];s.overlayElement&&this.descendentOverlays.delete(s.overlayElement)}getNeighboringFocusableElement(e,s=!1){var d;const t=s?-1:1,i=((d=this.rovingTabindexController)==null?void 0:d.elements)||[],n=e?i.indexOf(e):-1;let l=Math.min(Math.max(0,n+t),i.length-1);for(;!this.isFocusableElement(i[l])&&0<l&&l<i.length-1;)l+=t;return this.isFocusableElement(i[l])?i[l]:e||i[0]}async selectOrToggleItem(e){var a;const s=this.resolvedSelects,t=new Map(this.selectedItemsMap),i=this.selected.slice(),n=this.selectedItems.slice(),l=this.value;if(e.menuData.selectionRoot!==this)return;if(s===\"multiple\"){this.selectedItemsMap.has(e)?this.selectedItemsMap.delete(e):this.selectedItemsMap.set(e,!0);const r=[],m=[];this.childItemSet.forEach(h=>{h.menuData.selectionRoot===this&&this.selectedItemsMap.has(h)&&(r.push(h.value),m.push(h))}),this._selected=r,this.selectedItems=m,this.value=this.selected.join(this.valueSeparator)}else this.selectedItemsMap.clear(),this.selectedItemsMap.set(e,!0),this.value=e.value,this._selected=[e.value],this.selectedItems=[e];if(!this.dispatchEvent(new Event(\"change\",{cancelable:!0,bubbles:!0,composed:!0}))){this._selected=i,this.selectedItems=n,this.selectedItemsMap=t,this.value=l;return}if(s===\"single\"){for(const r of t.keys())r!==e&&(r.selected=!1);e.selected=!0}else s===\"multiple\"?e.selected=!e.selected:!e.hasSubmenu&&((a=e==null?void 0:e.menuData)==null?void 0:a.focusRoot)===this&&this.dispatchEvent(new Event(\"close\",{bubbles:!0}))}navigateBetweenRelatedMenus(e){const{key:s,root:t}=e,i=this.isLTR&&s===\"ArrowRight\"||!this.isLTR&&s===\"ArrowLeft\",n=this.isLTR&&s===\"ArrowLeft\"||!this.isLTR&&s===\"ArrowRight\"||s===\"Escape\",l=t;i?l!=null&&l.hasSubmenu&&(e.stopPropagation(),l.openOverlay(!0)):n&&this.isSubmenu&&(e.stopPropagation(),this.dispatchEvent(new Event(\"close\",{bubbles:!0})),this.updateSelectedItemIndex())}handleKeydown(e){var d;if(e.defaultPrevented||!this.rovingTabindexController)return;const{key:s,root:t,shiftKey:i,target:n}=e,l=[\"Enter\",\" \"].includes(s);if(i&&n!==this&&this.hasAttribute(\"tabindex\")){this.removeAttribute(\"tabindex\");const a=r=>{!r.shiftKey&&!this.hasAttribute(\"tabindex\")&&(document.removeEventListener(\"keyup\",a),this.removeEventListener(\"focusout\",a))};document.addEventListener(\"keyup\",a),this.addEventListener(\"focusout\",a)}if(s===\"Tab\"){this.closeDescendentOverlays();return}if(l&&(t!=null&&t.hasSubmenu)&&!t.open){e.preventDefault(),t.openOverlay(!0);return}if(s===\" \"||s===\"Enter\"){e.preventDefault(),(d=t==null?void 0:t.focusElement)==null||d.click(),t&&this.selectOrToggleItem(t);return}this.navigateBetweenRelatedMenus(e)}prepareToCleanUp(){document.addEventListener(\"focusout\",()=>{requestAnimationFrame(()=>{const e=this.focusInItem;e&&(e.focused=!1)})},{once:!0})}updateSelectedItemIndex(){let e=0;const s=new Map,t=[],i=[];let n=this.childItems.length;for(;n;){n-=1;const l=this.childItems[n];l.menuData.selectionRoot===this&&((l.selected||!this._hasUpdatedSelectedItemIndex&&this.selected.includes(l.value))&&(e=n,s.set(l,!0),t.unshift(l.value),i.unshift(l)),n!==e&&(l.focused=!1))}this.selectedItemsMap=s,this._selected=t,this.selectedItems=i,this.value=this.selected.join(this.valueSeparator),this.focusedItemIndex=e,this.focusInItemIndex=e}handleItemsChanged(){this.cachedChildItems=void 0,this._willUpdateItems||(this._willUpdateItems=!0,this.cacheUpdated=this.updateCache())}async updateCache(){this.hasUpdated?await new Promise(e=>requestAnimationFrame(()=>e(!0))):await Promise.all([new Promise(e=>requestAnimationFrame(()=>e(!0))),this.updateComplete]),this.cachedChildItems===void 0&&(this.updateSelectedItemIndex(),this.updateItemFocus()),this._willUpdateItems=!1}updateItemFocus(){var e;(e=this.focusInItem)==null||e.setAttribute(\"tabindex\",\"0\"),this.childItems.length!=0}closeDescendentOverlays(){this.descendentOverlays.forEach(e=>{e.open=!1}),this.descendentOverlays=new Map}handleSlotchange({target:e}){var t;const s=e.assignedElements({flatten:!0});this.childItems.length!==s.length&&s.forEach(i=>{typeof i.triggerUpdate!=\"undefined\"?i.triggerUpdate():typeof i.childItems!=\"undefined\"&&i.childItems.forEach(n=>{n.triggerUpdate()})}),this._updateFocus&&((t=this.rovingTabindexController)==null||t.focusOnItem(this._updateFocus),this._updateFocus=void 0)}renderMenuItemSlot(){return b`\n            <slot\n                @sp-menu-submenu-opened=${this.handleDescendentOverlayOpened}\n                @sp-menu-submenu-closed=${this.handleDescendentOverlayClosed}\n                @slotchange=${this.handleSlotchange}\n            ></slot>\n        `}render(){return this.renderMenuItemSlot()}firstUpdated(e){super.firstUpdated(e);const s=[new Promise(t=>requestAnimationFrame(()=>t(!0)))];[...this.children].forEach(t=>{t.localName===\"sp-menu-item\"&&s.push(t.updateComplete)}),this.childItemsUpdated=Promise.all(s)}updated(e){super.updated(e),e.has(\"selects\")&&this.hasUpdated&&this.selectsChanged(),e.has(\"label\")&&(this.label||typeof e.get(\"label\")!=\"undefined\")&&(this.label?this.setAttribute(\"aria-label\",this.label):this.removeAttribute(\"aria-label\"))}selectsChanged(){const e=[new Promise(s=>requestAnimationFrame(()=>s(!0)))];this.childItemSet.forEach(s=>{e.push(s.triggerUpdate())}),this.childItemsUpdated=Promise.all(e)}connectedCallback(){super.connectedCallback(),!this.hasAttribute(\"role\")&&!this.ignore&&this.setAttribute(\"role\",this.ownRole),this.updateComplete.then(()=>this.updateItemFocus())}isFocusableElement(e){return e?!e.disabled:!1}disconnectedCallback(){this.cachedChildItems=void 0,this.selectedItems=[],this.selectedItemsMap.clear(),this.childItemSet.clear(),this.descendentOverlays=new Map,super.disconnectedCallback()}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.childItemsUpdated,await this.cacheUpdated,e}}Menu.shadowRootOptions={...f.shadowRootOptions,delegatesFocus:!0},o([u({type:String,reflect:!0})],Menu.prototype,\"label\",2),o([u({type:Boolean,reflect:!0})],Menu.prototype,\"ignore\",2),o([u({type:String,reflect:!0})],Menu.prototype,\"selects\",2),o([u({type:String})],Menu.prototype,\"value\",2),o([u({type:String,attribute:\"value-separator\"})],Menu.prototype,\"valueSeparator\",2),o([u({attribute:!1})],Menu.prototype,\"selected\",1),o([u({attribute:!1})],Menu.prototype,\"selectedItems\",2),o([E(\"slot:not([name])\")],Menu.prototype,\"menuSlot\",2);\n//# sourceMappingURL=Menu.js.map\n","\"use strict\";import{Menu as e}from\"./src/Menu.js\";import{defineElement as m}from\"@spectrum-web-components/base/src/define-element.js\";m(\"sp-menu\",e);\n//# sourceMappingURL=sp-menu.js.map\n","\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const o=e`\n    .checkmark{display:var(--mod-menu-checkmark-display,var(--spectrum-menu-checkmark-display));block-size:var(--mod-menu-item-checkmark-height,var(--spectrum-menu-item-checkmark-height));inline-size:var(--mod-menu-item-checkmark-width,var(--spectrum-menu-item-checkmark-width));fill:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-default,var(--spectrum-menu-checkmark-icon-color-default)));color:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-default,var(--spectrum-menu-checkmark-icon-color-default)));opacity:1;grid-area:checkmarkArea;align-self:start;margin-block-start:calc(var(--mod-menu-item-top-to-checkmark,var(--spectrum-menu-item-top-to-checkmark)) - var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}.spectrum-Menu-back:focus-visible{box-shadow:var(--spectrum-menu-item-focus-indicator-shadow)var(--spectrum-menu-item-focus-indicator-border-width)0 0 0 var(--spectrum-menu-item-focus-indicator-color-default);outline:var(--spectrum-menu-item-focus-indicator-width)var(--spectrum-menu-item-focus-indicator-outline-style)var(--spectrum-menu-item-focus-indicator-color-default);outline-offset:var(--spectrum-menu-item-focus-indicator-offset);border-radius:var(--spectrum-menu-item-corner-radius)}.spectrum-Menu-back{padding-inline:0 var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:0;padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}.spectrum-Menu-backButton:focus-visible{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}.chevron{block-size:var(--spectrum-menu-item-checkmark-height);inline-size:var(--spectrum-menu-item-checkmark-width);grid-area:chevronArea;align-self:center;margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}.spectrum-Menu-back:focus-visible{box-shadow:var(--spectrum-menu-item-focus-indicator-shadow)var(--spectrum-menu-item-focus-indicator-border-width)0 0 0 var(--spectrum-menu-item-focus-indicator-color-default);outline:var(--spectrum-menu-item-focus-indicator-width)var(--spectrum-menu-item-focus-indicator-outline-style)var(--spectrum-menu-item-focus-indicator-color-default);outline-offset:var(--spectrum-menu-item-focus-indicator-offset);border-radius:var(--spectrum-menu-item-corner-radius)}.spectrum-Menu-back{padding-inline:0 var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:0;padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}.spectrum-Menu-backButton:focus-visible{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}::slotted([slot=icon]){fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-label-icon-color-default,var(--spectrum-menu-item-label-icon-color-default)));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-label-icon-color-default,var(--spectrum-menu-item-label-icon-color-default)));grid-area:iconArea;align-self:start}::slotted([slot=icon]){margin-inline-end:var(--mod-menu-item-label-text-to-visual,var(--spectrum-menu-item-label-text-to-visual))}:host{cursor:pointer;border-radius:var(--spectrum-menu-item-corner-radius);box-sizing:border-box;background-color:var(--highcontrast-menu-item-background-color-default,var(--mod-menu-item-background-color-default,var(--spectrum-menu-item-background-color-default)));line-height:var(--mod-menu-item-label-line-height,var(--spectrum-menu-item-label-line-height));min-block-size:var(--mod-menu-item-min-height,var(--spectrum-menu-item-min-height));padding-block-start:var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text));padding-block-end:var(--mod-menu-item-bottom-edge-to-text,var(--spectrum-menu-item-bottom-edge-to-text));padding-inline:var(--mod-menu-item-label-inline-edge-to-content,var(--spectrum-menu-item-label-inline-edge-to-content));margin:calc((var(--spectrum-menu-item-focus-indicator-offset) + var(--spectrum-menu-item-focus-indicator-width))*var(--spectrum-menu-item-spacing-multiplier));grid-template:\".chevronAreaCollapsible.headingIconArea sectionHeadingArea. . .\"1fr\"selectedArea chevronAreaCollapsible checkmarkArea iconArea labelArea valueArea actionsArea chevronAreaDrillIn\"\". . . .descriptionArea. . .\"\". . . .submenuArea. . .\"/auto auto auto auto 1fr auto auto auto;align-items:center;-webkit-text-decoration:none;text-decoration:none;display:grid;position:relative}.spectrum-Menu-itemCheckbox{--mod-checkbox-top-to-text:0;--mod-checkbox-text-to-control:0;min-block-size:0}.spectrum-Menu-itemCheckbox .spectrum-Checkbox-box{margin-block-start:var(--mod-menu-item-top-to-checkbox,var(--spectrum-menu-item-top-to-checkbox));margin-block-end:0;margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}.spectrum-Menu-itemSwitch{min-block-size:0}.spectrum-Menu-itemSwitch .spectrum-Switch-switch{margin-block-start:var(--mod-menu-item-top-to-action,var(--spectrum-menu-item-top-to-action));margin-block-end:0}#label{grid-area:submenuItemLabelArea}::slotted([slot=value]){grid-area:submenuItemValueArea}:host([focused]),:host(:focus){background-color:var(--highcontrast-menu-item-background-color-focus,var(--mod-menu-item-background-color-key-focus,var(--spectrum-menu-item-background-color-key-focus)));outline:none}:host([focused])>#label,:host(:focus)>#label{color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-content-color-focus,var(--spectrum-menu-item-label-content-color-focus)))}:host([focused])>[name=description]::slotted(*),:host(:focus)>[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-description-color-focus,var(--spectrum-menu-item-description-color-focus)))}:host([focused])>::slotted([slot=value]),:host(:focus)>::slotted([slot=value]){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-value-color-focus,var(--spectrum-menu-item-value-color-focus)))}:host([focused])>.icon:not(.chevron,.checkmark),:host(:focus)>.icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-focus,var(--spectrum-menu-item-label-icon-color-focus)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-focus,var(--spectrum-menu-item-label-icon-color-focus)))}:host([focused])>.chevron,:host(:focus)>.chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)))}:host([focused])>.checkmark,:host(:focus)>.checkmark{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-focus,var(--spectrum-menu-checkmark-icon-color-focus)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-focus,var(--spectrum-menu-checkmark-icon-color-focus)))}:host(:is(:active,[active])){background-color:var(--highcontrast-menu-item-background-color-focus,var(--mod-menu-item-background-color-down,var(--spectrum-menu-item-background-color-down)))}:host(:is(:active,[active]))>#label{color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-content-color-down,var(--spectrum-menu-item-label-content-color-down)))}:host(:is(:active,[active]))>[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-description-color-down,var(--spectrum-menu-item-description-color-down)))}:host(:is(:active,[active]))>::slotted([slot=value]){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-value-color-down,var(--spectrum-menu-item-value-color-down)))}:host(:is(:active,[active]))>.icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-down,var(--spectrum-menu-item-label-icon-color-down)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-down,var(--spectrum-menu-item-label-icon-color-down)))}:host(:is(:active,[active]))>.chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)))}:host(:is(:active,[active]))>.checkmark{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-down,var(--spectrum-menu-checkmark-icon-color-down)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-down,var(--spectrum-menu-checkmark-icon-color-down)))}:host([disabled]),:host([aria-disabled=true]){background-color:initial}:host([disabled]) #label,:host([disabled]) ::slotted([slot=value]),:host([aria-disabled=true]) #label,:host([aria-disabled=true]) ::slotted([slot=value]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-content-color-disabled,var(--spectrum-menu-item-label-content-color-disabled)))}:host([disabled]) [name=description]::slotted(*),:host([aria-disabled=true]) [name=description]::slotted(*){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-description-color-disabled,var(--spectrum-menu-item-description-color-disabled)))}:host([disabled]) ::slotted([slot=icon]),:host([aria-disabled=true]) ::slotted([slot=icon]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)));fill:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}:host([focused]) .spectrum-Menu-back,:host([focused]){box-shadow:var(--spectrum-menu-item-focus-indicator-shadow)var(--spectrum-menu-item-focus-indicator-border-width)0 0 0 var(--spectrum-menu-item-focus-indicator-color-default);outline:var(--spectrum-menu-item-focus-indicator-width)var(--spectrum-menu-item-focus-indicator-outline-style)var(--spectrum-menu-item-focus-indicator-color-default);outline-offset:var(--spectrum-menu-item-focus-indicator-offset);border-radius:var(--spectrum-menu-item-corner-radius)}.spectrum-Menu-itemSelection{grid-area:selectedArea}#label{--mod-switch-control-label-spacing:0;--mod-switch-spacing-top-to-label:0;font-size:var(--mod-menu-item-label-font-size,var(--spectrum-menu-item-label-font-size));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-label-content-color-default,var(--spectrum-menu-item-label-content-color-default)));hyphens:auto;overflow-wrap:break-word;grid-area:labelArea}::slotted([slot=value]){color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-value-color-default,var(--spectrum-menu-item-value-color-default)));font-size:var(--mod-menu-item-label-font-size,var(--spectrum-menu-item-label-font-size));grid-area:valueArea;justify-self:end}.spectrum-Menu-itemActions,::slotted([slot=value]){align-self:start;margin-inline-start:var(--mod-menu-item-label-to-value-area-min-spacing,var(--spectrum-menu-item-label-to-value-area-min-spacing))}.spectrum-Menu-itemActions{grid-area:actionsArea}[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-description-color-default,var(--spectrum-menu-item-description-color-default)));font-size:var(--mod-menu-item-description-font-size,var(--spectrum-menu-item-description-font-size));hyphens:auto;overflow-wrap:break-word;line-height:var(--mod-menu-item-description-line-height,var(--spectrum-menu-item-description-line-height));grid-area:descriptionArea;margin-block-start:var(--mod-menu-item-label-to-description-spacing,var(--spectrum-menu-item-label-to-description-spacing))}:host([no-wrap]) #label{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.spectrum-Menu-item--collapsible.is-open{padding-block-end:0}.spectrum-Menu-item--collapsible.is-open .chevron{transform:rotate(90deg)}:host([focused]) .spectrum-Menu-item--collapsible.is-open,:host(:is(:active,[active])) .spectrum-Menu-item--collapsible.is-open,.spectrum-Menu-item--collapsible.is-open:focus{background-color:var(--highcontrast-menu-item-background-color-default,var(--mod-menu-item-background-color-default,var(--spectrum-menu-item-background-color-default)))}.spectrum-Menu-item--collapsible ::slotted([slot=icon]){grid-area:headingIconArea}.spectrum-Menu-item--collapsible>::slotted([slot=icon]){padding-block-start:var(--mod-menu-section-header-top-edge-to-text,var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));padding-block-end:var(--mod-menu-section-header-bottom-edge-to-text,var(--mod-menu-item-bottom-edge-to-text,var(--spectrum-menu-item-bottom-edge-to-text)))}.spectrum-Menu-item--collapsible .chevron{grid-area:chevronAreaCollapsible}:host([has-submenu]) .chevron{fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-drillin-icon-color-default,var(--spectrum-menu-drillin-icon-color-default)));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-drillin-icon-color-default,var(--spectrum-menu-drillin-icon-color-default)));grid-area:chevronAreaDrillIn;margin-inline-start:var(--mod-menu-item-label-to-value-area-min-spacing,var(--spectrum-menu-item-label-to-value-area-min-spacing));margin-inline-end:0}:host([has-submenu]) .is-open{--spectrum-menu-item-background-color-default:var(--highcontrast-menu-item-selected-background-color,var(--mod-menu-item-background-color-hover,var(--spectrum-menu-item-background-color-hover)))}:host([has-submenu]) .is-open .icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)))}:host([has-submenu]) .is-open .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)))}:host([has-submenu]) .is-open .checkmark{fill:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)));color:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)))}@media (hover:hover){:host(:hover){background-color:var(--highcontrast-menu-item-background-color-focus,var(--mod-menu-item-background-color-hover,var(--spectrum-menu-item-background-color-hover)))}:host(:hover)>#label{color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-content-color-hover,var(--spectrum-menu-item-label-content-color-hover)))}:host(:hover)>[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-description-color-hover,var(--spectrum-menu-item-description-color-hover)))}:host(:hover)>::slotted([slot=value]){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-value-color-hover,var(--spectrum-menu-item-value-color-hover)))}:host(:hover)>.icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)))}:host(:hover)>.chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)))}:host(:hover)>.checkmark{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)))}:host([disabled]:hover),:host([aria-disabled=true]:hover){cursor:default;background-color:initial}:host([disabled]:hover) #label,:host([disabled]:hover) ::slotted([slot=value]),:host([aria-disabled=true]:hover) #label,:host([aria-disabled=true]:hover) ::slotted([slot=value]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-content-color-disabled,var(--spectrum-menu-item-label-content-color-disabled)))}:host([disabled]:hover) [name=description]::slotted(*),:host([aria-disabled=true]:hover) [name=description]::slotted(*){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-description-color-disabled,var(--spectrum-menu-item-description-color-disabled)))}:host([disabled]:hover) ::slotted([slot=icon]),:host([aria-disabled=true]:hover) ::slotted([slot=icon]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)));fill:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}.spectrum-Menu-item--collapsible.is-open:hover{background-color:var(--highcontrast-menu-item-background-color-default,var(--mod-menu-item-background-color-default,var(--spectrum-menu-item-background-color-default)))}:host([has-submenu]:hover) .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)))}}:host([has-submenu][focused]) .chevron,:host([has-submenu]:focus) .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-focus,var(--spectrum-menu-drillin-icon-color-focus)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-focus,var(--spectrum-menu-drillin-icon-color-focus)))}:host([has-submenu]:is(:active,[active])) .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-down,var(--spectrum-menu-drillin-icon-color-down)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-down,var(--spectrum-menu-drillin-icon-color-down)))}.spectrum-Menu-back{padding-inline:0 var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:0;padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}:host([focused]) .spectrum-Menu-backButton{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}:host{text-align:initial}:host([hidden]){display:none}:host([disabled]){pointer-events:none}:host([disabled]) [name=value]::slotted(*){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}:host([has-submenu][disabled]) .chevron{color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}#button{position:absolute;inset:0}:host([dir=ltr]) [icon-only]::slotted(:last-of-type){margin-right:auto}:host([dir=rtl]) [icon-only]::slotted(:last-of-type){margin-left:auto}@media (forced-colors:active){:host{forced-color-adjust:none}}::slotted([slot=submenu]){width:max-content;max-width:100%;overflow-y:auto}:host([no-wrap]) #label{display:block}:host([focused]:not(:focus-visible)){box-shadow:none;outline:none}\n`;export default o;\n//# sourceMappingURL=menu-item.css.js.map\n","\"use strict\";var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var r=(a,i,e,t)=>{for(var n=t>1?void 0:t?p(i,e):i,s=a.length-1,d;s>=0;s--)(d=a[s])&&(n=(t?d(i,e,n):d(n))||n);return t&&n&&c(i,e,n),n};import{html as l,nothing as h}from\"@spectrum-web-components/base\";import{ObserveSlotPresence as m,ObserveSlotText as v,randomID as b}from\"@spectrum-web-components/shared\";import{property as o,query as u}from\"@spectrum-web-components/base/src/decorators.js\";import\"@spectrum-web-components/icons-ui/icons/sp-icon-checkmark100.js\";import{LikeAnchor as f}from\"@spectrum-web-components/shared/src/like-anchor.js\";import{Focusable as E}from\"@spectrum-web-components/shared/src/focusable.js\";import\"@spectrum-web-components/icons-ui/icons/sp-icon-chevron100.js\";import y from\"@spectrum-web-components/icon/src/spectrum-icon-chevron.css.js\";import{DependencyManagerController as g}from\"@spectrum-web-components/reactive-controllers/src/DependencyManger.js\";import S from\"./menu-item.css.js\";import C from\"@spectrum-web-components/icon/src/spectrum-icon-checkmark.css.js\";import{MutationController as M}from\"@lit-labs/observers/mutation-controller.js\";import{SlottableRequestEvent as L}from\"@spectrum-web-components/overlay/src/slottable-request-event.js\";const k=100;export class MenuItemAddedOrUpdatedEvent extends Event{constructor(e){super(\"sp-menu-item-added-or-updated\",{bubbles:!0,composed:!0});this.menuCascade=new WeakMap;this.clear(e)}clear(e){this._item=e,this.currentAncestorWithSelects=void 0,e.menuData={cleanupSteps:[],focusRoot:void 0,selectionRoot:void 0,parentMenu:void 0},this.menuCascade=new WeakMap}get item(){return this._item}}export class MenuItemKeydownEvent extends KeyboardEvent{constructor({root:i,event:e}){super(\"sp-menu-item-keydown\",{bubbles:!0,composed:!0}),this.root=i,this._event=e}get altKey(){var i;return((i=this._event)==null?void 0:i.altKey)||!1}get code(){var i;return((i=this._event)==null?void 0:i.code)||\"\"}get ctrlKey(){var i;return((i=this._event)==null?void 0:i.ctrlKey)||!1}get isComposing(){var i;return((i=this._event)==null?void 0:i.isComposing)||!1}get key(){var i;return((i=this._event)==null?void 0:i.key)||\"\"}get location(){var i;return((i=this._event)==null?void 0:i.location)||0}get metaKey(){var i;return((i=this._event)==null?void 0:i.metaKey)||!1}get repeat(){var i;return((i=this._event)==null?void 0:i.repeat)||!1}get shiftKey(){var i;return((i=this._event)==null?void 0:i.shiftKey)||!1}}export class MenuItem extends f(v(m(E,'[slot=\"icon\"]'))){constructor(){super();this.active=!1;this.dependencyManager=new g(this);this.focused=!1;this.selected=!1;this._value=\"\";this.hasSubmenu=!1;this.noWrap=!1;this.open=!1;this._openedViaKeyboard=!1;this._closedViaPointer=!1;this.handleSlottableRequest=e=>{var t;(t=this.submenuElement)==null||t.dispatchEvent(new L(e.name,e.data))};this.proxyFocus=()=>{this.focus()};this.handleKeydown=e=>{const{target:t,key:n}=e,s=this.hasSubmenu&&!this.open&&[\" \",\"Enter\"].includes(n);t===this&&(([\"ArrowLeft\",\"ArrowRight\",\"Escape\"].includes(n)||s)&&e.preventDefault(),this.dispatchEvent(new MenuItemKeydownEvent({root:this,event:e})))};this.handleBeforetoggle=e=>{e.newState===\"closed\"&&(this.open=!0,this.overlayElement.manuallyKeepOpen(),this.overlayElement.removeEventListener(\"beforetoggle\",this.handleBeforetoggle))};this.recentlyLeftChild=!1;this.willDispatchUpdate=!1;this.menuData={focusRoot:void 0,parentMenu:void 0,selectionRoot:void 0,cleanupSteps:[]};this.addEventListener(\"click\",this.handleClickCapture,{capture:!0}),this.addEventListener(\"focus\",this.handleFocus),this.addEventListener(\"blur\",this.handleBlur),new M(this,{config:{characterData:!0,childList:!0,subtree:!0,attributeFilter:[\"src\"]},callback:e=>{e.every(n=>n.target.slot===\"submenu\")||this.breakItemChildrenCache()}})}static get styles(){return[S,C,y]}get value(){return this._value||this.itemText}set value(e){e!==this._value&&(this._value=e||\"\",this._value?this.setAttribute(\"value\",this._value):this.removeAttribute(\"value\"))}get itemText(){return this.itemChildren.content.reduce((e,t)=>e+(t.textContent||\"\").trim(),\"\")}get focusElement(){return this}get hasIcon(){return this.slotContentIsPresent}get itemChildren(){if(!this.iconSlot||!this.contentSlot)return{icon:[],content:[]};if(this._itemChildren)return this._itemChildren;const e=this.iconSlot.assignedElements().map(n=>{const s=n.cloneNode(!0);return s.removeAttribute(\"slot\"),s.classList.toggle(\"icon\"),s}),t=this.contentSlot.assignedNodes().map(n=>n.cloneNode(!0));return this._itemChildren={icon:e,content:t},this._itemChildren}handleClickCapture(e){if(this.disabled)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1;this.shouldProxyClick()}shouldProxyClick(){let e=!1;return this.anchorElement&&(this.anchorElement.click(),e=!0),e}breakItemChildrenCache(){this._itemChildren=void 0,this.triggerUpdate()}renderSubmenu(){const e=l`\n            <slot\n                name=\"submenu\"\n                @slotchange=${this.manageSubmenu}\n                @sp-menu-item-added-or-updated=${{handleEvent:t=>{t.clear(t.item)},capture:!0}}\n                @focusin=${t=>t.stopPropagation()}\n            ></slot>\n        `;return this.hasSubmenu?(this.dependencyManager.add(\"sp-overlay\"),this.dependencyManager.add(\"sp-popover\"),import(\"@spectrum-web-components/overlay/sp-overlay.js\"),import(\"@spectrum-web-components/popover/sp-popover.js\"),l`\n            <sp-overlay\n                receives-focus=\"false\"\n                .triggerElement=${this}\n                ?disabled=${!this.hasSubmenu}\n                ?open=${this.hasSubmenu&&this.open&&this.dependencyManager.loaded}\n                .placement=${this.isLTR?\"right-start\":\"left-start\"}\n                receives-focus=\"false\"\n                .offset=${[-10,-5]}\n                .type=${\"auto\"}\n                @close=${t=>t.stopPropagation()}\n                @slottable-request=${this.handleSlottableRequest}\n            >\n                <sp-popover\n                    @change=${t=>{this.handleSubmenuChange(t),this.open=!1}}\n                    @pointerenter=${this.handleSubmenuPointerenter}\n                    @pointerleave=${this.handleSubmenuPointerleave}\n                    @sp-menu-item-added-or-updated=${t=>t.stopPropagation()}\n                >\n                    ${e}\n                </sp-popover>\n            </sp-overlay>\n            <sp-icon-chevron100\n                class=\"spectrum-UIIcon-ChevronRight100 chevron icon\"\n            ></sp-icon-chevron100>\n        `):e}render(){return l`\n            ${this.selected?l`\n                      <sp-icon-checkmark100\n                          id=\"selected\"\n                          class=\"spectrum-UIIcon-Checkmark100 \n                            icon \n                            checkmark\n                            ${this.hasIcon?\"checkmark--withAdjacentIcon\":\"\"}\"\n                      ></sp-icon-checkmark100>\n                  `:h}\n            <slot name=\"icon\"></slot>\n            <div id=\"label\">\n                <slot id=\"slot\"></slot>\n            </div>\n            <slot name=\"description\"></slot>\n            <slot name=\"value\"></slot>\n            ${this.href&&this.href.length>0?super.renderAnchor({id:\"button\",ariaHidden:!0,className:\"button anchor hidden\"}):h}\n            ${this.renderSubmenu()}\n        `}manageSubmenu(e){this.submenuElement=e.target.assignedElements({flatten:!0})[0],this.hasSubmenu=!!this.submenuElement,this.hasSubmenu&&this.setAttribute(\"aria-haspopup\",\"true\")}handlePointerdown(e){e.target===this&&this.hasSubmenu&&this.open&&(this.addEventListener(\"focus\",this.handleSubmenuFocus,{once:!0}),this.overlayElement.addEventListener(\"beforetoggle\",this.handleBeforetoggle))}firstUpdated(e){super.firstUpdated(e),this.setAttribute(\"tabindex\",\"-1\"),this.addEventListener(\"keydown\",this.handleKeydown),this.addEventListener(\"mouseover\",this.handleMouseover),this.addEventListener(\"pointerdown\",this.handlePointerdown),this.addEventListener(\"pointerenter\",this.closeOverlaysForRoot),this.hasAttribute(\"id\")||(this.id=`sp-menu-item-${b()}`)}handleMouseover(e){e.target===this&&(this.focus(),this.focused=!1)}closeOverlaysForRoot(){var e;this.open||(e=this.menuData.parentMenu)==null||e.closeDescendentOverlays()}handleFocus(e){const{target:t}=e;t===this&&(this.focused=!0)}handleBlur(e){const{target:t}=e;t===this&&(this.focused=!1)}handleSubmenuClick(e){e.composedPath().includes(this.overlayElement)||this.openOverlay(!0)}handleSubmenuFocus(){requestAnimationFrame(()=>{this.overlayElement.open=this.open,this.focused=!1})}handlePointerenter(){if(this.leaveTimeout){clearTimeout(this.leaveTimeout),delete this.leaveTimeout,this.recentlyLeftChild=!1;return}this.focus(),this.openOverlay()}handlePointerleave(){this._closedViaPointer=!0,this.open&&!this.recentlyLeftChild&&(this.leaveTimeout=setTimeout(()=>{delete this.leaveTimeout,this.open=!1},k))}handleSubmenuChange(e){var t;e.stopPropagation(),(t=this.menuData.selectionRoot)==null||t.selectOrToggleItem(this)}handleSubmenuPointerenter(){this.recentlyLeftChild=!0}async handleSubmenuPointerleave(){this.recentlyLeftChild=!1}handleSubmenuOpen(e){var n;const t=e.composedPath().find(s=>s!==this.overlayElement&&s.localName===\"sp-overlay\");this._openedViaKeyboard&&((n=this.submenuElement)==null||n.focus()),this.overlayElement.parentOverlayToForceClose=t}cleanup(){this._closedViaPointer=!1,this.setAttribute(\"aria-expanded\",\"false\"),this.open=!1,this.active=!1}async openOverlay(e=!1){!this.hasSubmenu||this.open||this.disabled||(this.open=!0,this.active=!0,this.setAttribute(\"aria-expanded\",\"true\"),this._openedViaKeyboard=e,this.addEventListener(\"sp-closed\",this.cleanup,{once:!0}))}updateAriaSelected(){const e=this.getAttribute(\"role\");e===\"option\"?this.setAttribute(\"aria-selected\",this.selected?\"true\":\"false\"):(e===\"menuitemcheckbox\"||e===\"menuitemradio\")&&this.setAttribute(\"aria-checked\",this.selected?\"true\":\"false\")}setRole(e){this.setAttribute(\"role\",e),this.updateAriaSelected()}willUpdate(e){super.updated(e),e.has(\"open\")&&!this.open&&this.hasSubmenu&&!this._closedViaPointer&&this.matches(\":focus-within\")&&this.focus()}updated(e){var t,n;if(super.updated(e),e.has(\"label\")&&(this.label||typeof e.get(\"label\")!=\"undefined\")&&this.setAttribute(\"aria-label\",this.label||\"\"),e.has(\"active\")&&(this.active||typeof e.get(\"active\")!=\"undefined\")&&this.active&&((t=this.menuData.selectionRoot)==null||t.closeDescendentOverlays()),this.anchorElement&&(this.anchorElement.addEventListener(\"focus\",this.proxyFocus),this.anchorElement.tabIndex=-1),e.has(\"selected\")&&this.updateAriaSelected(),e.has(\"hasSubmenu\")&&(this.hasSubmenu||typeof e.get(\"hasSubmenu\")!=\"undefined\"))if(this.hasSubmenu){this.abortControllerSubmenu=new AbortController;const s={signal:this.abortControllerSubmenu.signal};this.addEventListener(\"click\",this.handleSubmenuClick,s),this.addEventListener(\"pointerenter\",this.handlePointerenter,s),this.addEventListener(\"pointerleave\",this.handlePointerleave,s),this.addEventListener(\"sp-opened\",this.handleSubmenuOpen,s)}else(n=this.abortControllerSubmenu)==null||n.abort()}connectedCallback(){super.connectedCallback(),this.triggerUpdate()}disconnectedCallback(){this.menuData.cleanupSteps.forEach(e=>e(this)),this.menuData={focusRoot:void 0,parentMenu:void 0,selectionRoot:void 0,cleanupSteps:[]},super.disconnectedCallback()}async triggerUpdate(){this.willDispatchUpdate||(this.willDispatchUpdate=!0,await new Promise(e=>requestAnimationFrame(e)),this.dispatchUpdate())}focus(){super.focus(),this.dispatchEvent(new FocusEvent(\"focus\"))}blur(){this.dispatchEvent(new FocusEvent(\"blur\")),super.blur()}dispatchUpdate(){this.isConnected&&(this.dispatchEvent(new MenuItemAddedOrUpdatedEvent(this)),this.willDispatchUpdate=!1)}}r([o({type:Boolean,reflect:!0})],MenuItem.prototype,\"active\",2),r([o({type:Boolean,reflect:!0})],MenuItem.prototype,\"focused\",2),r([o({type:Boolean,reflect:!0})],MenuItem.prototype,\"selected\",2),r([o({type:String})],MenuItem.prototype,\"value\",1),r([o({type:Boolean,reflect:!0,attribute:\"has-submenu\"})],MenuItem.prototype,\"hasSubmenu\",2),r([u(\"slot:not([name])\")],MenuItem.prototype,\"contentSlot\",2),r([u('slot[name=\"icon\"]')],MenuItem.prototype,\"iconSlot\",2),r([o({type:Boolean,reflect:!0,attribute:\"no-wrap\",hasChanged(){return!1}})],MenuItem.prototype,\"noWrap\",2),r([u(\".anchor\")],MenuItem.prototype,\"anchorElement\",2),r([u(\"sp-overlay\")],MenuItem.prototype,\"overlayElement\",2),r([o({type:Boolean,reflect:!0})],MenuItem.prototype,\"open\",2);\n//# sourceMappingURL=MenuItem.js.map\n","\"use strict\";import{MenuItem as e}from\"./src/MenuItem.js\";import{defineElement as m}from\"@spectrum-web-components/base/src/define-element.js\";m(\"sp-menu-item\",e);\n//# sourceMappingURL=sp-menu-item.js.map\n"],"names":["t","e","v","Object","defineProperty","I","getOwnPropertyDescriptor","o","p","c","s","n","i","length","Menu","g","f","noDefaultSize","constructor","super","this","label","ignore","value","valueSeparator","_selected","selectedItems","childItemSet","Set","focusedItemIndex","focusInItemIndex","shouldSupportDragAndSelect","selectedItemsMap","Map","pointerUpTarget","descendentOverlays","handleSubmenuClosed","stopPropagation","composedPath","dispatchEvent","Event","bubbles","composed","handleSubmenuOpened","find","has","_hasUpdatedSelectedItemIndex","_willUpdateItems","cacheUpdated","Promise","resolve","resolveCacheUpdated","rovingTabindexController","controlsRovingTabindex","y","direction","focusInIndex","findIndex","disabled","selected","elements","childItems","isFocusableElement","bind","hostDelegatesFocus","addEventListener","onSelectableItemAddedOrUpdated","onFocusableItemAddedOrUpdated","capture","handleClick","handlePointerup","handleFocusout","handleKeydown","styles","S","isSubmenu","slot","selects","clear","forEach","menuData","selectionRoot","includes","push","set","requestUpdate","focusInItem","focusInElement","cachedChildItems","updateCachedMenuItems","menuSlot","assignedElements","flatten","entries","d","localName","querySelectorAll","splice","clearElementCache","childRole","resolvedRole","resolvedSelects","ownRole","menuCascade","hadFocusRoot","item","focusRoot","ancestorWithSelects","currentAncestorWithSelects","get","parentMenu","addChildItem","l","getAttribute","cleanupSteps","removeChildItem","setRole","join","add","handleItemsChanged","focused","hasAttribute","active","_updateFocus","getNeighboringFocusableElement","delete","focusOnFirstSelectedItem","preventScroll","scrollIntoView","block","focusOnItem","focus","every","some","matches","reset","target","handlePointerBasedSelection","MouseEvent","button","Element","defaultPrevented","indexOf","href","preventDefault","hasSubmenu","open","selectOrToggleItem","prepareToCleanUp","handleDescendentOverlayOpened","overlayElement","handleDescendentOverlayClosed","Math","min","max","a","slice","r","m","h","cancelable","keys","navigateBetweenRelatedMenus","key","root","isLTR","openOverlay","updateSelectedItemIndex","shiftKey","removeAttribute","document","removeEventListener","focusElement","click","closeDescendentOverlays","requestAnimationFrame","once","unshift","updateCache","hasUpdated","all","updateComplete","updateItemFocus","setAttribute","handleSlotchange","triggerUpdate","renderMenuItemSlot","b","render","firstUpdated","children","childItemsUpdated","updated","selectsChanged","connectedCallback","then","disconnectedCallback","getUpdateComplete","shadowRootOptions","delegatesFocus","u","type","String","reflect","prototype","Boolean","attribute","E","MenuItemAddedOrUpdatedEvent","WeakMap","_item","MenuItemKeydownEvent","KeyboardEvent","event","_event","altKey","code","ctrlKey","isComposing","location","metaKey","repeat","MenuItem","dependencyManager","_value","noWrap","_openedViaKeyboard","_closedViaPointer","handleSlottableRequest","submenuElement","L","name","data","proxyFocus","handleBeforetoggle","newState","manuallyKeepOpen","recentlyLeftChild","willDispatchUpdate","handleClickCapture","handleFocus","handleBlur","M","config","characterData","childList","subtree","attributeFilter","callback","breakItemChildrenCache","C","itemText","itemChildren","content","reduce","textContent","trim","hasIcon","slotContentIsPresent","iconSlot","contentSlot","icon","_itemChildren","map","cloneNode","classList","toggle","assignedNodes","stopImmediatePropagation","shouldProxyClick","anchorElement","renderSubmenu","manageSubmenu","handleEvent","import","loaded","handleSubmenuChange","handleSubmenuPointerenter","handleSubmenuPointerleave","renderAnchor","id","ariaHidden","className","handlePointerdown","handleSubmenuFocus","handleMouseover","closeOverlaysForRoot","handleSubmenuClick","handlePointerenter","leaveTimeout","clearTimeout","handlePointerleave","setTimeout","handleSubmenuOpen","parentOverlayToForceClose","cleanup","updateAriaSelected","willUpdate","tabIndex","abortControllerSubmenu","AbortController","signal","abort","dispatchUpdate","FocusEvent","blur","isConnected","hasChanged"],"mappings":"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"}