import{E as t,e}from"./swc.DfF9MWIF.js";import{r as s}from"./swc.x86Wm3h_.js";import{o as i,a as o,g as a,A as n}from"./swc.CeWRcydc.js";import{f as r,a as l}from"./swc.D0Be8Aa5.js";import{V as c}from"./swc.f8mN0PVe.js";import{u as h}from"./swc.1CglYmuO.js";import{a as p,f as d,o as m,s as u,b as g,c as v,d as y}from"./swc.DTI4n1PL.js";import{b as f}from"./swc.Ds_ROb9a.js";import{s as b}from"./swc.OA-NwBIR.js";export{L as LONGPRESS_INSTRUCTIONS}from"./swc.OA-NwBIR.js";import{S as w,r as E}from"./swc.mUX8iMJZ.js";import{i as O}from"./swc.Bk_7Sut8.js";import{o as P}from"./swc.9slprkso.js";import{x as k,E as C}from"./swc.CPRo5HoP.js";import{o as x}from"./swc.rlzKnk9d.js";import{n as S}from"./swc.BtPhaoGy.js";import{a as j}from"./swc.DeJGzahI.js";import{o as T}from"./swc.CA-i04Ei.js";import{r as B}from"./swc.DTrRBp2w.js";import"./swc.B6Ji04pc.js";import"./swc.CjPt0-_4.js";class _ extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="open",this.newState="closed"}}class F extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="closed",this.newState="open"}}class R extends Event{constructor(t,e,{publish:s,interaction:i,reason:o}){super(t,{bubbles:s,composed:s}),this.overlay=e,this.detail={interaction:i,reason:o}}}const $=CSS.supports("(overlay: auto)");function A(t){let e=!1;try{e=t.matches(":popover-open")}catch(t){}let s=!1;try{s=t.matches(":open")}catch(t){}return e||s}const M="showPopover"in document.createElement("div");const q=new class{constructor(){this.root=document.body,this.stack=[],this.originalBodyOverflow="",this.bodyScrollBlocked=!1,this.handleScroll=t=>{t.target!==document&&t.target!==document.documentElement&&t.target!==document.body||this.stack.forEach(e=>{e.open&&("auto"===e.type&&e.triggerElement instanceof HTMLElement&&e.triggerElement.closest("sp-picker, sp-action-menu")&&t.stopPropagation(),document.dispatchEvent(new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0})))})},this.handlePointerdown=t=>{if(!this.stack.length)return;const e=t.composedPath(),s=this.stack.filter(t=>t.open&&"page"===t.type);if(s.length>0&&!this.isEventInsideModal(e,s))return t.preventDefault(),void t.stopImmediatePropagation();this.pointerdownPath=e,this.lastOverlay=this.stack[this.stack.length-1]},this.handleClick=t=>{if(!this.stack.length)return;const e=this.getModalOverlays();if(!e.length)return;const s=e.filter(t=>"page"===t.type);if(!s.length)return;const i=t.composedPath();this.isEventInsideModal(i,s)||(t.stopImmediatePropagation(),t.preventDefault())},this.handlePointerup=()=>{const t=this.pointerdownPath;if(this.pointerdownPath=void 0,!this.stack.length||null==t||!t.length)return;const e=this.lastOverlay;this.lastOverlay=void 0;const s=this.stack.length-1;if(this.stack.some(t=>t.open&&("modal"===t.type||"page"===t.type))&&t.some(t=>t instanceof HTMLDivElement&&t.classList.contains("modal-backdrop"))){const t=this.stack[this.stack.length-1];return void("modal"===(null==t?void 0:t.type)&&this.closeOverlay(t))}const i=this.stack.filter((i,o)=>!(t.find(t=>t===i||t===(null==i?void 0:i.triggerElement)&&"hint"===(null==i?void 0:i.type)||o===s&&i!==e&&"longpress"===i.triggerInteraction)||i.shouldPreventClose()||"manual"===i.type||"modal"===i.type&&e!==i));i.reverse(),i.forEach(t=>{this.closeOverlay(t);let e=t.parentOverlayToForceClose;for(;e;)this.closeOverlay(e),e=e.parentOverlayToForceClose})},this.handleBeforetoggle=t=>{const{target:e,newState:s}=t;"open"!==s&&this.closeOverlay(e)},this.handleKeydown=t=>{if("Escape"!==t.code||!this.stack.length)return;const e=this.stack[this.stack.length-1];if("hint"===(null==e?void 0:e.type))return t.preventDefault(),t.stopPropagation(),void this.closeOverlay(e);"page"!==(null==e?void 0:e.type)?"manual"!==(null==e?void 0:e.type)&&"modal"!==(null==e?void 0:e.type)?M||e&&this.closeOverlay(e):this.closeOverlay(e):t.preventDefault()},this.bindEvents()}get document(){return this.root.ownerDocument||document}bindEvents(){this.document.addEventListener("pointerdown",this.handlePointerdown,{capture:!0}),this.document.addEventListener("pointerup",this.handlePointerup),this.document.addEventListener("click",this.handleClick,{capture:!0}),this.document.addEventListener("keydown",this.handleKeydown),this.document.addEventListener("scroll",this.handleScroll,{capture:!0})}closeOverlay(t){const e=this.stack.indexOf(t);e>-1&&this.stack.splice(e,1),t.open=!1,this.manageBodyScroll()}manageBodyScroll(){const t=this.stack.some(t=>"modal"===t.type||"page"===t.type);t&&!this.bodyScrollBlocked?(this.originalBodyOverflow=document.body.style.overflow||"",document.body.style.overflow="hidden",this.bodyScrollBlocked=!0):!t&&this.bodyScrollBlocked&&(document.body.style.overflow=this.originalBodyOverflow,this.bodyScrollBlocked=!1)}getModalOverlays(){return this.stack.filter(t=>t.open&&("modal"===t.type||"page"===t.type))}isEventInsideModal(t,e){for(const s of e){if(t.includes(s))return!0;const e=s.dialogEl;if(e){if(t.includes(e))return!0;for(const s of t)if(s instanceof Node&&e.contains(s))return!0}}return!1}overlaysByTriggerElement(t){return this.stack.filter(e=>e.triggerElement===t)}add(t){if(this.stack.includes(t)){const e=this.stack.indexOf(t);return void(e>-1&&(this.stack.splice(e,1),this.stack.push(t)))}if("auto"===t.type||"modal"===t.type||"page"===t.type){const e="sp-overlay-query-path",s=new Event(e,{composed:!0,bubbles:!0});t.addEventListener(e,t=>{const e=t.composedPath();this.stack.forEach(t=>{!e.find(e=>e===t)&&"manual"!==t.type&&"modal"!==t.type&&this.closeOverlay(t)})},{once:!0}),t.dispatchEvent(s)}else if("hint"===t.type){if(this.stack.some(e=>"manual"!==e.type&&e.triggerElement&&e.triggerElement===t.triggerElement))return void(t.open=!1);this.stack.forEach(t=>{"hint"===t.type&&this.closeOverlay(t)})}requestAnimationFrame(()=>{this.stack.push(t),t.addEventListener("beforetoggle",this.handleBeforetoggle,{once:!0}),this.manageBodyScroll()})}remove(t){this.closeOverlay(t)}};function D(t){if(void 0===t)return 0;const e=window.devicePixelRatio||1;return Math.round(t*e)/e}const I=t=>{var e;return null!=(e={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[t])?e:[t]};class N{constructor(t){this.originalPlacements=new WeakMap,this.allowPlacementUpdate=!1,this.closeForAncestorUpdate=()=>{!this.allowPlacementUpdate&&"modal"!==this.options.type&&this.cleanup&&this.target.dispatchEvent(new Event("close",{bubbles:!0})),this.allowPlacementUpdate=!1},this.updatePlacement=()=>{this.computePlacement()},this.resetOverlayPosition=()=>{!this.target||!this.options||(this.clearOverlayPosition(),this.host.offsetHeight,this.computePlacement())},this.host=t,this.host.addController(this)}async placeOverlay(t=this.target,e=this.options){if(this.target=t,this.options=e,!t||!e)return;const s=p(e.trigger,t,this.closeForAncestorUpdate,{ancestorResize:!1,elementResize:!1,layoutShift:!1}),i=p(e.trigger,t,this.updatePlacement,{ancestorScroll:!1});this.cleanup=()=>{var t;null==(t=this.host.elements)||t.forEach(t=>{t.addEventListener("sp-closed",()=>{const e=this.originalPlacements.get(t);e&&t.setAttribute("placement",e),this.originalPlacements.delete(t)},{once:!0})}),s(),i()}}async computePlacement(){var t,e;const{options:s,target:i}=this;await(document.fonts?document.fonts.ready:Promise.resolve()),f()&&await new Promise(t=>requestAnimationFrame(t));const o=s.trigger instanceof HTMLElement?d():d({padding:8,fallbackPlacements:I(s.placement)}),[a=0,n=0]=Array.isArray(null==s?void 0:s.offset)?s.offset:[s.offset,0],r=null==(t=this.host.elements.find(t=>t.tipElement))?void 0:t.tipElement,l=[m({mainAxis:a,crossAxis:n}),u({padding:8}),o,g({padding:8,apply:({availableWidth:t,availableHeight:e,rects:{floating:s}})=>{const o=Math.max(100,Math.floor(e)),a=s.height;this.initialHeight=this.isConstrained&&this.initialHeight||a,this.isConstrained=a<this.initialHeight||o<=a;const n=this.isConstrained?`${o}px`:"";Object.assign(i.style,{maxWidth:`${Math.floor(t)}px`,maxHeight:n})}}),...r?[v({element:r,padding:s.tipPadding||8})]:[]],{x:c,y:h,placement:p,middlewareData:b}=await y(s.trigger,i,{placement:s.placement,middleware:l,strategy:"fixed"});if(Object.assign(i.style,{top:"0px",left:"0px",translate:`${D(c)}px ${D(h)}px`}),i.setAttribute("actual-placement",p),null==(e=this.host.elements)||e.forEach(t=>{this.originalPlacements.has(t)||this.originalPlacements.set(t,t.getAttribute("placement")),t.setAttribute("placement",p)}),r&&b.arrow){const{x:t,y:e}=b.arrow;Object.assign(r.style,{top:p.startsWith("right")||p.startsWith("left")?"0px":"",left:p.startsWith("bottom")||p.startsWith("top")?"0px":"",translate:`${D(t)}px ${D(e)}px`})}}clearOverlayPosition(){this.target&&(this.target.style.removeProperty("max-height"),this.target.style.removeProperty("max-width"),this.initialHeight=void 0,this.isConstrained=!1)}hostConnected(){document.addEventListener("sp-update-overlays",this.resetOverlayPosition)}hostUpdated(){var t;this.host.open||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)}hostDisconnected(){var t;null==(t=this.cleanup)||t.call(this),this.cleanup=void 0,document.removeEventListener("sp-update-overlays",this.resetOverlayPosition)}}const H=O`
    :host{pointer-events:none;--swc-overlay-animation-distance:var(--spectrum-spacing-100);display:contents}:host(:has(>sp-tooltip)){--swc-overlay-animation-distance:var(--spectrum-tooltip-animation-distance)}.dialog{box-sizing:border-box;--sp-overlay-open:true;background:0 0;border:0;max-width:calc(100vw - 16px);height:auto;max-height:calc(100dvh - 16px);margin:0;padding:0;display:flex;position:fixed;inset:0 auto auto 0;overflow:visible;opacity:1!important}.dialog:not([is-visible]){display:none}.dialog:focus{outline:none}dialog:modal{--mod-popover-filter:var(--spectrum-popover-filter)}:host(:not([open])) .dialog{--sp-overlay-open:false}.dialog::backdrop{display:none}.dialog:before{content:"";position:absolute;inset:-999em;pointer-events:auto!important}.dialog:not(.not-immediately-closable):before{display:none}.dialog>div{width:100%}::slotted(*){pointer-events:auto;visibility:visible!important}::slotted(sp-popover){position:static}.dialog:not([actual-placement])[placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog:not([actual-placement])[placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}slot[name=longpress-describedby-descriptor]{display:none}.modal-backdrop{z-index:999998;pointer-events:auto;background:0 0;position:fixed;inset:0}@supports selector(:open){.dialog{opacity:0}.dialog:open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports selector(:popover-open){.dialog{opacity:0}.dialog:popover-open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports (overlay:auto){.dialog{transition:all var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s)),translate 0s,display var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s));transition-behavior:allow-discrete;display:none}.dialog:popover-open{display:flex}}@supports (not selector(:open)) and (not selector(:popover-open)){:host:not([open]) .dialog{pointer-events:none}.dialog[actual-placement]{z-index:calc(var(--swc-overlay-z-index-base,1000) + var(--swc-overlay-open-count))}}
`;var U=Object.defineProperty,W=Object.getOwnPropertyDescriptor,V=(t,e,s,i)=>{for(var o,a=i>1?void 0:i?W(e,s):e,n=t.length-1;n>=0;n--)(o=t[n])&&(a=(i?o(e,s,a):o(a))||a);return i&&a&&U(e,s,a),a};const z="showPopover"in document.createElement("div");let K=function(t){return class extends t{async manageDelay(t){!1!==t&&t===this.open?this.delayed&&await i.openTimer(this)&&(this.open=!t):i.close(this)}async shouldHidePopover(t){if(t&&this.open!==t)return;const e=async({newState:t}={})=>{"open"!==t&&await this.placementController.resetOverlayPosition()};A(this.dialogEl)?this.dialogEl.addEventListener("toggle",e,{once:!0}):e()}shouldShowPopover(t){let e=!1;try{e=this.dialogEl.matches(":popover-open")}catch(t){}let s=!1;try{s=this.dialogEl.matches(":open")}catch(t){}t&&this.open===t&&!e&&!s&&this.isConnected&&(this.dialogEl.showPopover(),this.managePosition())}async ensureOnDOM(t){$||await this.shouldHidePopover(t),this.shouldShowPopover(t),await o()}async makeTransition(t){if(this.open!==t)return null;let e=null;const s=(s,i)=>()=>{if(s.open=t,0===i){const e=t?F:_;this.dispatchEvent(new e)}t&&(s.matches(h)&&(e=s),e=e||r(s),!e)&&s.querySelectorAll("slot").forEach(t=>{e||(e=l(t))})},i=(e,s)=>async()=>{if(this.open!==t)return;const i=t?"sp-opened":"sp-closed";if(s>0)return void e.dispatchEvent(new R(i,this,{interaction:this.type,publish:!1}));const a=async()=>{if(this.open!==t)return;await o();const s=this.triggerElement instanceof c;this.dispatchEvent(new R(i,this,{interaction:this.type,publish:s})),e.dispatchEvent(new R(i,this,{interaction:this.type,publish:!1})),this.triggerElement&&!s&&this.triggerElement.dispatchEvent(new R(i,this,{interaction:this.type,publish:!0})),this.state=t?"opened":"closed",this.returnFocus(),await o(),await o(),t===this.open&&!1===t&&this.requestSlottable()};if(this.open!==t)return;const n=A(this.dialogEl);!0!==t&&n&&this.isConnected?(this.dialogEl.addEventListener("beforetoggle",()=>{a()},{once:!0}),this.dialogEl.hidePopover()):a()};return this.elements.forEach((t,e)=>{a(t,s(t,e),i(t,e))}),e}}}(n);var G;z||(G=n,K=class extends G{async managePopoverOpen(){await this.managePosition()}async manageDelay(t){!1!==t&&t===this.open?this.delayed&&await i.openTimer(this)&&(this.open=!t):i.close(this)}async ensureOnDOM(t){document.body.offsetHeight}async makeTransition(t){if(this.open!==t)return null;let e=null;const s=(s,i)=>()=>{if(t===this.open){if(s.open=t,0===i){const e=t?F:_;this.dispatchEvent(new e)}!0!==t||(s.matches(h)&&(e=s),e=e||r(s),e)||s.querySelectorAll("slot").forEach(t=>{e||(e=l(t))})}},i=(e,s)=>async()=>{if(this.open!==t)return;const i=t?"sp-opened":"sp-closed";if(e.dispatchEvent(new R(i,this,{interaction:this.type})),s>0)return;const a=this.triggerElement instanceof c;this.dispatchEvent(new R(i,this,{interaction:this.type,publish:a})),this.triggerElement&&!a&&this.triggerElement.dispatchEvent(new R(i,this,{interaction:this.type,publish:!0})),this.state=t?"opened":"closed",this.returnFocus(),await o(),await o(),t===this.open&&!1===t&&this.requestSlottable()};return this.elements.forEach((t,e)=>{a(t,s(t,e),i(t,e))}),e}});const J=class i extends K{constructor(){super(...arguments),this._delayed=!1,this._disabled=!1,this.offset=0,this._open=!1,this.lastRequestSlottableState=!1,this.receivesFocus="auto",this.allowOutsideClick=!1,this._state="closed",this.triggerElement=null,this.type="auto",this.wasOpen=!1,this._focusTrap=null,this.closeOnFocusOut=t=>{if(!t.relatedTarget)return;const e=new Event("overlay-relation-query",{bubbles:!0,composed:!0});t.relatedTarget.addEventListener(e.type,t=>{t.composedPath().some(t=>t===this)||(this.open=!1)}),t.relatedTarget.dispatchEvent(e)},this.closeOnCancelEvent=()=>{this.open=!1}}get delayed(){var t;return(null==(t=this.elements.at(-1))?void 0:t.hasAttribute("delayed"))||this._delayed}set delayed(t){this._delayed=t}get disabled(){return this._disabled}set disabled(t){var e;this._disabled=t,t?(null==(e=this.strategy)||e.abort(),this.wasOpen=this.open,this.open=!1):(this.bindEvents(),this.open=this.open||this.wasOpen,this.wasOpen=!1)}get hasNonVirtualTrigger(){return!(!this.triggerElement||this.triggerElement instanceof c)}get placementController(){return this._placementController||(this._placementController=new N(this)),this._placementController}get open(){return this._open}set open(t){var e;t&&this.disabled||t!==this.open&&(null!=(e=this.strategy)&&e.activelyOpening&&!t||(this._open=t,this.open&&(i.openCount+=1),this.requestUpdate("open",!this.open),this.open&&this.requestSlottable()))}get state(){return this._state}set state(t){var e;if(t===this.state)return;const s=this.state;this._state=t,("opened"===this.state||"closed"===this.state)&&(null==(e=this.strategy)||e.shouldCompleteOpen()),this.requestUpdate("state",s)}get elementResolver(){return this._elementResolver||(this._elementResolver=new t(this)),this._elementResolver}get popoverValue(){if("popover"in this)switch(this.type){case"modal":case"page":case"hint":return"manual";default:return this.type}}get requiresPositioning(){return!("page"===this.type||!this.open||!this.triggerElement||!this.placement&&"hint"!==this.type)}get needsModalBackdrop(){return this.open&&("modal"===this.type||"page"===this.type)}managePosition(){if(!this.requiresPositioning||!this.open)return;const t=this.offset||0,e=this.triggerElement,s=this.placement||"right",i=this.tipPadding;this.placementController.placeOverlay(this.dialogEl,{offset:t,placement:s,tipPadding:i,trigger:e,type:this.type})}async managePopoverOpen(){super.managePopoverOpen();const t=this.open;if(this.open!==t||(await this.manageDelay(t),this.open!==t)||("longpress"===this.triggerInteraction&&await o(),await this.ensureOnDOM(t),this.open!==t))return;const e=await this.makeTransition(t);if(this.open===t){if(t){const t=await import("./swc.Bh21U7vO.js");this._focusTrap=t.createFocusTrap(this.dialogEl,{initialFocus:e||void 0,tabbableOptions:{getShadowRoot:!0},fallbackFocus:()=>(this.dialogEl.setAttribute("tabIndex","-1"),this.dialogEl),escapeDeactivates:!1,allowOutsideClick:this.allowOutsideClick}),("modal"===this.type||"page"===this.type)&&this._focusTrap.activate()}await this.applyFocus(t,e)}}async applyFocus(t,e){if("false"!==this.receivesFocus&&"hint"!==this.type){if(await o(),await o(),t===this.open&&!this.open)return void(this.hasNonVirtualTrigger&&this.contains(this.getRootNode().activeElement)&&this.triggerElement.focus());null==e||e.focus()}}returnFocus(){var t;if(this.open||"hint"===this.type)return;"false"!==this.receivesFocus&&null!=(t=this.triggerElement)&&t.focus&&(this.contains(this.getRootNode().activeElement)||(()=>{var t,e;const s=[];let i=document.activeElement;for(;null!=(t=null==i?void 0:i.shadowRoot)&&t.activeElement;)i=i.shadowRoot.activeElement;for(;i;){const t=i.assignedSlot||i.parentElement||(null==(e=i.getRootNode())?void 0:e.host);t&&s.push(t),i=t}return s})().includes(this)||document.activeElement===document.body)&&this.triggerElement.focus()}async manageOpen(t){var e;if(!this.isConnected&&this.open)return;this.hasUpdated||await this.updateComplete,this.open?(q.add(this),this.willPreventClose&&(document.addEventListener("pointerup",()=>{this.dialogEl.classList.toggle("not-immediately-closable",!1),this.willPreventClose=!1},{once:!0}),this.dialogEl.classList.toggle("not-immediately-closable",!0))):(t&&(null==(e=this._focusTrap)||e.deactivate(),this._focusTrap=null,this.dispose()),q.remove(this)),this.open&&"opened"!==this.state?this.state="opening":!this.open&&"closed"!==this.state&&(this.state="closing"),this.managePopoverOpen();const s=this.getRootNode();"auto"===this.type&&(this.open?s.addEventListener("focusout",this.closeOnFocusOut,{capture:!0}):s.removeEventListener("focusout",this.closeOnFocusOut,{capture:!0})),("modal"===this.type||"page"===this.type)&&(this.open?s.addEventListener("cancel",this.closeOnCancelEvent,{capture:!0}):s.removeEventListener("cancel",this.closeOnCancelEvent,{capture:!0}))}bindEvents(){var t;null==(t=this.strategy)||t.abort(),this.strategy=void 0,this.hasNonVirtualTrigger&&this.triggerInteraction&&(this.strategy=new b[this.triggerInteraction](this.triggerElement,{overlay:this}))}handleBeforetoggle(t){"open"!==t.newState&&this.handleBrowserClose(t)}handleBrowserClose(t){var e;t.stopPropagation(),null!=(e=this.strategy)&&e.activelyOpening?this.manuallyKeepOpen():this.open=!1}manuallyKeepOpen(){this.open=!0,this.placementController.allowPlacementUpdate=!0,this.manageOpen(!1)}handleSlotchange(){var t,e;this.elements.length?this.hasNonVirtualTrigger&&(null==(e=this.strategy)||e.prepareDescription(this.triggerElement)):null==(t=this.strategy)||t.releaseDescription()}shouldPreventClose(){const t=this.willPreventClose;return this.willPreventClose=!1,t}requestSlottable(){this.lastRequestSlottableState!==this.open&&(this.open||document.body.offsetHeight,this.dispatchEvent(new w("overlay-content",this.open?{}:E)),this.lastRequestSlottableState=this.open)}willUpdate(t){var i;if(this.hasAttribute("id")||this.setAttribute("id",`${this.tagName.toLowerCase()}-${s()}`),t.has("allowOutsideClick")&&this.allowOutsideClick&&console.warn(`[${this.localName}] The "allow-outside-click" attribute has been deprecated and will be removed in a future release. We do not recommend using this attribute for accessibility reasons. It allows clicks outside the overlay to close it, which can cause unexpected behavior and accessibility issues.`),t.has("open")&&(this.hasUpdated||this.open)&&this.manageOpen(t.get("open")),t.has("trigger")){const[t,e]=(null==(i=this.trigger)?void 0:i.split("@"))||[];this.elementResolver.selector=t?`#${t}`:"",this.triggerInteraction=e}let o=!1;t.has(e)&&(o=this.triggerElement,this.triggerElement=this.elementResolver.element),t.has("triggerElement")&&(o=t.get("triggerElement")),!1!==o&&this.bindEvents()}updated(t){super.updated(t),t.has("placement")&&(this.placement?this.dialogEl.setAttribute("actual-placement",this.placement):this.dialogEl.removeAttribute("actual-placement"),this.open&&void 0!==t.get("placement")&&this.placementController.resetOverlayPosition()),t.has("state")&&"closed"===this.state&&void 0!==t.get("state")&&this.placementController.clearOverlayPosition()}renderContent(){return k`
            <slot @slotchange=${this.handleSlotchange}></slot>
        `}get dialogStyleMap(){return{"--swc-overlay-open-count":i.openCount.toString()}}renderPopover(){return k`
            ${this.needsModalBackdrop?k`
                      <div class="modal-backdrop"></div>
                  `:C}
            <div
                class="dialog"
                part="dialog"
                role=${x("modal"===this.type||"page"===this.type?"dialog":void 0)}
                aria-modal=${x("modal"===this.type||"page"===this.type?"true":void 0)}
                placement=${x(this.requiresPositioning?this.placement||"right":void 0)}
                popover=${x(this.popoverValue)}
                style=${P(this.dialogStyleMap)}
                @beforetoggle=${this.handleBeforetoggle}
                @close=${this.handleBrowserClose}
                ?is-visible=${"closed"!==this.state}
            >
                ${this.renderContent()}
            </div>
        `}render(){return k`
            ${this.renderPopover()}
            <slot name="longpress-describedby-descriptor"></slot>
        `}connectedCallback(){super.connectedCallback(),this.addEventListener("close",()=>{this.open=!1}),this.hasUpdated&&this.bindEvents()}disconnectedCallback(){var t;null==(t=this.strategy)||t.releaseDescription(),this.open=!1,super.disconnectedCallback()}};J.styles=[H],J.openCount=1,V([S({type:Boolean})],J.prototype,"delayed",1),V([j(".dialog")],J.prototype,"dialogEl",2),V([S({type:Boolean})],J.prototype,"disabled",1),V([T({flatten:!0,selector:':not([slot="longpress-describedby-descriptor"], slot)'})],J.prototype,"elements",2),V([S({type:Number})],J.prototype,"offset",2),V([S({type:Boolean,reflect:!0})],J.prototype,"open",1),V([S()],J.prototype,"placement",2),V([S({attribute:"receives-focus"})],J.prototype,"receivesFocus",2),V([S({type:Boolean,attribute:"allow-outside-click"})],J.prototype,"allowOutsideClick",2),V([j("slot")],J.prototype,"slotEl",2),V([B()],J.prototype,"state",1),V([S({type:Number,attribute:"tip-padding"})],J.prototype,"tipPadding",2),V([S()],J.prototype,"trigger",2),V([S({attribute:!1})],J.prototype,"triggerElement",2),V([S({attribute:!1})],J.prototype,"triggerInteraction",2),V([S()],J.prototype,"type",2);let Q=J;export{Q as Overlay};
//# sourceMappingURL=swc.9QnvauO2.js.map
