"use strict";(self.webpackChunk_spectrum_web_components_1st_gen=self.webpackChunk_spectrum_web_components_1st_gen||[]).push([[2846],{"./packages/action-group/sp-action-group.dev.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){var index_dev=__webpack_require__("./tools/base/src/index.dev.js"),decorators_dev=__webpack_require__("./tools/base/src/decorators.dev.js"),ActionButton_dev=__webpack_require__("./packages/action-button/src/ActionButton.dev.js"),RovingTabindex_dev=__webpack_require__("./tools/reactive-controllers/src/RovingTabindex.dev.js"),mutation_controller=__webpack_require__("../node_modules/@lit-labs/observers/development/mutation-controller.js");var action_group_css=index_dev.AH`
    :host{--spectrum-actiongroup-button-spacing-reset:0;--spectrum-actiongroup-border-radius-reset:0;--spectrum-actiongroup-border-radius:var(--spectrum-corner-radius-100)}:host([size=s]),:host([size=xs]){--spectrum-actiongroup-horizontal-spacing-regular:var(--spectrum-spacing-75);--spectrum-actiongroup-vertical-spacing-regular:var(--spectrum-spacing-75)}:host([size=l]),:host,:host([size=xl]){--spectrum-actiongroup-horizontal-spacing-regular:var(--spectrum-spacing-100);--spectrum-actiongroup-vertical-spacing-regular:var(--spectrum-spacing-100)}:host{gap:var(--mod-actiongroup-horizontal-spacing-regular,var(--spectrum-actiongroup-horizontal-spacing-regular));flex-wrap:wrap;display:flex}::slotted(*){flex-shrink:0}::slotted(:focus-visible){z-index:3}:host(:not([vertical=true][compact=true])) ::slotted(*){flex-shrink:0}:host([vertical]){gap:var(--mod-actiongroup-vertical-spacing-regular,var(--spectrum-actiongroup-vertical-spacing-regular));flex-direction:column;display:inline-flex}:host([compact]){gap:var(--mod-actiongroup-gap-size-compact,var(--spectrum-actiongroup-gap-size-compact))}:host([compact]:not([quiet])){flex-wrap:nowrap}:host([compact]:not([quiet])) ::slotted(*){border-radius:var(--mod-actiongroup-border-radius-reset,var(--spectrum-actiongroup-border-radius-reset));z-index:0;position:relative}:host([compact]:not([quiet])) ::slotted(:first-child){--mod-actionbutton-focus-indicator-border-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))0px 0px var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));border-start-start-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));border-end-start-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));margin-inline-start:var(--mod-actiongroup-button-spacing-reset,var(--spectrum-actiongroup-button-spacing-reset))}:host([compact]:not([quiet])) ::slotted(:not(:first-child)){--mod-actionbutton-focus-indicator-border-radius:0px;margin-inline-start:var(--mod-actiongroup-horizontal-spacing-compact,var(--spectrum-actiongroup-horizontal-spacing-compact));margin-inline-end:var(--mod-actiongroup-horizontal-spacing-compact,var(--spectrum-actiongroup-horizontal-spacing-compact))}:host([compact]:not([quiet])) ::slotted(:last-child){--mod-actionbutton-focus-indicator-border-radius:0px var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))0px;border-start-end-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));border-end-end-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));margin-inline-start:var(--mod-actiongroup-horizontal-spacing-compact,var(--spectrum-actiongroup-horizontal-spacing-compact));margin-inline-end:var(--mod-actiongroup-border-radius-reset,var(--spectrum-actiongroup-border-radius-reset))}:host([compact]:not([quiet])) ::slotted([selected]){z-index:1}@media (hover:hover){:host([compact]:not([quiet])) ::slotted(:hover){z-index:2}}:host([compact]:not([quiet])) ::slotted(:focus-visible){z-index:3}:host([compact][vertical]:not([quiet])){gap:var(--mod-actiongroup-gap-size-compact,var(--spectrum-actiongroup-gap-size-compact))}:host([compact][vertical]:not([quiet])) ::slotted(*){border-radius:var(--mod-actiongroup-border-radius-reset,var(--spectrum-actiongroup-border-radius-reset))}:host([compact][vertical]:not([quiet])) ::slotted(:first-child){--mod-actionbutton-focus-indicator-border-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))0px 0px;border-start-start-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));border-start-end-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));margin-block-start:var(--mod-actiongroup-vertical-spacing-compact,var(--spectrum-actiongroup-vertical-spacing-compact));margin-block-end:var(--mod-actiongroup-vertical-spacing-compact,var(--spectrum-actiongroup-vertical-spacing-compact));margin-inline-end:var(--mod-actiongroup-button-spacing-reset,var(--spectrum-actiongroup-button-spacing-reset))}:host([compact][vertical]:not([quiet])) ::slotted(:not(:first-child)){margin-block-start:var(--mod-actiongroup-button-spacing-reset,var(--spectrum-actiongroup-button-spacing-reset));margin-block-end:var(--mod-actiongroup-vertical-spacing-compact,var(--spectrum-actiongroup-vertical-spacing-compact));margin-inline-start:var(--mod-actiongroup-button-spacing-reset,var(--spectrum-actiongroup-button-spacing-reset));margin-inline-end:var(--mod-actiongroup-button-spacing-reset,var(--spectrum-actiongroup-button-spacing-reset))}:host([compact][vertical]:not([quiet])) ::slotted(:last-child){--mod-actionbutton-focus-indicator-border-radius:0px 0px var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));border-end-end-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));border-end-start-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius));margin-block-start:var(--mod-actiongroup-vertical-spacing-compact,var(--spectrum-actiongroup-vertical-spacing-compact));margin-block-end:var(--mod-actiongroup-button-spacing-reset,var(--spectrum-actiongroup-button-spacing-reset))}:host([justified]) ::slotted(*){flex-grow:1}:host{--spectrum-actiongroup-gap-size-compact:var(--system-action-group-gap-size-compact);--spectrum-actiongroup-horizontal-spacing-compact:var(--system-action-group-horizontal-spacing-compact);--spectrum-actiongroup-vertical-spacing-compact:var(--system-action-group-vertical-spacing-compact)}:host([size=xs]){--spectrum-actiongroup-horizontal-spacing-regular:var(--spectrum-spacing-75);--spectrum-actiongroup-vertical-spacing-regular:var(--spectrum-spacing-75)}:host([dir][compact][vertical]) ::slotted(:nth-child(n)){margin-left:0;margin-right:0}:host([justified]) ::slotted(:not([role])),:host([vertical]) ::slotted(:not([role])){flex-direction:column;align-items:stretch;display:flex}:host([compact]:not([quiet])) ::slotted(:not([role])){--overriden-border-radius:0;--mod-actionbutton-border-radius:var(--overriden-border-radius)}:host([compact][vertical]:not([quiet])) ::slotted(:not([role]):first-child){--overriden-border-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))0 0}:host([compact][vertical]:not([quiet])) ::slotted(:not([role]):last-child){--overriden-border-radius:0 0 var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))}:host([dir=ltr][compact]:not([quiet],[vertical])) ::slotted(:not([role]):first-child){--overriden-border-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))0 0 var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))}:host([dir=rtl][compact]:not([quiet],[vertical])) ::slotted(:not([role]):first-child),:host([dir=ltr][compact]:not([quiet],[vertical])) ::slotted(:not([role]):last-child){--overriden-border-radius:0 var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))0}:host([dir=rtl][compact]:not([quiet],[vertical])) ::slotted(:not([role]):last-child){--overriden-border-radius:var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))0 0 var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))}:host([compact]:not([quiet])) ::slotted(*){--mod-actionbutton-focus-ring-border-radius:0}:host([compact][vertical]:not([quiet])) ::slotted(:first-child){--mod-actionbutton-focus-ring-border-radius:var(--spectrum-alias-component-border-radius)var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))0 0}:host([compact][vertical]:not([quiet])) ::slotted(:last-child){--mod-actionbutton-focus-ring-border-radius:0 0 var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))}:host([dir=ltr][compact]:not([quiet],[vertical])) ::slotted(:first-child){--mod-actionbutton-focus-ring-border-radius:var(--spectrum-alias-component-border-radius)0 0 var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))}:host([dir=rtl][compact]:not([quiet],[vertical])) ::slotted(:first-child),:host([dir=ltr][compact]:not([quiet],[vertical])) ::slotted(:last-child){--mod-actionbutton-focus-ring-border-radius:0 var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))0}:host([dir=rtl][compact]:not([quiet],[vertical])) ::slotted(:last-child){--mod-actionbutton-focus-ring-border-radius:var(--spectrum-alias-component-border-radius)0 0 var(--mod-actiongroup-border-radius,var(--spectrum-actiongroup-border-radius))}:host([justified]) ::slotted(*){flex:1}
`,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result};const EMPTY_SELECTION=[];class ActionGroup extends((0,index_dev.ZG)(index_dev.wG,{validSizes:["xs","s","m","l","xl"],noDefaultSize:!0})){constructor(){super(),this._buttons=[],this._buttonSelector="sp-action-button, sp-action-menu",this.rovingTabindexController=new RovingTabindex_dev.t(this,{focusInIndex:elements=>{let firstEnabledIndex=-1;const firstSelectedIndex=elements.findIndex((el,index)=>(elements[firstEnabledIndex]||el.disabled||(firstEnabledIndex=index),el.selected&&!el.disabled));return elements[firstSelectedIndex]?firstSelectedIndex:firstEnabledIndex},elements:()=>this.buttons,hostDelegatesFocus:!0,isFocusableElement:el=>!el.disabled}),this.compact=!1,this.emphasized=!1,this.justified=!1,this.label="",this.quiet=!1,this.vertical=!1,this._selected=EMPTY_SELECTION,this.hasManaged=!1,this.manageButtons=()=>{if(!this.slotElement)return;const buttons=this.slotElement.assignedElements({flatten:!0}).reduce((acc,el)=>{if(el.matches(this._buttonSelector))acc.push(el);else{const buttonDescendents=Array.from(el.querySelectorAll(`:scope > ${this._buttonSelector}`));acc.push(...buttonDescendents)}return acc},[]);if(this.buttons=buttons,this.selects||!this.hasManaged){const currentlySelectedButtons=[];this.buttons.forEach(button=>{button.selected&&currentlySelectedButtons.push(button.value)}),this.setSelected(this.selected.concat(currentlySelectedButtons))}this.manageChildren(),this.manageSelects(),this.hasManaged=!0},new mutation_controller.g(this,{config:{childList:!0,subtree:!0},callback:()=>{this.manageButtons()},skipInitial:!0})}static get styles(){return[action_group_css]}set buttons(buttons){buttons!==this.buttons&&(this._buttons=buttons,this.rovingTabindexController.clearElementCache())}get buttons(){return this._buttons}set selected(selected){this.requestUpdate("selected",this._selected),this._selected=selected,this.updateComplete.then(()=>{this.applySelects(),this.manageChildren()})}get selected(){return this._selected}dispatchChange(old){this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0,cancelable:!0}))||(this.setSelected(old),this.buttons.map(button=>{button.selected=this.selected.includes(button.value)}))}setSelected(selected,announce){if(selected===this.selected)return;const old=this.selected;this.requestUpdate("selected",old),this._selected=selected,announce&&this.dispatchChange(old)}focus(options){this.rovingTabindexController.focus(options)}deselectSelectedButtons(){this.buttons.forEach(button=>{button.selected&&(button.selected=!1,button.tabIndex=-1,button.setAttribute(this.selects?"aria-checked":"aria-pressed","false"))})}handleActionButtonChange(event){event.stopPropagation(),event.preventDefault()}handleClick(event){const target=event.target;if(void 0!==target.value)switch(this.selects){case"single":this.deselectSelectedButtons(),target.selected=!0,target.tabIndex=0,target.setAttribute("aria-checked","true"),this.setSelected([target.value],!0);break;case"multiple":{const selected=[...this.selected];target.selected=!target.selected,target.setAttribute("aria-checked",target.selected?"true":"false"),target.selected?selected.push(target.value):selected.splice(this.selected.indexOf(target.value),1),this.setSelected(selected,!0),this.buttons.forEach(button=>{button.tabIndex=-1}),target.tabIndex=0;break}}}async applySelects(){await this.manageSelects(!0)}async manageSelects(applied){if(!this.buttons.length)return;const options=this.buttons;switch(this.selects){case"single":{this.setAttribute("role","radiogroup");const selections=[],updates=options.map(async option=>{await option.updateComplete,option instanceof ActionButton_dev.r&&option.setAttribute("role","radio"),option.setAttribute("aria-checked",option.selected?"true":"false"),option.selected&&selections.push(option)});if(applied)break;await Promise.all(updates);const selected=selections.map(button=>button.value);this.setSelected(selected||EMPTY_SELECTION);break}case"multiple":{"radiogroup"===this.getAttribute("role")&&this.removeAttribute("role");const selection=[],selections=[],updates=options.map(async option=>{await option.updateComplete,option instanceof ActionButton_dev.r&&option.setAttribute("role","checkbox"),option.setAttribute("aria-checked",option.selected?"true":"false"),option.selected&&(selection.push(option.value),selections.push(option))});if(applied)break;await Promise.all(updates);const selected=selection.length?selection:EMPTY_SELECTION;this.setSelected(selected);break}default:if(!this.selected.length){this.buttons.forEach(option=>{option instanceof ActionButton_dev.r&&option.setAttribute("role","button")});break}{const selections=[],updates=options.map(async option=>{await option.updateComplete,option instanceof ActionButton_dev.r&&option.setAttribute("role","button"),option.selected?(option.setAttribute("aria-pressed","true"),selections.push(option)):option.removeAttribute("aria-pressed")});if(applied)break;await Promise.all(updates),this.setSelected(selections.map(button=>button.value))}}this.hasAttribute("role")||this.setAttribute("role","toolbar")}render(){return index_dev.qy`
            <slot role="presentation" @slotchange=${this.manageButtons}></slot>
        `}firstUpdated(changes){super.firstUpdated(changes),this.addEventListener("click",this.handleClick)}updated(changes){super.updated(changes),changes.has("selects")&&(this.manageSelects(),this.manageChildren(),this.selects?this.shadowRoot.addEventListener("change",this.handleActionButtonChange):this.shadowRoot.removeEventListener("change",this.handleActionButtonChange)),(changes.has("quiet")||changes.has("emphasized")||changes.has("size")||changes.has("staticColor"))&&this.manageChildren(changes),changes.has("label")&&(this.label||void 0!==changes.get("label"))&&(this.label.length?this.setAttribute("aria-label",this.label):this.removeAttribute("aria-label"))}manageChildren(changes){this.buttons.forEach(button=>{(this.quiet||(null==changes?void 0:changes.get("quiet")))&&(button.quiet=this.quiet),(this.emphasized||(null==changes?void 0:changes.get("emphasized")))&&(button.emphasized=this.emphasized),(this.staticColor||(null==changes?void 0:changes.get("staticColor")))&&(button.staticColor=this.staticColor),!this.selects&&this.hasManaged||(button.selected=this.selected.includes(button.value)),!this.size||"m"===this.size&&void 0===(null==changes?void 0:changes.get("size"))||(button.size=this.size)})}}ActionGroup.shadowRootOptions={...index_dev.wG.shadowRootOptions,delegatesFocus:!0},__decorateClass([(0,decorators_dev.MZ)({type:Boolean,reflect:!0})],ActionGroup.prototype,"compact",2),__decorateClass([(0,decorators_dev.MZ)({type:Boolean,reflect:!0})],ActionGroup.prototype,"emphasized",2),__decorateClass([(0,decorators_dev.MZ)({type:Boolean,reflect:!0})],ActionGroup.prototype,"justified",2),__decorateClass([(0,decorators_dev.MZ)({type:String})],ActionGroup.prototype,"label",2),__decorateClass([(0,decorators_dev.MZ)({type:Boolean,reflect:!0})],ActionGroup.prototype,"quiet",2),__decorateClass([(0,decorators_dev.MZ)({type:String})],ActionGroup.prototype,"selects",2),__decorateClass([(0,decorators_dev.MZ)({reflect:!0,attribute:"static-color"})],ActionGroup.prototype,"staticColor",2),__decorateClass([(0,decorators_dev.MZ)({type:Boolean,reflect:!0})],ActionGroup.prototype,"vertical",2),__decorateClass([(0,decorators_dev.MZ)({type:Array})],ActionGroup.prototype,"selected",1),__decorateClass([(0,decorators_dev.P)("slot")],ActionGroup.prototype,"slotElement",2),(0,__webpack_require__("./tools/base/src/define-element.dev.js").e)("sp-action-group",ActionGroup)}}]);
//# sourceMappingURL=2846.b6919e28.iframe.bundle.js.map