"use strict";(self.webpackChunk_spectrum_web_components_1st_gen=self.webpackChunk_spectrum_web_components_1st_gen||[]).push([[7468],{"./packages/overlay/src/AbstractOverlay.dev.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{HR:function(){return AbstractOverlay},I:function(){return guaranteedAllTransitionend},dA:function(){return nextFrame},lQ:function(){return noop},Y5:function(){return overlayTimer}});var index_dev=__webpack_require__("./tools/base/src/index.dev.js"),reparent_children_dev=__webpack_require__("./tools/shared/src/reparent-children.dev.js");const overlayTimer=new class OverlayTimer{constructor(options={}){this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,options)}async openTimer(component){if(this.cancelCooldownTimer(),this.component&&component===this.component){if(this.promise)return this.promise;throw new Error("Inconsistent state")}return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=component,!this.isWarm&&(this.promise=new Promise(resolve=>{this.resolve=resolve,this.timeout=window.setTimeout(()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)},this.warmUpDelay)}),this.promise)}close(component){this.component&&this.component===component&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout(()=>{this.isWarm=!1,delete this.cooldownTimeout},this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}},noop=()=>{},guaranteedAllTransitionend=(el,action,cb)=>{const abortController=new AbortController,runningTransitions=new Map,cleanup=()=>{abortController.abort(),cb()};let guarantee2,guarantee3;const guarantee1=requestAnimationFrame(()=>{guarantee2=requestAnimationFrame(()=>{guarantee3=requestAnimationFrame(()=>{cleanup()})})}),handleTransitionend=event=>{event.target===el&&(runningTransitions.set(event.propertyName,runningTransitions.get(event.propertyName)-1),runningTransitions.get(event.propertyName)||runningTransitions.delete(event.propertyName),0===runningTransitions.size&&cleanup())};el.addEventListener("transitionrun",event=>{event.target===el&&(runningTransitions.has(event.propertyName)||runningTransitions.set(event.propertyName,0),runningTransitions.set(event.propertyName,runningTransitions.get(event.propertyName)+1),cancelAnimationFrame(guarantee1),cancelAnimationFrame(guarantee2),cancelAnimationFrame(guarantee3))},{signal:abortController.signal}),el.addEventListener("transitionend",handleTransitionend,{signal:abortController.signal}),el.addEventListener("transitioncancel",handleTransitionend,{signal:abortController.signal}),action()};function nextFrame(){return new Promise(res=>requestAnimationFrame(()=>res()))}class AbstractOverlay extends index_dev.wG{constructor(){super(...arguments),this.dispose=noop,this.offset=0,this.willPreventClose=!1}async applyFocus(_targetOpenState,_focusEl){}get delayed(){return!1}set delayed(_delayed){}get disabled(){return!1}set disabled(_disabled){}get elementResolver(){return this._elementResolver}set elementResolver(controller){this._elementResolver=controller}async ensureOnDOM(_targetOpenState){}async makeTransition(_targetOpenState){return null}async manageDelay(_targetOpenState){}async managePopoverOpen(){}managePosition(){}get open(){return!1}set open(_open){}get placementController(){return this._placementController}set placementController(controller){this._placementController=controller}requestSlottable(){}returnFocus(){}get state(){return"closed"}set state(_state){}manuallyKeepOpen(){}static update(){const overlayUpdateEvent=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(overlayUpdateEvent)}static async open(triggerOrContent,interactionOrOptions,content,optionsV1){await __webpack_require__.e(1082).then(__webpack_require__.bind(__webpack_require__,"./packages/overlay/sp-overlay.dev.js"));const v2=2===arguments.length,overlayContent=content||triggerOrContent,overlay=new this;let restored=!1;overlay.dispose=()=>{overlay.addEventListener("sp-closed",()=>{restored||(restoreContent(),restored=!0),requestAnimationFrame(()=>{overlay.remove()})}),overlay.open=!1,overlay.dispose=noop};const restoreContent=(0,reparent_children_dev.n)([overlayContent],overlay,{position:"beforeend",prepareCallback:el=>{const slot=el.slot;return el.removeAttribute("slot"),()=>{el.slot=slot}}});if(!v2&&overlayContent&&optionsV1){window.__swc.warn(overlay,`You are interacting with an ${overlay.localName} element via a deprecated imperative API. This API will be removed in a future version of the SWC library. Consider leveraging an ${overlay.localName} directly.`,"https://opensource.adobe.com/spectrum-web-components/components/overlay/",{level:"deprecation"});const trigger=triggerOrContent,interaction=interactionOrOptions,options2=optionsV1;return AbstractOverlay.applyOptions(overlay,{...options2,delayed:options2.delayed||overlayContent.hasAttribute("delayed"),trigger:options2.virtualTrigger||trigger,type:"modal"===interaction?"modal":"hover"===interaction?"hint":"auto"}),trigger.insertAdjacentElement("afterend",overlay),await overlay.updateComplete,overlay.open=!0,overlay.dispose}const options=interactionOrOptions;return overlay.append(overlayContent),AbstractOverlay.applyOptions(overlay,{...options,delayed:options.delayed||overlayContent.hasAttribute("delayed")}),overlay.updateComplete.then(()=>{overlay.open=!0}),overlay}static applyOptions(overlay,options){var _a,_b;overlay.delayed=!!options.delayed,overlay.receivesFocus=null!=(_a=options.receivesFocus)?_a:"auto",overlay.triggerElement=options.trigger||null,overlay.type=options.type||"modal",overlay.offset=null!=(_b=options.offset)?_b:0,overlay.placement=options.placement,overlay.willPreventClose=!!options.notImmediatelyClosable}disconnectedCallback(){super.disconnectedCallback()}}},"./packages/overlay/src/InteractionController.dev.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{G4:function(){return InteractionTypes},tV:function(){return lastInteractionType},vq:function(){return InteractionController}});var InteractionTypes=(InteractionTypes2=>(InteractionTypes2.click="click",InteractionTypes2.hover="hover",InteractionTypes2.longpress="longpress",InteractionTypes2))(InteractionTypes||{});const lastInteractionType=Symbol("lastInteractionType");class InteractionController{constructor(target,{overlay:overlay,isPersistent:isPersistent,handleOverlayReady:handleOverlayReady}){this.target=target,this.isLazilyOpen=!1,this.isPersistent=!1,this.isPersistent=!!isPersistent,this.handleOverlayReady=handleOverlayReady,this.isPersistent&&this.init(),this.overlay=overlay}get activelyOpening(){return!1}get open(){var _a,_b;return null!=(_b=null==(_a=this.overlay)?void 0:_a.open)?_b:this.isLazilyOpen}set open(open){if(open!==this.open){if(this.isLazilyOpen=open,this.overlay)return this.overlay.open=open,void(this.target[lastInteractionType]=this.type);open&&(customElements.whenDefined("sp-overlay").then(async()=>{const{Overlay:Overlay}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./packages/overlay/src/Overlay.dev.js"));this.overlay=new Overlay,this.overlay.open=!0,this.target[lastInteractionType]=this.type}),__webpack_require__.e(1082).then(__webpack_require__.bind(__webpack_require__,"./packages/overlay/sp-overlay.dev.js")))}}get overlay(){return this._overlay}set overlay(overlay){var _a;overlay&&this.overlay!==overlay&&(this.overlay&&this.overlay.removeController(this),this._overlay=overlay,this.overlay.addController(this),this.initOverlay(),this.prepareDescription(this.target),null==(_a=this.handleOverlayReady)||_a.call(this,this.overlay))}prepareDescription(_){}releaseDescription(){}shouldCompleteOpen(){}init(){}initOverlay(){}abort(){var _a;this.releaseDescription(),null==(_a=this.abortController)||_a.abort()}hostConnected(){this.init()}hostDisconnected(){this.isPersistent||this.abort()}}},"./packages/overlay/src/LongpressController.dev.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{g:function(){return LongpressController}});var _spectrum_web_components_shared_src_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./tools/shared/src/platform.dev.js"),_spectrum_web_components_base_src_condition_attribute_with_id_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./tools/base/src/condition-attribute-with-id.dev.js"),_spectrum_web_components_shared_src_random_id_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./tools/shared/src/random-id.dev.js"),_AbstractOverlay_dev_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/overlay/src/AbstractOverlay.dev.js"),_InteractionController_dev_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/overlay/src/InteractionController.dev.js");const LONGPRESS_INSTRUCTIONS={touch:"Double tap and long press for additional options",keyboard:"Press Space or Alt+Down Arrow for additional options",mouse:"Click and hold for additional options"};class LongpressController extends _InteractionController_dev_js__WEBPACK_IMPORTED_MODULE_4__.vq{constructor(){super(...arguments),this.type=_InteractionController_dev_js__WEBPACK_IMPORTED_MODULE_4__.G4.longpress,this.longpressState=null,this.releaseDescription=_AbstractOverlay_dev_js__WEBPACK_IMPORTED_MODULE_3__.lQ,this.handlePointerup=()=>{var _a;clearTimeout(this.timeout),this.target&&(this.longpressState="opening"===(null==(_a=this.overlay)?void 0:_a.state)?"pressed":null,document.removeEventListener("pointerup",this.handlePointerup),document.removeEventListener("pointercancel",this.handlePointerup))}}get activelyOpening(){return"opening"===this.longpressState||"pressed"===this.longpressState}handleLongpress(){this.open=!0,this.longpressState="potential"===this.longpressState?"opening":"pressed"}handlePointerdown(event){if(!this.target)return;if(0!==event.button)return;this.longpressState="potential",document.addEventListener("pointerup",this.handlePointerup),document.addEventListener("pointercancel",this.handlePointerup);"holdAffordance"in this.target||(this.timeout=setTimeout(()=>{this.target&&this.target.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"pointer"}}))},300))}handleKeydown(event){const{code:code,altKey:altKey}=event;altKey&&"ArrowDown"===code&&(event.stopPropagation(),event.stopImmediatePropagation())}handleKeyup(event){const{code:code,altKey:altKey}=event;if("Space"===code||altKey&&"ArrowDown"===code){if(!this.target)return;event.stopPropagation(),this.target.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"keyboard"}})),setTimeout(()=>{this.longpressState=null})}}prepareDescription(trigger){if(this.releaseDescription!==_AbstractOverlay_dev_js__WEBPACK_IMPORTED_MODULE_3__.lQ||!this.overlay.elements.length)return;const longpressDescription=document.createElement("div");longpressDescription.id=`longpress-describedby-descriptor-${(0,_spectrum_web_components_shared_src_random_id_js__WEBPACK_IMPORTED_MODULE_2__.l)()}`;const messageType=(0,_spectrum_web_components_shared_src_platform_js__WEBPACK_IMPORTED_MODULE_0__.un)()||(0,_spectrum_web_components_shared_src_platform_js__WEBPACK_IMPORTED_MODULE_0__.m0)()?"touch":"keyboard";longpressDescription.textContent=LONGPRESS_INSTRUCTIONS[messageType],longpressDescription.slot="longpress-describedby-descriptor";const triggerParent=trigger.getRootNode();triggerParent===this.overlay.getRootNode()?this.overlay.append(longpressDescription):(longpressDescription.hidden=!("host"in triggerParent),trigger.insertAdjacentElement("afterend",longpressDescription));const releaseDescription=(0,_spectrum_web_components_base_src_condition_attribute_with_id_js__WEBPACK_IMPORTED_MODULE_1__.$)(trigger,"aria-describedby",[longpressDescription.id]);this.releaseDescription=()=>{releaseDescription(),longpressDescription.remove(),this.releaseDescription=_AbstractOverlay_dev_js__WEBPACK_IMPORTED_MODULE_3__.lQ}}shouldCompleteOpen(){this.longpressState="pressed"===this.longpressState?null:this.longpressState}init(){var _a;null==(_a=this.abortController)||_a.abort(),this.abortController=new AbortController;const{signal:signal}=this.abortController;this.target.addEventListener("longpress",()=>this.handleLongpress(),{signal:signal}),this.target.addEventListener("pointerdown",event=>this.handlePointerdown(event),{signal:signal}),this.prepareDescription(this.target),this.target.holdAffordance||(this.target.addEventListener("keydown",event=>this.handleKeydown(event),{signal:signal}),this.target.addEventListener("keyup",event=>this.handleKeyup(event),{signal:signal}))}}},"./packages/overlay/src/Overlay.dev.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Overlay:function(){return Overlay}});var index_dev=__webpack_require__("./tools/base/src/index.dev.js"),decorators_dev=__webpack_require__("./tools/base/src/decorators.dev.js"),ElementResolution_dev=__webpack_require__("./tools/reactive-controllers/src/ElementResolution.dev.js"),directives_dev=__webpack_require__("./tools/base/src/directives.dev.js"),random_id_dev=__webpack_require__("./tools/shared/src/random-id.dev.js"),AbstractOverlay_dev=__webpack_require__("./packages/overlay/src/AbstractOverlay.dev.js"),first_focusable_in_dev=__webpack_require__("./tools/shared/src/first-focusable-in.dev.js"),VirtualTrigger_dev=__webpack_require__("./packages/overlay/src/VirtualTrigger.dev.js");class BeforetoggleClosedEvent extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="open",this.newState="closed"}}class BeforetoggleOpenEvent extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="closed",this.newState="open"}}class OverlayStateEvent extends Event{constructor(type,overlay,{publish:publish,interaction:interaction,reason:reason}){super(type,{bubbles:publish,composed:publish}),this.overlay=overlay,this.detail={interaction:interaction,reason:reason}}}var src_index_dev=__webpack_require__("./tools/shared/src/index.dev.js");const supportsOverlayAuto=CSS.supports("(overlay: auto)");function isOpen(el){let popoverOpen=!1;try{popoverOpen=el.matches(":popover-open")}catch(error){}let open=!1;try{open=el.matches(":open")}catch(error){}return popoverOpen||open}const supportsPopover="showPopover"in document.createElement("div");const overlayStack=new class OverlayStack{constructor(){this.root=document.body,this.stack=[],this.originalBodyOverflow="",this.bodyScrollBlocked=!1,this.handleScroll=event=>{event.target!==document&&event.target!==document.documentElement&&event.target!==document.body||this.stack.forEach(overlay=>{overlay.open&&("auto"===overlay.type&&overlay.triggerElement instanceof HTMLElement&&overlay.triggerElement.closest("sp-picker, sp-action-menu")&&event.stopPropagation(),document.dispatchEvent(new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0})))})},this.handlePointerdown=event=>{this.pointerdownPath=event.composedPath(),this.lastOverlay=this.stack[this.stack.length-1]},this.handlePointerup=()=>{const composedPath=this.pointerdownPath;if(this.pointerdownPath=void 0,!this.stack.length)return;if(!(null==composedPath?void 0:composedPath.length))return;const lastOverlay=this.lastOverlay;this.lastOverlay=void 0;const lastIndex=this.stack.length-1,nonAncestorOverlays=this.stack.filter((overlay,i)=>!(composedPath.find(el=>el===overlay||el===(null==overlay?void 0:overlay.triggerElement)&&"hint"===(null==overlay?void 0:overlay.type)||i===lastIndex&&overlay!==lastOverlay&&"longpress"===overlay.triggerInteraction)||overlay.shouldPreventClose()||"manual"===overlay.type||"modal"===overlay.type&&lastOverlay!==overlay));nonAncestorOverlays.reverse(),nonAncestorOverlays.forEach(overlay=>{this.closeOverlay(overlay);let parentToClose=overlay.parentOverlayToForceClose;for(;parentToClose;)this.closeOverlay(parentToClose),parentToClose=parentToClose.parentOverlayToForceClose})},this.handleBeforetoggle=event=>{const{target:target,newState:open}=event;"open"!==open&&this.closeOverlay(target)},this.handleKeydown=event=>{if("Escape"!==event.code)return;if(!this.stack.length)return;const last=this.stack[this.stack.length-1];if("hint"===(null==last?void 0:last.type))return event.preventDefault(),event.stopPropagation(),void this.closeOverlay(last);"page"!==(null==last?void 0:last.type)?"manual"!==(null==last?void 0:last.type)?supportsPopover||last&&this.closeOverlay(last):this.closeOverlay(last):event.preventDefault()},this.bindEvents()}get document(){return this.root.ownerDocument||document}bindEvents(){this.document.addEventListener("pointerdown",this.handlePointerdown),this.document.addEventListener("pointerup",this.handlePointerup),this.document.addEventListener("keydown",this.handleKeydown),this.document.addEventListener("scroll",this.handleScroll,{capture:!0})}closeOverlay(overlay){const overlayIndex=this.stack.indexOf(overlay);overlayIndex>-1&&this.stack.splice(overlayIndex,1),overlay.open=!1,this.manageBodyScroll()}manageBodyScroll(){const shouldBlock=this.stack.some(overlay=>"modal"===overlay.type||"page"===overlay.type);shouldBlock&&!this.bodyScrollBlocked?(this.originalBodyOverflow=document.body.style.overflow||"",document.body.style.overflow="hidden",this.bodyScrollBlocked=!0):!shouldBlock&&this.bodyScrollBlocked&&(document.body.style.overflow=this.originalBodyOverflow,this.bodyScrollBlocked=!1)}overlaysByTriggerElement(triggerElement){return this.stack.filter(overlay=>overlay.triggerElement===triggerElement)}add(overlay){if(this.stack.includes(overlay)){const overlayIndex=this.stack.indexOf(overlay);return void(overlayIndex>-1&&(this.stack.splice(overlayIndex,1),this.stack.push(overlay)))}if("auto"===overlay.type||"modal"===overlay.type||"page"===overlay.type){const queryPathEventName="sp-overlay-query-path",queryPathEvent=new Event(queryPathEventName,{composed:!0,bubbles:!0});overlay.addEventListener(queryPathEventName,event=>{const path=event.composedPath();this.stack.forEach(overlayEl=>{path.find(el=>el===overlayEl)||"manual"===overlayEl.type||"modal"===overlayEl.type||this.closeOverlay(overlayEl)})},{once:!0}),overlay.dispatchEvent(queryPathEvent)}else if("hint"===overlay.type){if(this.stack.some(overlayEl=>"manual"!==overlayEl.type&&overlayEl.triggerElement&&overlayEl.triggerElement===overlay.triggerElement))return void(overlay.open=!1);this.stack.forEach(overlayEl=>{"hint"===overlayEl.type&&this.closeOverlay(overlayEl)})}requestAnimationFrame(()=>{this.stack.push(overlay),overlay.addEventListener("beforetoggle",this.handleBeforetoggle,{once:!0}),this.manageBodyScroll()})}remove(overlay){this.closeOverlay(overlay)}};var floating_ui_dom=__webpack_require__("../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs");function roundByDPR(num){if(void 0===num)return 0;const dpr=window.devicePixelRatio||1;return Math.round(num*dpr)/dpr}const getFallbackPlacements=placement=>{var _a;return null!=(_a={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[placement])?_a:[placement]};Symbol("placement updated");class PlacementController{constructor(host){this.originalPlacements=new WeakMap,this.allowPlacementUpdate=!1,this.closeForAncestorUpdate=()=>{!this.allowPlacementUpdate&&"modal"!==this.options.type&&this.cleanup&&this.target.dispatchEvent(new Event("close",{bubbles:!0})),this.allowPlacementUpdate=!1},this.updatePlacement=()=>{this.computePlacement()},this.resetOverlayPosition=()=>{this.target&&this.options&&(this.clearOverlayPosition(),this.host.offsetHeight,this.computePlacement())},this.host=host,this.host.addController(this)}async placeOverlay(target=this.target,options=this.options){if(this.target=target,this.options=options,!target||!options)return;const cleanupAncestorResize=(0,floating_ui_dom.ll)(options.trigger,target,this.closeForAncestorUpdate,{ancestorResize:!1,elementResize:!1,layoutShift:!1}),cleanupElementResize=(0,floating_ui_dom.ll)(options.trigger,target,this.updatePlacement,{ancestorScroll:!1});this.cleanup=()=>{var _a;null==(_a=this.host.elements)||_a.forEach(element=>{element.addEventListener("sp-closed",()=>{const placement=this.originalPlacements.get(element);placement&&element.setAttribute("placement",placement),this.originalPlacements.delete(element)},{once:!0})}),cleanupAncestorResize(),cleanupElementResize()}}async computePlacement(){var _a,_b;const{options:options,target:target}=this;await(document.fonts?document.fonts.ready:Promise.resolve());const isSubmenu=Array.from(this.host.elements).some(el=>{var _a2;return"submenu"===(null==(_a2=el.getAttribute)?void 0:_a2.call(el,"slot"))});if((0,src_index_dev.Tc)()&&!isSubmenu){Array.from(this.host.elements).some(el=>{var _a2;return"SP-MENU"===el.tagName||(null==(_a2=el.querySelector)?void 0:_a2.call(el,"sp-menu"))})&&await new Promise(resolve=>requestAnimationFrame(resolve))}const flipMiddleware=options.trigger instanceof HTMLElement?(0,floating_ui_dom.UU)():(0,floating_ui_dom.UU)({padding:8,fallbackPlacements:getFallbackPlacements(options.placement)}),[mainAxis=0,crossAxis=0]=Array.isArray(null==options?void 0:options.offset)?options.offset:[options.offset,0],tipElement=null==(_a=this.host.elements.find(el=>el.tipElement))?void 0:_a.tipElement,middleware=[(0,floating_ui_dom.cY)({mainAxis:mainAxis,crossAxis:crossAxis}),(0,floating_ui_dom.BN)({padding:8}),flipMiddleware,(0,floating_ui_dom.Ej)({padding:8,apply:({availableWidth:availableWidth,availableHeight:availableHeight,rects:{floating:floating}})=>{const maxHeight=Math.max(100,Math.floor(availableHeight)),actualHeight=floating.height;this.initialHeight=this.isConstrained&&this.initialHeight||actualHeight,this.isConstrained=actualHeight<this.initialHeight||maxHeight<=actualHeight;const appliedHeight=this.isConstrained?`${maxHeight}px`:"";Object.assign(target.style,{maxWidth:`${Math.floor(availableWidth)}px`,maxHeight:appliedHeight})}}),...tipElement?[(0,floating_ui_dom.UE)({element:tipElement,padding:options.tipPadding||8})]:[]],{x:x,y:y,placement:placement,middlewareData:middlewareData}=await(0,floating_ui_dom.rD)(options.trigger,target,{placement:options.placement,middleware:middleware,strategy:"fixed"});if(Object.assign(target.style,{top:"0px",left:"0px",translate:`${roundByDPR(x)}px ${roundByDPR(y)}px`}),target.setAttribute("actual-placement",placement),null==(_b=this.host.elements)||_b.forEach(element=>{this.originalPlacements.has(element)||this.originalPlacements.set(element,element.getAttribute("placement")),element.setAttribute("placement",placement)}),tipElement&&middlewareData.arrow){const{x:arrowX,y:arrowY}=middlewareData.arrow;Object.assign(tipElement.style,{top:placement.startsWith("right")||placement.startsWith("left")?"0px":"",left:placement.startsWith("bottom")||placement.startsWith("top")?"0px":"",translate:`${roundByDPR(arrowX)}px ${roundByDPR(arrowY)}px`})}}clearOverlayPosition(){this.target&&(this.target.style.removeProperty("max-height"),this.target.style.removeProperty("max-width"),this.initialHeight=void 0,this.isConstrained=!1)}hostConnected(){document.addEventListener("sp-update-overlays",this.resetOverlayPosition)}hostUpdated(){var _a;this.host.open||(null==(_a=this.cleanup)||_a.call(this),this.cleanup=void 0)}hostDisconnected(){var _a;null==(_a=this.cleanup)||_a.call(this),this.cleanup=void 0,document.removeEventListener("sp-update-overlays",this.resetOverlayPosition)}}__webpack_require__("./packages/overlay/src/LongpressController.dev.js");var strategies_dev=__webpack_require__("./packages/overlay/src/strategies.dev.js"),slottable_request_event_dev=__webpack_require__("./packages/overlay/src/slottable-request-event.dev.js");var overlay_css=index_dev.AH`
    :host{pointer-events:none;--swc-overlay-animation-distance:var(--spectrum-spacing-100);display:contents}:host(:has(>sp-tooltip)){--swc-overlay-animation-distance:var(--spectrum-tooltip-animation-distance)}.dialog{box-sizing:border-box;--sp-overlay-open:true;background:0 0;border:0;max-width:calc(100vw - 16px);height:auto;max-height:calc(100dvh - 16px);margin:0;padding:0;display:flex;position:fixed;inset:0 auto auto 0;overflow:visible;opacity:1!important}.dialog:not([is-visible]){display:none}.dialog:focus{outline:none}dialog:modal{--mod-popover-filter:var(--spectrum-popover-filter)}:host(:not([open])) .dialog{--sp-overlay-open:false}.dialog::backdrop{display:none}.dialog:before{content:"";position:absolute;inset:-999em;pointer-events:auto!important}.dialog:not(.not-immediately-closable):before{display:none}.dialog>div{width:100%}::slotted(*){pointer-events:auto;visibility:visible!important}::slotted(sp-popover){position:static}.dialog:not([actual-placement])[placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog:not([actual-placement])[placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}slot[name=longpress-describedby-descriptor]{display:none}@supports selector(:open){.dialog{opacity:0}.dialog:open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports selector(:popover-open){.dialog{opacity:0}.dialog:popover-open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports (overlay:auto){.dialog{transition:all var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s)),translate 0s,display var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s));transition-behavior:allow-discrete;display:none}.dialog:popover-open{display:flex}}@supports (not selector(:open)) and (not selector(:popover-open)){:host:not([open]) .dialog{pointer-events:none}.dialog[actual-placement]{z-index:calc(var(--swc-overlay-z-index-base,1000) + var(--swc-overlay-open-count))}}
`,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result};const browserSupportsPopover="showPopover"in document.createElement("div");let ComputedOverlayBase=function OverlayPopover(constructor){return class OverlayWithPopover extends constructor{async manageDelay(targetOpenState){if(!1!==targetOpenState&&targetOpenState===this.open){if(this.delayed){await AbstractOverlay_dev.Y5.openTimer(this)&&(this.open=!targetOpenState)}}else AbstractOverlay_dev.Y5.close(this)}async shouldHidePopover(targetOpenState){if(targetOpenState&&this.open!==targetOpenState)return;const update=async({newState:newState}={})=>{"open"!==newState&&await this.placementController.resetOverlayPosition()};isOpen(this.dialogEl)?this.dialogEl.addEventListener("toggle",update,{once:!0}):update()}shouldShowPopover(targetOpenState){let popoverOpen=!1;try{popoverOpen=this.dialogEl.matches(":popover-open")}catch(error){}let open=!1;try{open=this.dialogEl.matches(":open")}catch(error){}targetOpenState&&this.open===targetOpenState&&!popoverOpen&&!open&&this.isConnected&&(this.dialogEl.showPopover(),this.managePosition())}async ensureOnDOM(targetOpenState){supportsOverlayAuto||await this.shouldHidePopover(targetOpenState),this.shouldShowPopover(targetOpenState),await(0,AbstractOverlay_dev.dA)()}async makeTransition(targetOpenState){if(this.open!==targetOpenState)return null;let focusEl=null;const start=(el,index)=>()=>{if(el.open=targetOpenState,0===index){const event=targetOpenState?BeforetoggleOpenEvent:BeforetoggleClosedEvent;this.dispatchEvent(new event)}if(!targetOpenState)return;if(el.matches(src_index_dev.xX)&&(focusEl=el),focusEl=focusEl||(0,first_focusable_in_dev.I)(el),focusEl)return;el.querySelectorAll("slot").forEach(slot=>{focusEl||(focusEl=(0,first_focusable_in_dev.L)(slot))})},finish=(el,index)=>async()=>{if(this.open!==targetOpenState)return;const eventName=targetOpenState?"sp-opened":"sp-closed";if(index>0)return void el.dispatchEvent(new OverlayStateEvent(eventName,this,{interaction:this.type,publish:!1}));const reportChange=async()=>{if(this.open!==targetOpenState)return;await(0,AbstractOverlay_dev.dA)();const hasVirtualTrigger=this.triggerElement instanceof VirtualTrigger_dev.e;this.dispatchEvent(new OverlayStateEvent(eventName,this,{interaction:this.type,publish:hasVirtualTrigger})),el.dispatchEvent(new OverlayStateEvent(eventName,this,{interaction:this.type,publish:!1})),this.triggerElement&&!hasVirtualTrigger&&this.triggerElement.dispatchEvent(new OverlayStateEvent(eventName,this,{interaction:this.type,publish:!0})),this.state=targetOpenState?"opened":"closed",this.returnFocus(),await(0,AbstractOverlay_dev.dA)(),await(0,AbstractOverlay_dev.dA)(),targetOpenState===this.open&&!1===targetOpenState&&this.requestSlottable()};if(this.open!==targetOpenState)return;const open=isOpen(this.dialogEl);!0!==targetOpenState&&open&&this.isConnected?(this.dialogEl.addEventListener("beforetoggle",()=>{reportChange()},{once:!0}),this.dialogEl.hidePopover()):reportChange()};return this.elements.forEach((el,index)=>{(0,AbstractOverlay_dev.I)(el,start(el,index),finish(el,index))}),focusEl}}}(AbstractOverlay_dev.HR);browserSupportsPopover||(ComputedOverlayBase=function OverlayNoPopover(constructor){return class OverlayWithNoPopover extends constructor{async managePopoverOpen(){await this.managePosition()}async manageDelay(targetOpenState){!1!==targetOpenState&&targetOpenState===this.open?this.delayed&&await AbstractOverlay_dev.Y5.openTimer(this)&&(this.open=!targetOpenState):AbstractOverlay_dev.Y5.close(this)}async ensureOnDOM(_targetOpenState){document.body.offsetHeight}async makeTransition(targetOpenState){if(this.open!==targetOpenState)return null;let focusEl=null;const start=(el,index)=>()=>{if(targetOpenState===this.open){if(el.open=targetOpenState,0===index){const event=targetOpenState?BeforetoggleOpenEvent:BeforetoggleClosedEvent;this.dispatchEvent(new event)}!0===targetOpenState&&(el.matches(src_index_dev.xX)&&(focusEl=el),focusEl=focusEl||(0,first_focusable_in_dev.I)(el),focusEl||el.querySelectorAll("slot").forEach(slot=>{focusEl||(focusEl=(0,first_focusable_in_dev.L)(slot))}))}},finish=(el,index)=>async()=>{if(this.open!==targetOpenState)return;const eventName=targetOpenState?"sp-opened":"sp-closed";if(el.dispatchEvent(new OverlayStateEvent(eventName,this,{interaction:this.type})),index>0)return;const hasVirtualTrigger=this.triggerElement instanceof VirtualTrigger_dev.e;this.dispatchEvent(new OverlayStateEvent(eventName,this,{interaction:this.type,publish:hasVirtualTrigger})),this.triggerElement&&!hasVirtualTrigger&&this.triggerElement.dispatchEvent(new OverlayStateEvent(eventName,this,{interaction:this.type,publish:!0})),this.state=targetOpenState?"opened":"closed",this.returnFocus(),await(0,AbstractOverlay_dev.dA)(),await(0,AbstractOverlay_dev.dA)(),targetOpenState===this.open&&!1===targetOpenState&&this.requestSlottable()};return this.elements.forEach((el,index)=>{(0,AbstractOverlay_dev.I)(el,start(el,index),finish(el,index))}),focusEl}}}(AbstractOverlay_dev.HR));const _Overlay=class _Overlay extends ComputedOverlayBase{constructor(){super(...arguments),this._delayed=!1,this._disabled=!1,this.offset=0,this._open=!1,this.lastRequestSlottableState=!1,this.receivesFocus="auto",this.allowOutsideClick=!1,this._state="closed",this.triggerElement=null,this.type="auto",this.wasOpen=!1,this._focusTrap=null,this.closeOnFocusOut=event=>{if(!event.relatedTarget)return;const relationEvent=new Event("overlay-relation-query",{bubbles:!0,composed:!0});event.relatedTarget.addEventListener(relationEvent.type,event2=>{event2.composedPath().some(el=>el===this)||(this.open=!1)}),event.relatedTarget.dispatchEvent(relationEvent)},this.closeOnCancelEvent=()=>{this.open=!1}}get delayed(){var _a;return(null==(_a=this.elements.at(-1))?void 0:_a.hasAttribute("delayed"))||this._delayed}set delayed(delayed){this._delayed=delayed}get disabled(){return this._disabled}set disabled(disabled){var _a;this._disabled=disabled,disabled?(null==(_a=this.strategy)||_a.abort(),this.wasOpen=this.open,this.open=!1):(this.bindEvents(),this.open=this.open||this.wasOpen,this.wasOpen=!1)}get hasNonVirtualTrigger(){return!(!this.triggerElement||this.triggerElement instanceof VirtualTrigger_dev.e)}get placementController(){return this._placementController||(this._placementController=new PlacementController(this)),this._placementController}get open(){return this._open}set open(open){var _a;open&&this.disabled||open!==this.open&&((null==(_a=this.strategy)?void 0:_a.activelyOpening)&&!open||(this._open=open,this.open&&(_Overlay.openCount+=1),this.requestUpdate("open",!this.open),this.open&&this.requestSlottable()))}get state(){return this._state}set state(state2){var _a;if(state2===this.state)return;const oldState=this.state;this._state=state2,"opened"!==this.state&&"closed"!==this.state||null==(_a=this.strategy)||_a.shouldCompleteOpen(),this.requestUpdate("state",oldState)}get elementResolver(){return this._elementResolver||(this._elementResolver=new ElementResolution_dev.b(this)),this._elementResolver}get popoverValue(){if("popover"in this)switch(this.type){case"modal":return"auto";case"page":case"hint":return"manual";default:return this.type}}get requiresPositioning(){return!("page"===this.type||!this.open)&&!(!this.triggerElement||!this.placement&&"hint"!==this.type)}managePosition(){if(!this.requiresPositioning||!this.open)return;const offset=this.offset||0,trigger=this.triggerElement,placement=this.placement||"right",tipPadding=this.tipPadding;this.placementController.placeOverlay(this.dialogEl,{offset:offset,placement:placement,tipPadding:tipPadding,trigger:trigger,type:this.type})}async managePopoverOpen(){super.managePopoverOpen();const targetOpenState=this.open;if(this.open!==targetOpenState)return;if(await this.manageDelay(targetOpenState),this.open!==targetOpenState)return;if("longpress"===this.triggerInteraction&&await(0,AbstractOverlay_dev.dA)(),await this.ensureOnDOM(targetOpenState),this.open!==targetOpenState)return;const focusEl=await this.makeTransition(targetOpenState);if(this.open===targetOpenState){if(targetOpenState){const focusTrap=await __webpack_require__.e(402).then(__webpack_require__.bind(__webpack_require__,"../node_modules/focus-trap/dist/focus-trap.esm.js"));this._focusTrap=focusTrap.createFocusTrap(this.dialogEl,{initialFocus:focusEl||void 0,tabbableOptions:{getShadowRoot:!0},fallbackFocus:()=>(this.dialogEl.setAttribute("tabIndex","-1"),this.dialogEl),escapeDeactivates:!1,allowOutsideClick:this.allowOutsideClick}),"modal"!==this.type&&"page"!==this.type||this._focusTrap.activate()}await this.applyFocus(targetOpenState,focusEl)}}async applyFocus(targetOpenState,focusEl){"false"!==this.receivesFocus&&"hint"!==this.type&&(await(0,AbstractOverlay_dev.dA)(),await(0,AbstractOverlay_dev.dA)(),targetOpenState!==this.open||this.open?null==focusEl||focusEl.focus():this.hasNonVirtualTrigger&&this.contains(this.getRootNode().activeElement)&&this.triggerElement.focus())}returnFocus(){var _a;if(this.open||"hint"===this.type)return;"false"!==this.receivesFocus&&(null==(_a=this.triggerElement)?void 0:_a.focus)&&(this.contains(this.getRootNode().activeElement)||(()=>{var _a2,_b;const ancestors=[];let currentNode=document.activeElement;for(;null==(_a2=null==currentNode?void 0:currentNode.shadowRoot)?void 0:_a2.activeElement;)currentNode=currentNode.shadowRoot.activeElement;for(;currentNode;){const ancestor=currentNode.assignedSlot||currentNode.parentElement||(null==(_b=currentNode.getRootNode())?void 0:_b.host);ancestor&&ancestors.push(ancestor),currentNode=ancestor}return ancestors})().includes(this)||document.activeElement===document.body)&&this.triggerElement.focus()}async manageOpen(oldOpen){var _a;if(!this.isConnected&&this.open)return;this.hasUpdated||await this.updateComplete,this.open?(overlayStack.add(this),this.willPreventClose&&(document.addEventListener("pointerup",()=>{this.dialogEl.classList.toggle("not-immediately-closable",!1),this.willPreventClose=!1},{once:!0}),this.dialogEl.classList.toggle("not-immediately-closable",!0))):(oldOpen&&(null==(_a=this._focusTrap)||_a.deactivate(),this._focusTrap=null,this.dispose()),overlayStack.remove(this)),this.open&&"opened"!==this.state?this.state="opening":this.open||"closed"===this.state||(this.state="closing"),this.managePopoverOpen();const listenerRoot=this.getRootNode();"auto"===this.type&&(this.open?listenerRoot.addEventListener("focusout",this.closeOnFocusOut,{capture:!0}):listenerRoot.removeEventListener("focusout",this.closeOnFocusOut,{capture:!0})),"modal"!==this.type&&"page"!==this.type||(this.open?listenerRoot.addEventListener("cancel",this.closeOnCancelEvent,{capture:!0}):listenerRoot.removeEventListener("cancel",this.closeOnCancelEvent,{capture:!0}))}bindEvents(){var _a;null==(_a=this.strategy)||_a.abort(),this.strategy=void 0,this.hasNonVirtualTrigger&&this.triggerInteraction&&(this.strategy=new strategies_dev.W[this.triggerInteraction](this.triggerElement,{overlay:this}))}handleBeforetoggle(event){"open"!==event.newState&&this.handleBrowserClose(event)}handleBrowserClose(event){var _a;event.stopPropagation(),(null==(_a=this.strategy)?void 0:_a.activelyOpening)?this.manuallyKeepOpen():this.open=!1}manuallyKeepOpen(){this.open=!0,this.placementController.allowPlacementUpdate=!0,this.manageOpen(!1)}handleSlotchange(){var _a,_b;this.elements.length?this.hasNonVirtualTrigger&&(null==(_b=this.strategy)||_b.prepareDescription(this.triggerElement)):null==(_a=this.strategy)||_a.releaseDescription()}shouldPreventClose(){const shouldPreventClose=this.willPreventClose;return this.willPreventClose=!1,shouldPreventClose}requestSlottable(){this.lastRequestSlottableState!==this.open&&(this.open||document.body.offsetHeight,this.dispatchEvent(new slottable_request_event_dev.W("overlay-content",this.open?{}:slottable_request_event_dev.g)),this.lastRequestSlottableState=this.open)}willUpdate(changes){var _a;if(this.hasAttribute("id")||this.setAttribute("id",`${this.tagName.toLowerCase()}-${(0,random_id_dev.l)()}`),changes.has("allowOutsideClick")&&this.allowOutsideClick&&window.__swc.warn(this,`The "allow-outside-click" attribute on <${this.localName}> has been deprecated and will be removed in a future release. We do not recommend using this attribute for accessibility reasons. It allows clicks outside the overlay to close it, which can cause unexpected behavior and accessibility issues.`,"https://opensource.adobe.com/spectrum-web-components/components/overlay/",{level:"deprecation"}),changes.has("open")&&(this.hasUpdated||this.open)&&this.manageOpen(changes.get("open")),changes.has("trigger")){const[id,interaction]=(null==(_a=this.trigger)?void 0:_a.split("@"))||[];this.elementResolver.selector=id?`#${id}`:"",this.triggerInteraction=interaction}let oldTrigger=!1;changes.has(ElementResolution_dev.i)&&(oldTrigger=this.triggerElement,this.triggerElement=this.elementResolver.element),changes.has("triggerElement")&&(oldTrigger=changes.get("triggerElement")),!1!==oldTrigger&&this.bindEvents()}updated(changes){super.updated(changes),changes.has("placement")&&(this.placement?this.dialogEl.setAttribute("actual-placement",this.placement):this.dialogEl.removeAttribute("actual-placement"),this.open&&void 0!==changes.get("placement")&&this.placementController.resetOverlayPosition()),changes.has("state")&&"closed"===this.state&&void 0!==changes.get("state")&&this.placementController.clearOverlayPosition()}renderContent(){return index_dev.qy`
            <slot @slotchange=${this.handleSlotchange}></slot>
        `}get dialogStyleMap(){return{"--swc-overlay-open-count":_Overlay.openCount.toString()}}renderPopover(){return index_dev.qy`
            <div
                class="dialog"
                part="dialog"
                role=${(0,directives_dev.JR)("modal"===this.type||"page"===this.type?"dialog":void 0)}
                aria-modal=${(0,directives_dev.JR)("modal"===this.type||"page"===this.type?"true":void 0)}
                placement=${(0,directives_dev.JR)(this.requiresPositioning?this.placement||"right":void 0)}
                popover=${(0,directives_dev.JR)(this.popoverValue)}
                style=${(0,directives_dev.Wy)(this.dialogStyleMap)}
                @beforetoggle=${this.handleBeforetoggle}
                @close=${this.handleBrowserClose}
                ?is-visible=${"closed"!==this.state}
            >
                ${this.renderContent()}
            </div>
        `}render(){return index_dev.qy`
            ${this.renderPopover()}
            <slot name="longpress-describedby-descriptor"></slot>
        `}connectedCallback(){super.connectedCallback(),this.addEventListener("close",()=>{this.open=!1}),this.hasUpdated&&this.bindEvents()}disconnectedCallback(){var _a;null==(_a=this.strategy)||_a.releaseDescription(),this.open=!1,super.disconnectedCallback()}};_Overlay.styles=[overlay_css],_Overlay.openCount=1,__decorateClass([(0,decorators_dev.MZ)({type:Boolean})],_Overlay.prototype,"delayed",1),__decorateClass([(0,decorators_dev.P)(".dialog")],_Overlay.prototype,"dialogEl",2),__decorateClass([(0,decorators_dev.MZ)({type:Boolean})],_Overlay.prototype,"disabled",1),__decorateClass([(0,decorators_dev.KN)({flatten:!0,selector:':not([slot="longpress-describedby-descriptor"], slot)'})],_Overlay.prototype,"elements",2),__decorateClass([(0,decorators_dev.MZ)({type:Number})],_Overlay.prototype,"offset",2),__decorateClass([(0,decorators_dev.MZ)({type:Boolean,reflect:!0})],_Overlay.prototype,"open",1),__decorateClass([(0,decorators_dev.MZ)()],_Overlay.prototype,"placement",2),__decorateClass([(0,decorators_dev.MZ)({attribute:"receives-focus"})],_Overlay.prototype,"receivesFocus",2),__decorateClass([(0,decorators_dev.MZ)({type:Boolean,attribute:"allow-outside-click"})],_Overlay.prototype,"allowOutsideClick",2),__decorateClass([(0,decorators_dev.P)("slot")],_Overlay.prototype,"slotEl",2),__decorateClass([(0,decorators_dev.wk)()],_Overlay.prototype,"state",1),__decorateClass([(0,decorators_dev.MZ)({type:Number,attribute:"tip-padding"})],_Overlay.prototype,"tipPadding",2),__decorateClass([(0,decorators_dev.MZ)()],_Overlay.prototype,"trigger",2),__decorateClass([(0,decorators_dev.MZ)({attribute:!1})],_Overlay.prototype,"triggerElement",2),__decorateClass([(0,decorators_dev.MZ)({attribute:!1})],_Overlay.prototype,"triggerInteraction",2),__decorateClass([(0,decorators_dev.MZ)()],_Overlay.prototype,"type",2);let Overlay=_Overlay},"./packages/overlay/src/VirtualTrigger.dev.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{e:function(){return VirtualTrigger}});var _AbstractOverlay_dev_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/overlay/src/AbstractOverlay.dev.js");class VirtualTrigger{constructor(x,y){this.x=0,this.y=0,this.x=x,this.y=y}updateBoundingClientRect(x,y){this.x=x,this.y=y,_AbstractOverlay_dev_js__WEBPACK_IMPORTED_MODULE_0__.HR.update()}getBoundingClientRect(){return{width:0,height:0,top:this.y,right:this.x,y:this.y,x:this.x,bottom:this.y,left:this.x,toJSON(){}}}}},"./packages/overlay/src/strategies.dev.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{W:function(){return strategies}});var InteractionController_dev=__webpack_require__("./packages/overlay/src/InteractionController.dev.js");class ClickController extends InteractionController_dev.vq{constructor(){super(...arguments),this.type=InteractionController_dev.G4.click,this.preventNextToggle=!1}handleClick(){this.preventNextToggle||(this.open=!this.open),this.preventNextToggle=!1}handlePointerdown(){this.preventNextToggle=this.open}init(){var _a;null==(_a=this.abortController)||_a.abort(),this.abortController=new AbortController;const{signal:signal}=this.abortController;this.target.addEventListener("click",()=>this.handleClick(),{signal:signal}),this.target.addEventListener("pointerdown",()=>this.handlePointerdown(),{signal:signal})}}var condition_attribute_with_id_dev=__webpack_require__("./tools/base/src/condition-attribute-with-id.dev.js"),index_dev=__webpack_require__("./tools/shared/src/index.dev.js"),random_id_dev=__webpack_require__("./tools/shared/src/random-id.dev.js"),AbstractOverlay_dev=__webpack_require__("./packages/overlay/src/AbstractOverlay.dev.js");class HoverController extends InteractionController_dev.vq{constructor(){super(...arguments),this.type=InteractionController_dev.G4.hover,this.elementIds=[],this.targetFocused=!1,this.hovering=!1,this.overlayFocused=!1}handleKeyup(event){"Tab"===event.code?this.open=!0:"Escape"===event.code&&this.open&&(event.preventDefault(),event.stopPropagation(),this.open=!1,this.target&&this.target.focus())}handleTargetFocusin(){this.target.matches(":focus-visible")&&((0,index_dev.Tc)()&&this.target[InteractionController_dev.tV]===InteractionController_dev.G4.click||(this.open=!0,this.targetFocused=!0))}handleTargetFocusout(){this.targetFocused=!1,this.hovering||this.doFocusleave()}clearCloseTimeout(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0)}handleTargetPointerenter(){var _a;this.clearCloseTimeout(),(null==(_a=this.overlay)?void 0:_a.disabled)||(this.open=!0,this.hovering=!0)}handleTargetPointerleave(){this.doPointerleave()}handleHostPointerenter(){this.clearCloseTimeout()}handleHostPointerleave(){this.doPointerleave()}handleOverlayFocusin(){this.overlayFocused=!0,this.clearCloseTimeout()}handleOverlayFocusout(){this.overlayFocused=!1,this.hovering||this.targetFocused&&this.target.matches(":focus-visible")||this.doFocusleave()}prepareDescription(){if(!this.overlay.elements.length)return;const triggerRoot=this.target.getRootNode(),contentRoot=this.overlay.elements[0].getRootNode();triggerRoot===this.overlay.getRootNode()?this.prepareOverlayRelativeDescription():triggerRoot===contentRoot&&this.prepareContentRelativeDescription()}prepareOverlayRelativeDescription(){const releaseDescription=(0,condition_attribute_with_id_dev.$)(this.target,"aria-describedby",[this.overlay.id]);this.releaseDescription=()=>{releaseDescription(),this.releaseDescription=AbstractOverlay_dev.lQ}}prepareContentRelativeDescription(){const elementIds=[],appliedIds=this.overlay.elements.map(el=>(elementIds.push(el.id),el.id||(el.id=`${this.overlay.tagName.toLowerCase()}-helper-${(0,random_id_dev.l)()}`),el.id));this.elementIds=elementIds;const releaseDescription=(0,condition_attribute_with_id_dev.$)(this.target,"aria-describedby",appliedIds);this.releaseDescription=()=>{releaseDescription(),this.overlay.elements.map((el,index)=>{el.id=this.elementIds[index]}),this.releaseDescription=AbstractOverlay_dev.lQ}}scheduleClose(){this.hoverTimeout=setTimeout(()=>{this.open=!1},300)}doPointerleave(){this.hovering=!1;const triggerElement=this.target;this.targetFocused&&triggerElement.matches(":focus-visible")||this.overlayFocused||this.scheduleClose()}doFocusleave(){this.clearCloseTimeout(),this.targetFocused||this.overlayFocused||this.hovering||this.scheduleClose()}init(){var _a;null==(_a=this.abortController)||_a.abort(),this.abortController=new AbortController;const{signal:signal}=this.abortController;this.target.addEventListener("keyup",event=>this.handleKeyup(event),{signal:signal}),this.target.addEventListener("focusin",()=>this.handleTargetFocusin(),{signal:signal}),this.target.addEventListener("focusout",()=>this.handleTargetFocusout(),{signal:signal}),this.target.addEventListener("pointerenter",()=>this.handleTargetPointerenter(),{signal:signal}),this.target.addEventListener("pointerleave",()=>this.handleTargetPointerleave(),{signal:signal}),this.overlay&&this.initOverlay()}initOverlay(){if(!this.abortController)return;const{signal:signal}=this.abortController;this.overlay.addEventListener("pointerenter",()=>this.handleHostPointerenter(),{signal:signal}),this.overlay.addEventListener("pointerleave",()=>this.handleHostPointerleave(),{signal:signal}),this.overlay.addEventListener("focusin",()=>this.handleOverlayFocusin(),{signal:signal}),this.overlay.addEventListener("focusout",()=>this.handleOverlayFocusout(),{signal:signal}),this.overlay.addEventListener("keyup",event=>this.handleKeyup(event),{signal:signal})}}const strategies={click:ClickController,longpress:__webpack_require__("./packages/overlay/src/LongpressController.dev.js").g,hover:HoverController}}}]);
//# sourceMappingURL=7468.e48b4b29.iframe.bundle.js.map