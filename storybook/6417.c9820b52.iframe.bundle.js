/*! For license information please see 6417.c9820b52.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_spectrum_web_components_1st_gen=self.webpackChunk_spectrum_web_components_1st_gen||[]).push([[6417],{"../node_modules/@lit-labs/virtualizer/layouts/flow.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FlowLayout:function(){return FlowLayout},flow:function(){return flow}});class SizeCache{constructor(config){this._map=new Map,this._roundAverageSize=!1,this.totalSize=0,!0===config?.roundAverageSize&&(this._roundAverageSize=!0)}set(index,value){const prev=this._map.get(index)||0;this._map.set(index,value),this.totalSize+=value-prev}get averageSize(){if(this._map.size>0){const average=this.totalSize/this._map.size;return this._roundAverageSize?Math.round(average):average}return 0}getSize(index){return this._map.get(index)}clear(){this._map.clear(),this.totalSize=0}}var BaseLayout=__webpack_require__("../node_modules/@lit-labs/virtualizer/layouts/shared/BaseLayout.js");const flow=config=>Object.assign({type:FlowLayout},config);function leadingMargin(direction){return"horizontal"===direction?"marginLeft":"marginTop"}function trailingMargin(direction){return"horizontal"===direction?"marginRight":"marginBottom"}function offset(direction){return"horizontal"===direction?"xOffset":"yOffset"}function collapseMargins(a,b){const m=[a,b].sort();return m[1]<=0?Math.min(...m):m[0]>=0?Math.max(...m):m[0]+m[1]}class MetricsCache{constructor(){this._childSizeCache=new SizeCache,this._marginSizeCache=new SizeCache,this._metricsCache=new Map}update(metrics,direction){const marginsToUpdate=new Set;Object.keys(metrics).forEach(key=>{const k=Number(key);this._metricsCache.set(k,metrics[k]),this._childSizeCache.set(k,metrics[k][(0,BaseLayout.oV)(direction)]),marginsToUpdate.add(k),marginsToUpdate.add(k+1)});for(const k of marginsToUpdate){const a=this._metricsCache.get(k)?.[leadingMargin(direction)]||0,b=this._metricsCache.get(k-1)?.[trailingMargin(direction)]||0;this._marginSizeCache.set(k,collapseMargins(a,b))}}get averageChildSize(){return this._childSizeCache.averageSize}get totalChildSize(){return this._childSizeCache.totalSize}get averageMarginSize(){return this._marginSizeCache.averageSize}get totalMarginSize(){return this._marginSizeCache.totalSize}getLeadingMarginValue(index,direction){return this._metricsCache.get(index)?.[leadingMargin(direction)]||0}getChildSize(index){return this._childSizeCache.getSize(index)}getMarginSize(index){return this._marginSizeCache.getSize(index)}clear(){this._childSizeCache.clear(),this._marginSizeCache.clear(),this._metricsCache.clear()}}class FlowLayout extends BaseLayout.YS{constructor(){super(...arguments),this._itemSize={width:100,height:100},this._physicalItems=new Map,this._newPhysicalItems=new Map,this._metricsCache=new MetricsCache,this._anchorIdx=null,this._anchorPos=null,this._stable=!0,this._measureChildren=!0,this._estimate=!0}get measureChildren(){return this._measureChildren}updateItemSizes(sizes){this._metricsCache.update(sizes,this.direction),this._scheduleReflow()}_getPhysicalItem(idx){return this._newPhysicalItems.get(idx)??this._physicalItems.get(idx)}_getSize(idx){return this._getPhysicalItem(idx)&&this._metricsCache.getChildSize(idx)}_getAverageSize(){return this._metricsCache.averageChildSize||this._itemSize[this._sizeDim]}_estimatePosition(idx){const c=this._metricsCache;if(-1===this._first||-1===this._last)return c.averageMarginSize+idx*(c.averageMarginSize+this._getAverageSize());if(idx<this._first){const delta=this._first-idx;return this._getPhysicalItem(this._first).pos-(c.getMarginSize(this._first-1)||c.averageMarginSize)-(delta*c.averageChildSize+(delta-1)*c.averageMarginSize)}{const delta=idx-this._last;return this._getPhysicalItem(this._last).pos+(c.getChildSize(this._last)||c.averageChildSize)+(c.getMarginSize(this._last)||c.averageMarginSize)+delta*(c.averageChildSize+c.averageMarginSize)}}_getPosition(idx){const item=this._getPhysicalItem(idx),{averageMarginSize:averageMarginSize}=this._metricsCache;return 0===idx?this._metricsCache.getMarginSize(0)??averageMarginSize:item?item.pos:this._estimatePosition(idx)}_calculateAnchor(lower,upper){return lower<=0?0:upper>this._scrollSize-this._viewDim1?this.items.length-1:Math.max(0,Math.min(this.items.length-1,Math.floor((lower+upper)/2/this._delta)))}_getAnchor(lower,upper){if(0===this._physicalItems.size)return this._calculateAnchor(lower,upper);if(this._first<0)return this._calculateAnchor(lower,upper);if(this._last<0)return this._calculateAnchor(lower,upper);const firstItem=this._getPhysicalItem(this._first),lastItem=this._getPhysicalItem(this._last),firstMin=firstItem.pos;if(lastItem.pos+this._metricsCache.getChildSize(this._last)<lower)return this._calculateAnchor(lower,upper);if(firstMin>upper)return this._calculateAnchor(lower,upper);let candidateIdx=this._firstVisible-1,cMax=-1/0;for(;cMax<lower;){cMax=this._getPhysicalItem(++candidateIdx).pos+this._metricsCache.getChildSize(candidateIdx)}return candidateIdx}_getActiveItems(){0===this._viewDim1||0===this.items.length?this._clearItems():this._getItems()}_clearItems(){this._first=-1,this._last=-1,this._physicalMin=0,this._physicalMax=0;const items=this._newPhysicalItems;this._newPhysicalItems=this._physicalItems,this._newPhysicalItems.clear(),this._physicalItems=items,this._stable=!0}_getItems(){const items=this._newPhysicalItems;let lower,upper;if(this._stable=!0,null!==this.pin){const{index:index}=this.pin;this._anchorIdx=index,this._anchorPos=this._getPosition(index)}if(lower=this._scrollPosition-this._overhang,upper=this._scrollPosition+this._viewDim1+this._overhang,upper<0||lower>this._scrollSize)return void this._clearItems();null!==this._anchorIdx&&null!==this._anchorPos||(this._anchorIdx=this._getAnchor(lower,upper),this._anchorPos=this._getPosition(this._anchorIdx));let anchorSize=this._getSize(this._anchorIdx);void 0===anchorSize&&(this._stable=!1,anchorSize=this._getAverageSize());const anchorLeadingMargin=this._metricsCache.getMarginSize(this._anchorIdx)??this._metricsCache.averageMarginSize,anchorTrailingMargin=this._metricsCache.getMarginSize(this._anchorIdx+1)??this._metricsCache.averageMarginSize;0===this._anchorIdx&&(this._anchorPos=anchorLeadingMargin),this._anchorIdx===this.items.length-1&&(this._anchorPos=this._scrollSize-anchorTrailingMargin-anchorSize);let anchorErr=0;for(this._anchorPos+anchorSize+anchorTrailingMargin<lower&&(anchorErr=lower-(this._anchorPos+anchorSize+anchorTrailingMargin)),this._anchorPos-anchorLeadingMargin>upper&&(anchorErr=upper-(this._anchorPos-anchorLeadingMargin)),anchorErr&&(this._scrollPosition-=anchorErr,lower-=anchorErr,upper-=anchorErr,this._scrollError+=anchorErr),items.set(this._anchorIdx,{pos:this._anchorPos,size:anchorSize}),this._first=this._last=this._anchorIdx,this._physicalMin=this._anchorPos-anchorLeadingMargin,this._physicalMax=this._anchorPos+anchorSize+anchorTrailingMargin;this._physicalMin>lower&&this._first>0;){let size=this._getSize(--this._first);void 0===size&&(this._stable=!1,size=this._getAverageSize());let margin=this._metricsCache.getMarginSize(this._first);void 0===margin&&(this._stable=!1,margin=this._metricsCache.averageMarginSize),this._physicalMin-=size;const pos=this._physicalMin;if(items.set(this._first,{pos:pos,size:size}),this._physicalMin-=margin,!1===this._stable&&!1===this._estimate)break}for(;this._physicalMax<upper&&this._last<this.items.length-1;){let size=this._getSize(++this._last);void 0===size&&(this._stable=!1,size=this._getAverageSize());let margin=this._metricsCache.getMarginSize(this._last);void 0===margin&&(this._stable=!1,margin=this._metricsCache.averageMarginSize);const pos=this._physicalMax;if(items.set(this._last,{pos:pos,size:size}),this._physicalMax+=size+margin,!this._stable&&!this._estimate)break}const extentErr=this._calculateError();extentErr&&(this._physicalMin-=extentErr,this._physicalMax-=extentErr,this._anchorPos-=extentErr,this._scrollPosition-=extentErr,items.forEach(item=>item.pos-=extentErr),this._scrollError+=extentErr),this._stable&&(this._newPhysicalItems=this._physicalItems,this._newPhysicalItems.clear(),this._physicalItems=items)}_calculateError(){return 0===this._first?this._physicalMin:this._physicalMin<=0?this._physicalMin-this._first*this._delta:this._last===this.items.length-1?this._physicalMax-this._scrollSize:this._physicalMax>=this._scrollSize?this._physicalMax-this._scrollSize+(this.items.length-1-this._last)*this._delta:0}_reflow(){const{_first:_first,_last:_last}=this;super._reflow(),(-1===this._first&&-1==this._last||this._first===_first&&this._last===_last)&&this._resetReflowState()}_resetReflowState(){this._anchorIdx=null,this._anchorPos=null,this._stable=!0}_updateScrollSize(){const{averageMarginSize:averageMarginSize}=this._metricsCache;this._scrollSize=Math.max(1,this.items.length*(averageMarginSize+this._getAverageSize())+averageMarginSize)}get _delta(){const{averageMarginSize:averageMarginSize}=this._metricsCache;return this._getAverageSize()+averageMarginSize}_getItemPosition(idx){return{[this._positionDim]:this._getPosition(idx),[this._secondaryPositionDim]:0,[offset(this.direction)]:-(this._metricsCache.getLeadingMarginValue(idx,this.direction)??this._metricsCache.averageMarginSize)}}_getItemSize(idx){return{[this._sizeDim]:this._getSize(idx)||this._getAverageSize(),[this._secondarySizeDim]:this._itemSize[this._secondarySizeDim]}}_viewDim2Changed(){this._metricsCache.clear(),this._scheduleReflow()}}},"../node_modules/@lit-labs/virtualizer/layouts/shared/BaseLayout.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function dim1(direction){return"horizontal"===direction?"width":"height"}function dim2(direction){return"horizontal"===direction?"height":"width"}__webpack_require__.d(__webpack_exports__,{YS:function(){return BaseLayout},oV:function(){return dim1},vD:function(){return dim2}});class BaseLayout{_getDefaultConfig(){return{direction:"vertical"}}constructor(hostSink,config){this._latestCoords={left:0,top:0},this._direction=null,this._viewportSize={width:0,height:0},this.totalScrollSize={width:0,height:0},this.offsetWithinScroller={left:0,top:0},this._pendingReflow=!1,this._pendingLayoutUpdate=!1,this._pin=null,this._firstVisible=0,this._lastVisible=0,this._physicalMin=0,this._physicalMax=0,this._first=-1,this._last=-1,this._sizeDim="height",this._secondarySizeDim="width",this._positionDim="top",this._secondaryPositionDim="left",this._scrollPosition=0,this._scrollError=0,this._items=[],this._scrollSize=1,this._overhang=1e3,this._hostSink=hostSink,Promise.resolve().then(()=>this.config=config||this._getDefaultConfig())}set config(config){Object.assign(this,Object.assign({},this._getDefaultConfig(),config))}get config(){return{direction:this.direction}}get items(){return this._items}set items(items){this._setItems(items)}_setItems(items){items!==this._items&&(this._items=items,this._scheduleReflow())}get direction(){return this._direction}set direction(dir){(dir="horizontal"===dir?dir:"vertical")!==this._direction&&(this._direction=dir,this._sizeDim="horizontal"===dir?"width":"height",this._secondarySizeDim="horizontal"===dir?"height":"width",this._positionDim="horizontal"===dir?"left":"top",this._secondaryPositionDim="horizontal"===dir?"top":"left",this._triggerReflow())}get viewportSize(){return this._viewportSize}set viewportSize(dims){const{_viewDim1:_viewDim1,_viewDim2:_viewDim2}=this;Object.assign(this._viewportSize,dims),_viewDim2!==this._viewDim2?this._scheduleLayoutUpdate():_viewDim1!==this._viewDim1&&this._checkThresholds()}get viewportScroll(){return this._latestCoords}set viewportScroll(coords){Object.assign(this._latestCoords,coords);const oldPos=this._scrollPosition;this._scrollPosition=this._latestCoords[this._positionDim];Math.abs(oldPos-this._scrollPosition)>=1&&this._checkThresholds()}reflowIfNeeded(force=!1){(force||this._pendingReflow)&&(this._pendingReflow=!1,this._reflow())}set pin(options){this._pin=options,this._triggerReflow()}get pin(){if(null!==this._pin){const{index:index,block:block}=this._pin;return{index:Math.max(0,Math.min(index,this.items.length-1)),block:block}}return null}_clampScrollPosition(val){return Math.max(-this.offsetWithinScroller[this._positionDim],Math.min(val,this.totalScrollSize[dim1(this.direction)]-this._viewDim1))}unpin(){null!==this._pin&&(this._sendUnpinnedMessage(),this._pin=null)}_updateLayout(){}get _viewDim1(){return this._viewportSize[this._sizeDim]}get _viewDim2(){return this._viewportSize[this._secondarySizeDim]}_scheduleReflow(){this._pendingReflow=!0}_scheduleLayoutUpdate(){this._pendingLayoutUpdate=!0,this._scheduleReflow()}_triggerReflow(){this._scheduleLayoutUpdate(),Promise.resolve().then(()=>this.reflowIfNeeded())}_reflow(){this._pendingLayoutUpdate&&(this._updateLayout(),this._pendingLayoutUpdate=!1),this._updateScrollSize(),this._setPositionFromPin(),this._getActiveItems(),this._updateVisibleIndices(),this._sendStateChangedMessage()}_setPositionFromPin(){if(null!==this.pin){const lastScrollPosition=this._scrollPosition,{index:index,block:block}=this.pin;this._scrollPosition=this._calculateScrollIntoViewPosition({index:index,block:block||"start"})-this.offsetWithinScroller[this._positionDim],this._scrollError=lastScrollPosition-this._scrollPosition}}_calculateScrollIntoViewPosition(options){const{block:block}=options,index=Math.min(this.items.length,Math.max(0,options.index)),itemStartPosition=this._getItemPosition(index)[this._positionDim];let scrollPosition=itemStartPosition;if("start"!==block){const itemSize=this._getItemSize(index)[this._sizeDim];if("center"===block)scrollPosition=itemStartPosition-.5*this._viewDim1+.5*itemSize;else{const itemEndPosition=itemStartPosition-this._viewDim1+itemSize;if("end"===block)scrollPosition=itemEndPosition;else{const currentScrollPosition=this._scrollPosition;scrollPosition=Math.abs(currentScrollPosition-itemStartPosition)<Math.abs(currentScrollPosition-itemEndPosition)?itemStartPosition:itemEndPosition}}}return scrollPosition+=this.offsetWithinScroller[this._positionDim],this._clampScrollPosition(scrollPosition)}getScrollIntoViewCoordinates(options){return{[this._positionDim]:this._calculateScrollIntoViewPosition(options)}}_sendUnpinnedMessage(){this._hostSink({type:"unpinned"})}_sendVisibilityChangedMessage(){this._hostSink({type:"visibilityChanged",firstVisible:this._firstVisible,lastVisible:this._lastVisible})}_sendStateChangedMessage(){const childPositions=new Map;if(-1!==this._first&&-1!==this._last)for(let idx=this._first;idx<=this._last;idx++)childPositions.set(idx,this._getItemPosition(idx));const message={type:"stateChanged",scrollSize:{[this._sizeDim]:this._scrollSize,[this._secondarySizeDim]:null},range:{first:this._first,last:this._last,firstVisible:this._firstVisible,lastVisible:this._lastVisible},childPositions:childPositions};this._scrollError&&(message.scrollError={[this._positionDim]:this._scrollError,[this._secondaryPositionDim]:0},this._scrollError=0),this._hostSink(message)}get _num(){return-1===this._first||-1===this._last?0:this._last-this._first+1}_checkThresholds(){if(0===this._viewDim1&&this._num>0||null!==this._pin)this._scheduleReflow();else{const min=Math.max(0,this._scrollPosition-this._overhang),max=Math.min(this._scrollSize,this._scrollPosition+this._viewDim1+this._overhang);this._physicalMin>min||this._physicalMax<max?this._scheduleReflow():this._updateVisibleIndices({emit:!0})}}_updateVisibleIndices(options){if(-1===this._first||-1===this._last)return;let firstVisible=this._first;for(;firstVisible<this._last&&Math.round(this._getItemPosition(firstVisible)[this._positionDim]+this._getItemSize(firstVisible)[this._sizeDim])<=Math.round(this._scrollPosition);)firstVisible++;let lastVisible=this._last;for(;lastVisible>this._first&&Math.round(this._getItemPosition(lastVisible)[this._positionDim])>=Math.round(this._scrollPosition+this._viewDim1);)lastVisible--;firstVisible===this._firstVisible&&lastVisible===this._lastVisible||(this._firstVisible=firstVisible,this._lastVisible=lastVisible,options&&options.emit&&this._sendVisibilityChangedMessage())}}}}]);