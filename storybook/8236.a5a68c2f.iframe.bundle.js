"use strict";(self.webpackChunk_spectrum_web_components_1st_gen=self.webpackChunk_spectrum_web_components_1st_gen||[]).push([[8236],{"./packages/color-field/sp-color-field.dev.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){var index_dev=__webpack_require__("./tools/base/src/index.dev.js"),decorators_dev=__webpack_require__("./tools/base/src/decorators.dev.js"),ColorController_dev=__webpack_require__("./tools/reactive-controllers/src/ColorController.dev.js"),src_index_dev=__webpack_require__("./packages/textfield/src/index.dev.js");var color_field_css=index_dev.AH`
    :host{position:relative}
`,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor;class ColorField extends src_index_dev.r{constructor(){super(),this.viewColor=!1,this._value="",this.colorController=new ColorController_dev.C(this)}static get styles(){return[...super.styles,color_field_css]}set value(value){if(value===this.value)return;const oldValue=this._value;this._value=value,this.requestUpdate("value",oldValue)}get value(){return this._value}renderColorHandle(){return this.viewColor&&this.valid?index_dev.qy`
                  <sp-color-handle
                      size="m"
                      color="${this.colorController.getColor("srgb").toString()}"
                  ></sp-color-handle>
              `:index_dev.qy``}getColorValue(){return this.valid?this.colorController.getColor("srgb").toString():""}render(){return this.viewColor&&__webpack_require__.e(5493).then(__webpack_require__.bind(__webpack_require__,"./packages/color-handle/sp-color-handle.dev.js")),index_dev.qy`
            ${super.render()} ${this.renderColorHandle()}
        `}checkValidity(){let validity=super.checkValidity();return this.value?(this.valid=validity=this.colorController.validateColorString(this.value).isValid,this.invalid=!validity,this.valid&&(this.colorController.color=this.value)):this.valid=this.invalid=!1,validity}}((decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);kind&&result&&__defProp(target,key,result)})([(0,decorators_dev.MZ)({type:Boolean,attribute:"view-color"})],ColorField.prototype,"viewColor",2),customElements.define("sp-color-field",ColorField)},"./tools/reactive-controllers/src/ColorController.dev.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{C:function(){return ColorController}});var colorjs_io__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/colorjs.io/dist/color.js");class ColorController{constructor(host,{manageAs:manageAs}={}){this._color=new colorjs_io__WEBPACK_IMPORTED_MODULE_0__.A("hsv",[0,100,100],1),this.host=host,this.manageAs=manageAs}get color(){return this._color}validateColorString(color){var _a,_b,_c,_d;const result={spaceId:null,coords:[0,0,0],isValid:!1,alpha:1},rgbaMatch=null==(_a=[/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d*\.?\d+)\s*\)/i,/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,/^rgba\s+(\d{1,3})\s+(\d{1,3})\s+(\d{1,3})\s+(0|0?\.\d+|1)\s*$/i,/^rgb\s+(\d{1,3})\s+(\d{1,3})\s+(\d{1,3})\s*$/i,/^rgba\(\s*(\d{1,3})\s+(\d{1,3})\s+(\d{1,3})\s+(\d*\.?\d+)\s*\)$/i,/^rgb\(\s*(\d{1,3})\s+(\d{1,3})\s+(\d{1,3})\s*\)$/i,/rgb\(\s*(100|[0-9]{1,2}%)\s*,\s*(100|[0-9]{1,2}%)\s*,\s*(100|[0-9]{1,2}%)\s*\)/i,/rgba\(\s*(100|[0-9]{1,2})%\s*,\s*(100|[0-9]{1,2})%\s*,\s*(100|[0-9]{1,2})%\s*,\s*(\d*\.?\d+)\s*\)/i].find(regex=>regex.test(color)))?void 0:_a.exec(color),hslaMatch=null==(_b=[/hsla\(\s*(\d{1,3})\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d*\.?\d+)\s*\)/i,/hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*\)/i,/^hsla\s+(\d{1,3})\s+(\d{1,3}%?)\s+(\d{1,3}%?)\s+(\d*\.?\d+)\s*$/i,/^hsl\s+(\d{1,3})\s+(\d{1,3}%?)\s+(\d{1,3}%?)\s*$/i,/^hsla\(\s*(\d{1,3})\s+(\d{1,3}%?)\s+(\d{1,3}%?)\s+(\d*\.?\d+)\s*\)$/i,/^hsl\(\s*(\d{1,3})\s+(\d{1,3}%?)\s+(\d{1,3}%?)\s*\)$/i].find(regex=>regex.test(color)))?void 0:_b.exec(color),hsvaMatch=null==(_c=[/hsva\(\s*(\d{1,3})\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d*\.?\d+)\s*\)/i,/hsv\(\s*(\d{1,3})\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*\)/i,/^hsva\s+(\d{1,3})\s+(\d{1,3}%?)\s+(\d{1,3}%?)\s+(\d*\.?\d+)\s*$/i,/^hsv\s+(\d{1,3})\s+(\d{1,3}%?)\s+(\d{1,3}%?)\s*$/i,/^hsva\(\s*(\d{1,3})\s+(\d{1,3}%?)\s+(\d{1,3}%?)\s+(\d*\.?\d+)\s*\)$/i,/^hsv\(\s*(\d{1,3})\s+(\d{1,3}%?)\s+(\d{1,3}%?)\s*\)$/i].find(regex=>regex.test(color)))?void 0:_c.exec(color),hexMatch=null==(_d=[/^#([A-Fa-f0-9]{6})([A-Fa-f0-9]{2})?$/,/^#([A-Fa-f0-9]{3})([A-Fa-f0-9]{1})?$/].find(regex=>regex.test(color)))?void 0:_d.exec(color);if(rgbaMatch){const[,r,g,b,a]=rgbaMatch.filter(element=>"string"==typeof element),alpha=void 0===a?1:Number(a),processValue=value=>value.includes("%")?Number(value.replace("%",""))/100:Number(value)/255,numericR=processValue(r),numericG=processValue(g),numericB=processValue(b);result.spaceId="srgb",result.coords=[numericR,numericG,numericB],result.alpha=alpha,result.isValid=numericR>=0&&numericR<=1&&numericG>=0&&numericG<=1&&numericB>=0&&numericB<=1&&alpha>=0&&alpha<=1}else if(hslaMatch){const[,h,s,l,a]=hslaMatch,values=[h,s,l,void 0===a?"1":a].map(value=>Number(value.replace(/[^\d.]/g,""))),[numericH,numericS,numericL,numericA]=values;result.spaceId="hsl",result.coords=[numericH,numericS,numericL],result.alpha=numericA,result.isValid=numericH>=0&&numericH<=360&&numericS>=0&&numericS<=100&&numericL>=0&&numericL<=100&&numericA>=0&&numericA<=1}else if(hsvaMatch){const[,h,s,v,a]=hsvaMatch,values=[h,s,v,void 0===a?"1":a].map(value=>Number(value.replace(/[^\d.]/g,""))),[numericH,numericS,numericV,numericA]=values;result.spaceId="hsv",result.coords=[numericH,numericS,numericV],result.alpha=numericA,result.isValid=numericH>=0&&numericH<=360&&numericS>=0&&numericS<=100&&numericV>=0&&numericV<=100&&numericA>=0&&numericA<=1}else if(hexMatch){const[,hex,alphaHex]=hexMatch,processHex=hex2=>(1===hex2.length&&(hex2+=hex2),parseInt(hex2,16)/255);let numericR,numericG,numericB;3===hex.length?(numericR=processHex(hex.substring(0,1)),numericG=processHex(hex.substring(1,2)),numericB=processHex(hex.substring(2,3))):(numericR=processHex(hex.substring(0,2)),numericG=processHex(hex.substring(2,4)),numericB=processHex(hex.substring(4,6)));const numericA=alphaHex?processHex(alphaHex):1;result.spaceId="srgb",result.coords=[numericR,numericG,numericB],result.alpha=numericA,result.isValid=numericR>=0&&numericR<=1&&numericG>=0&&numericG<=1&&numericB>=0&&numericB<=1&&numericA>=0&&numericA<=1}return result}get colorOrigin(){return this._colorOrigin}set colorOrigin(colorOrigin){this._colorOrigin=colorOrigin}_getHexString(includeHash,includeAlpha){const{r:r,g:g,b:b}=this._color.to("srgb").srgb,a=this._color.alpha,rHex=Math.round(255*r).toString(16).padStart(2,"0"),gHex=Math.round(255*g).toString(16).padStart(2,"0"),bHex=Math.round(255*b).toString(16).padStart(2,"0"),aHex=Math.round(255*a).toString(16).padStart(2,"0");return`${includeHash?"#":""}${rHex}${gHex}${bHex}${includeAlpha?aHex:""}`}set color(color){let newColor;if(this._colorOrigin=color,"string"==typeof color){const colorValidationResult=this.validateColorString(color);if(colorValidationResult.isValid){const[coord1,coord2,coord3]=colorValidationResult.coords;newColor=new colorjs_io__WEBPACK_IMPORTED_MODULE_0__.A(`${colorValidationResult.spaceId}`,[coord1,coord2,coord3],colorValidationResult.alpha)}else try{colorjs_io__WEBPACK_IMPORTED_MODULE_0__.A.parse(color)}catch(error){try{newColor=new colorjs_io__WEBPACK_IMPORTED_MODULE_0__.A(`#${color}`)}catch(error2){return}}}else if(color instanceof colorjs_io__WEBPACK_IMPORTED_MODULE_0__.A)newColor=color;else if(!Array.isArray(color)){const{h:h,s:s,l:l,v:v,r:r,g:g,b:b,a:a}=color;if(void 0!==h&&void 0!==s){const lv=null!=l?l:v;newColor=new colorjs_io__WEBPACK_IMPORTED_MODULE_0__.A(void 0!==l?"hsl":"hsv",[parseFloat(h),"string"!=typeof s?100*s:parseFloat(s),"string"!=typeof lv?100*lv:parseFloat(lv)],parseFloat(a||"1"))}else void 0!==r&&void 0!==g&&void 0!==b&&(newColor=new colorjs_io__WEBPACK_IMPORTED_MODULE_0__.A("srgb",[parseFloat(r)/255,parseFloat(g)/255,parseFloat(b)/255],parseFloat(a||"1")))}newColor||(newColor=new colorjs_io__WEBPACK_IMPORTED_MODULE_0__.A(color)),this.manageAs?this._color=newColor.to(this.manageAs):this._color=newColor,this.host.requestUpdate()}get colorValue(){if("string"==typeof this._colorOrigin){let spaceId2="";switch(spaceId2=this._colorOrigin.startsWith("#")?"hex string":this._colorOrigin.startsWith("rgb")?"rgb":this._colorOrigin.startsWith("hsl")?"hsl":this._colorOrigin.startsWith("hsv")?"hsv":"hex",spaceId2){case"hsv":{const hadAlpha="a"===this._colorOrigin[3],{h:h,s:s,v:v}=this._color.to("hsv").hsv,a=this._color.alpha;return`hsv${hadAlpha?"a":""}(${Math.round(h)}, ${Math.round(s)}%, ${Math.round(v)}%${hadAlpha?`, ${a}`:""})`}case"hsl":{const hadAlpha="a"===this._colorOrigin[3],{h:h,s:s,l:l}=this._color.to("hsl").hsl,a=this._color.alpha;return`hsl${hadAlpha?"a":""}(${Math.round(h)}, ${Math.round(s)}%, ${Math.round(l)}%${hadAlpha?`, ${a}`:""})`}case"hex string":{const hadAlpha=9===this._colorOrigin.length||5===this._colorOrigin.length;return this._getHexString(!0,hadAlpha)}case"hex":{const hadAlpha=8===this._colorOrigin.length||4===this._colorOrigin.length;return this._getHexString(!1,hadAlpha)}default:{const{r:r,g:g,b:b}=this._color.to("srgb").srgb,hadAlpha="a"===this._colorOrigin[3],a=this._color.alpha;return this._colorOrigin.search("%")>-1?`rgb${hadAlpha?"a":""}(${Math.round(100*r)}%, ${Math.round(100*g)}%, ${Math.round(100*b)}%${hadAlpha?`,${Math.round(100*a)}%`:""})`:`rgb${hadAlpha?"a":""}(${Math.round(255*r)}, ${Math.round(255*g)}, ${Math.round(255*b)}${hadAlpha?`, ${a}`:""})`}}}let spaceId;if(this._colorOrigin)try{({spaceId:spaceId}=new colorjs_io__WEBPACK_IMPORTED_MODULE_0__.A(this._colorOrigin))}catch(error){const{h:h,s:s,l:l,v:v,r:r,g:g,b:b}=this._colorOrigin;void 0!==h&&void 0!==s&&void 0!==l?spaceId="hsl":void 0!==h&&void 0!==s&&void 0!==v?spaceId="hsv":void 0!==r&&void 0!==g&&void 0!==b&&(spaceId="srgb")}else({spaceId:spaceId}=this.color);switch(spaceId){case"hsv":{const{h:h,s:s,v:v}=this._color.to("hsv").hsv;return{h:h,s:s/100,v:v/100,a:this._color.alpha}}case"hsl":{const{h:h,s:s,l:l}=this._color.to("hsl").hsl;return{h:h,s:s/100,l:l/100,a:this._color.alpha}}case"srgb":{const{r:r,g:g,b:b}=this._color.to("srgb").srgb;return this._colorOrigin&&"string"==typeof this._colorOrigin.r&&this._colorOrigin.r.search("%")?{r:`${Math.round(255*r)}%`,g:`${Math.round(255*g)}%`,b:`${Math.round(255*b)}%`,a:this._color.alpha}:{r:Math.round(255*r),g:Math.round(255*g),b:Math.round(255*b),a:this._color.alpha}}}return this._color}get hue(){return Number(this._color.to("hsl").hsl.h)}set hue(hue){this._color.set("h",hue),this.host.requestUpdate()}getColor(format){if("string"==typeof format&&!["srgb","hsva","hsv","hsl","hsla"].includes(format))throw new Error("not a valid format");return this._color.to(format)}getHslString(){return this._color.to("hsl").toString()}savePreviousColor(){this._previousColor=this._color.clone()}restorePreviousColor(){this._color=this._previousColor}}}}]);
//# sourceMappingURL=8236.a5a68c2f.iframe.bundle.js.map