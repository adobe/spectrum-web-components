"use strict";(self.webpackChunk_spectrum_web_components_1st_gen=self.webpackChunk_spectrum_web_components_1st_gen||[]).push([[2873],{"./packages/overlay/stories/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Q:function(){return areIconsPresent},Z:function(){return isOverlayOpen}});var _spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./tools/base/src/index.dev.js");function nextFrame(){return new Promise(res=>requestAnimationFrame(()=>res()))}class IsOverlayOpen extends HTMLElement{constructor(){super(),this.sendFocus=async()=>{var _a;const selectedItem=null==(_a=document.querySelector("[focusable]"))?void 0:_a.querySelector("[selected]");selectedItem&&(selectedItem.focus(),selectedItem.focused=!0,await nextFrame(),selectedItem.scrollIntoView({block:"start"}),await nextFrame())},this.handleOpened=async event=>{const overlay=event.target,actions=[nextFrame(),overlay.updateComplete,this.sendFocus()];await Promise.all(actions),await nextFrame(),await nextFrame(),await nextFrame(),await nextFrame(),this.ready(!0)},this.readyPromise=Promise.resolve(!1),this.readyPromise=new Promise(res=>{this.ready=res,this.setup()})}async setup(){await nextFrame(),document.addEventListener("sp-opened",this.handleOpened)}get updateComplete(){return this.readyPromise}disconnectedCallback(){document.removeEventListener("sp-opened",this.handleOpened)}}customElements.define("is-overlay-open",IsOverlayOpen);const isOverlayOpen=story=>_spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__.qy`
        ${story()}
        <is-overlay-open></is-overlay-open>
    `;class AreIconsPresent extends HTMLElement{constructor(){super(),this.overlayTimeout=null,this.sendFocus=async()=>{var _a;const selectedItem=null==(_a=document.querySelector("[focusable]"))?void 0:_a.querySelector("[selected]");selectedItem&&(selectedItem.focus(),selectedItem.focused=!0,await nextFrame(),selectedItem.scrollIntoView({block:"start"}),await nextFrame())},this.handleOpened=async event=>{this.overlayTimeout&&(clearTimeout(this.overlayTimeout),this.overlayTimeout=null);const overlay=event.target,actions=[nextFrame(),overlay.updateComplete,this.sendFocus()];await Promise.all(actions),await nextFrame(),await nextFrame(),await nextFrame(),await nextFrame(),this.checkIcons()},this.checkIcons=async()=>{const icons=[...document.querySelectorAll("sp-icon")],picker=document.querySelector("sp-picker");if(picker){const pickerIcon=picker.querySelector("sp-icon");pickerIcon&&icons.push(pickerIcon)}const iconLoadPromises=Array.from(icons).map(icon=>new Promise(resolve=>{var _a;if("updateComplete"in icon&&"function"==typeof(null==(_a=icon.updateComplete)?void 0:_a.then))return void icon.updateComplete.then(()=>{resolve()});const src=icon.getAttribute("src");if(!src){const imgElement2=icon.querySelector("img");return imgElement2?void(imgElement2.complete?resolve():(imgElement2.addEventListener("load",()=>{resolve()},{once:!0}),imgElement2.addEventListener("error",()=>{console.warn("Failed to load icon image"),resolve()},{once:!0}))):void resolve()}const imgElement=icon.querySelector("img");if(imgElement)return void(imgElement.complete?resolve():(imgElement.addEventListener("load",()=>{resolve()},{once:!0}),imgElement.addEventListener("error",()=>{console.warn(`Failed to load icon image: ${src}`),resolve()},{once:!0})));const img=new Image;img.onload=()=>resolve(),img.onerror=()=>{console.warn(`Failed to load icon: ${src}`),resolve()},img.src=src}));await Promise.all(iconLoadPromises),await nextFrame(),this.ready(!0)},this.readyPromise=Promise.resolve(!1),this.readyPromise=new Promise(res=>{this.ready=res,this.setup()})}async setup(){await nextFrame(),document.addEventListener("sp-opened",this.handleOpened)}get updateComplete(){return this.readyPromise}disconnectedCallback(){document.removeEventListener("sp-opened",this.handleOpened)}}customElements.define("are-icons-present",AreIconsPresent);const areIconsPresent=story=>_spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__.qy`
        ${story()}
        <are-icons-present></are-icons-present>
    `},"./packages/picker/stories/picker-sizes.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{XL:function(){return XL},XLOpen:function(){return XLOpen},__namedExportsOrder:function(){return __namedExportsOrder},l:function(){return l},lOpen:function(){return lOpen},m:function(){return m},mOpen:function(){return mOpen},s:function(){return s},sOpen:function(){return sOpen}});var _spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./tools/base/src/index.dev.js"),_overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./packages/picker/sp-picker.dev.js"),__webpack_require__("./packages/menu/sp-menu.dev.js"),__webpack_require__("./packages/menu/sp-menu-item.dev.js"),__webpack_require__("./packages/overlay/stories/index.js"));__webpack_exports__.default={title:"Picker/Sizes",component:"sp-picker",argTypes:{onChange:{action:"change"},invalid:{name:"invalid",type:{name:"boolean",required:!1},table:{type:{summary:"boolean"},defaultValue:{summary:!1}},control:{type:"boolean"}},pending:{name:"pending",type:{name:"boolean",required:!1},table:{type:{summary:"boolean"},defaultValue:{summary:!1}},control:{type:"boolean"}}}};const picker=({onChange:onChange,open:open,size:size,pending:pending,invalid:invalid})=>_spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__.qy`
        <sp-field-label for="picker-${size}" size=${size}>
            Where do you live?
        </sp-field-label>
        <sp-picker
            id="picker-${size}"
            size=${size}
            @change="${event=>{const picker2=event.target;onChange(picker2.value)}}"
            label="Select a Country with a very long label, too long, in fact"
            ?pending="${pending}"
            ?invalid="${invalid}"
            ?open=${open}
        >
            <sp-menu-item>Deselect</sp-menu-item>
            <sp-menu-item>Select Inverse</sp-menu-item>
            <sp-menu-item>Feather...</sp-menu-item>
            <sp-menu-item>Select and Mask...</sp-menu-item>
            <sp-menu-item>Save Selection</sp-menu-item>
            <sp-menu-item disabled>Make Work Path</sp-menu-item>
        </sp-picker>
    `,s=args=>picker({...args,size:"s"}),sOpen=args=>picker({...args,open:!0,size:"s"});sOpen.decorators=[_overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_4__.Z];const m=args=>picker({...args,size:"m"}),mOpen=args=>picker({...args,open:!0,size:"m"});mOpen.decorators=[_overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_4__.Z];const l=args=>picker({...args,size:"l"}),lOpen=args=>picker({...args,open:!0,size:"l"});lOpen.decorators=[_overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_4__.Z];const XL=args=>picker({...args,size:"xl"}),XLOpen=args=>picker({...args,open:!0,size:"xl"});XLOpen.decorators=[_overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_4__.Z];const __namedExportsOrder=["s","sOpen","m","mOpen","l","lOpen","XL","XLOpen"];s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:'args => picker({\n  ...args,\n  size: "s"\n})',...s.parameters?.docs?.source}}},sOpen.parameters={...sOpen.parameters,docs:{...sOpen.parameters?.docs,source:{originalSource:'args => picker({\n  ...args,\n  open: true,\n  size: "s"\n})',...sOpen.parameters?.docs?.source}}},m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:'args => picker({\n  ...args,\n  size: "m"\n})',...m.parameters?.docs?.source}}},mOpen.parameters={...mOpen.parameters,docs:{...mOpen.parameters?.docs,source:{originalSource:'args => picker({\n  ...args,\n  open: true,\n  size: "m"\n})',...mOpen.parameters?.docs?.source}}},l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:'args => picker({\n  ...args,\n  size: "l"\n})',...l.parameters?.docs?.source}}},lOpen.parameters={...lOpen.parameters,docs:{...lOpen.parameters?.docs,source:{originalSource:'args => picker({\n  ...args,\n  open: true,\n  size: "l"\n})',...lOpen.parameters?.docs?.source}}},XL.parameters={...XL.parameters,docs:{...XL.parameters?.docs,source:{originalSource:'args => picker({\n  ...args,\n  size: "xl"\n})',...XL.parameters?.docs?.source}}},XLOpen.parameters={...XLOpen.parameters,docs:{...XLOpen.parameters?.docs,source:{originalSource:'args => picker({\n  ...args,\n  open: true,\n  size: "xl"\n})',...XLOpen.parameters?.docs?.source}}}}}]);
//# sourceMappingURL=picker-stories-picker-sizes-stories.fe60156f.iframe.bundle.js.map