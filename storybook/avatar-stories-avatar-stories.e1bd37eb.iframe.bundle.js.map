{"version":3,"file":"avatar-stories-avatar-stories.e1bd37eb.iframe.bundle.js","mappings":";;AACA;;;AAyEA;AACA;AACA;;AAGA;;ACpDA;AACA;AACA;AACA;;AAIA;;;AASA;AACA;AACA;AACA;;AAIA","sources":["webpack://@spectrum-web-components/1st-gen/./packages/avatar/src/Avatar.dev.js","webpack://@spectrum-web-components/1st-gen/./packages/avatar/stories/avatar.stories.js"],"sourcesContent":["\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\nimport {\n  html\n} from \"@spectrum-web-components/base\";\nimport {\n  property,\n  query\n} from \"@spectrum-web-components/base/src/decorators.js\";\nimport { ifDefined } from \"@spectrum-web-components/base/src/directives.js\";\nimport { LikeAnchor } from \"@spectrum-web-components/shared/src/like-anchor.js\";\nimport { Focusable } from \"@spectrum-web-components/shared/src/focusable.js\";\nimport avatarStyles from \"./avatar.css.js\";\nconst validSizes = [50, 75, 100, 200, 300, 400, 500, 600, 700];\nconst defaultSize = validSizes[2];\nexport class Avatar extends LikeAnchor(Focusable) {\n  constructor() {\n    super(...arguments);\n    this.src = \"\";\n    this.isDecorative = false;\n    this._size = defaultSize;\n  }\n  static get styles() {\n    return [avatarStyles];\n  }\n  get focusElement() {\n    return this.anchorElement || this;\n  }\n  get size() {\n    return this._size;\n  }\n  set size(value) {\n    const size = value;\n    const validSize = validSizes.includes(size) ? size : defaultSize;\n    if (validSize) {\n      this.setAttribute(\"size\", `${validSize}`);\n    }\n    if (this._size === validSize) {\n      return;\n    }\n    const oldSize = this._size;\n    this._size = validSize;\n    this.requestUpdate(\"size\", oldSize);\n  }\n  /**\n   * Renders the avatar image with appropriate accessibility attributes.\n   * Label takes precedence over isDecorative. When decorative and has href,\n   * aria-hidden is not set so the link remains accessible.\n   */\n  render() {\n    let altValue = \"\";\n    let ariaHidden;\n    if (this.label) {\n      altValue = this.label;\n      ariaHidden = void 0;\n    } else if (this.isDecorative) {\n      altValue = \"\";\n      ariaHidden = this.href ? void 0 : \"true\";\n    } else {\n      altValue = \"\";\n      ariaHidden = void 0;\n    }\n    const avatar = html`\n            <img\n                class=\"image\"\n                alt=${altValue}\n                aria-hidden=${ifDefined(ariaHidden)}\n                src=${this.src}\n            />\n        `;\n    if (this.href) {\n      return this.renderAnchor({\n        id: \"link\",\n        className: \"link\",\n        anchorContent: avatar\n      });\n    }\n    return avatar;\n  }\n  firstUpdated(changes) {\n    super.firstUpdated(changes);\n    if (!this.hasAttribute(\"size\")) {\n      this.setAttribute(\"size\", `${this.size}`);\n    }\n    this.warnMissingAlt();\n  }\n  updated(changes) {\n    super.updated(changes);\n    if (changes.has(\"label\") || changes.has(\"isDecorative\") || changes.has(\"href\")) {\n      this.warnMissingAlt();\n    }\n  }\n  warnMissingAlt() {\n    if (true) {\n      if (!this.label && !this.isDecorative) {\n        window.__swc.warn(\n          this,\n          `<${this.localName}> needs either a \\`label\\` attribute or \\`is-decorative\\` attribute to be accessible.`,\n          \"https://opensource.adobe.com/spectrum-web-components/components/avatar/#accessibility\",\n          {\n            type: \"accessibility\",\n            issues: [\n              \"Provide a `label` attribute with meaningful alternative text for the avatar image, or\",\n              \"Set `is-decorative` attribute to mark the avatar as decorative (hidden from screen readers).\"\n            ]\n          }\n        );\n      } else if (this.isDecorative && this.href && !this.label) {\n        window.__swc.warn(\n          this,\n          `<${this.localName}> with \\`is-decorative\\` and \\`href\\` requires a \\`label\\` attribute for the link to be accessible.`,\n          \"https://opensource.adobe.com/spectrum-web-components/components/avatar/#accessibility\",\n          {\n            type: \"accessibility\",\n            issues: [\n              \"Provide a `label` attribute to give the link an accessible name.\",\n              \"Decorative avatars should typically not be interactive links.\"\n            ]\n          }\n        );\n      }\n    }\n  }\n}\n__decorateClass([\n  query(\"#link\")\n], Avatar.prototype, \"anchorElement\", 2);\n__decorateClass([\n  property()\n], Avatar.prototype, \"src\", 2);\n__decorateClass([\n  property({ type: Boolean, reflect: true, attribute: \"is-decorative\" })\n], Avatar.prototype, \"isDecorative\", 2);\n__decorateClass([\n  property({ type: Number, reflect: true })\n], Avatar.prototype, \"size\", 1);\n//# sourceMappingURL=Avatar.dev.js.map\n","\"use strict\";\nimport { html } from \"@spectrum-web-components/base\";\nimport \"@spectrum-web-components/avatar/sp-avatar.js\";\nimport { avatar } from \"./images.js\";\nexport default {\n  component: \"sp-avatar\",\n  title: \"Avatar\",\n  argTypes: {\n    disabled: { control: \"boolean\" },\n    label: { control: \"text\" },\n    src: { control: \"text\" },\n    isDecorative: { control: \"boolean\" }\n  },\n  args: {\n    disabled: false,\n    label: \"Place dog\",\n    src: avatar\n  }\n};\nconst Template = ({\n  label = \"Place Dog\",\n  src = avatar,\n  size = 100,\n  isDecorative = false\n} = {}) => {\n  return html`\n        <sp-avatar\n            label=${label}\n            src=${src}\n            size=${size}\n            ?is-decorative=${isDecorative}\n        ></sp-avatar>\n    `;\n};\nconst Link = ({\n  disabled: disabled2 = false,\n  label = \"Place Dog\",\n  src = avatar,\n  size = 100\n} = {}) => {\n  return html`\n        <sp-avatar\n            href=\"https://opensource.adobe.com/spectrum-web-components\"\n            ?disabled=${disabled2}\n            label=${label}\n            src=${src}\n            size=${size}\n        ></sp-avatar>\n    `;\n};\nexport const size50 = (args = {}) => Template({ ...args, size: 50 });\nexport const size75 = (args = {}) => Template({ ...args, size: 75 });\nexport const size100 = (args = {}) => Template({ ...args, size: 100 });\nexport const size200 = (args = {}) => Template({ ...args, size: 200 });\nexport const size300 = (args = {}) => Template({ ...args, size: 300 });\nexport const size400 = (args = {}) => Template({ ...args, size: 400 });\nexport const size500 = (args = {}) => Template({ ...args, size: 500 });\nexport const size600 = (args = {}) => Template({ ...args, size: 600 });\nexport const size700 = (args = {}) => Template({ ...args, size: 700 });\nexport const linked = (args = {}) => Link(args);\nexport const disabled = (args = {}) => Link(args);\ndisabled.args = { disabled: true };\nexport const decorative = (args = {}) => Template({ ...args, isDecorative: true, label: \"\" });\ndecorative.args = { isDecorative: true };\n//# sourceMappingURL=avatar.stories.js.map\n;export const __namedExportsOrder = [\"size50\",\"size75\",\"size100\",\"size200\",\"size300\",\"size400\",\"size500\",\"size600\",\"size700\",\"linked\",\"disabled\",\"decorative\"];"],"names":[],"sourceRoot":""}