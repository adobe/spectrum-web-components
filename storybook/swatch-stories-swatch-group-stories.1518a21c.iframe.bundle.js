"use strict";(self.webpackChunk_spectrum_web_components_1st_gen=self.webpackChunk_spectrum_web_components_1st_gen||[]).push([[2054],{"./packages/swatch/stories/swatch-group.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},borderLight:function(){return borderLight},borderNone:function(){return borderNone},default:function(){return swatch_group_stories},densityCompact:function(){return densityCompact},densitySpacious:function(){return densitySpacious},roundingFull:function(){return roundingFull},roundingNone:function(){return roundingNone},selectsMultiple:function(){return selectsMultiple},selectsSingle:function(){return selectsSingle},shapeRectangle:function(){return shapeRectangle}});var index_dev=__webpack_require__("./tools/base/src/index.dev.js"),directives_dev=__webpack_require__("./tools/base/src/directives.dev.js"),decorators_dev=__webpack_require__("./tools/base/src/decorators.dev.js"),RovingTabindex_dev=__webpack_require__("./tools/reactive-controllers/src/RovingTabindex.dev.js"),mutation_controller=__webpack_require__("../node_modules/@lit-labs/observers/development/mutation-controller.js");var swatch_group_css=index_dev.AH`
    :host{justify-content:flex-start;align-items:flex-start;gap:var(--mod-swatchgroup-spacing-regular,var(--spectrum-swatchgroup-spacing-regular));flex-flow:wrap;display:inline-flex}:host([density=compact]){gap:var(--mod-swatchgroup-spacing-compact,var(--spectrum-swatchgroup-spacing-compact))}:host([density=spacious]){gap:var(--mod-swatchgroup-spacing-spacious,var(--spectrum-swatchgroup-spacing-spacious))}:host{--spectrum-swatchgroup-spacing-compact:var(--system-swatch-group-spacing-compact);--spectrum-swatchgroup-spacing-regular:var(--system-swatch-group-spacing-regular);--spectrum-swatchgroup-spacing-spacious:var(--system-swatch-group-spacing-spacious)}
`,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result};class SwatchGroup extends((0,index_dev.ZG)(index_dev.wG,{validSizes:["xs","s","m","l"],noDefaultSize:!0})){constructor(){super(),this._selected=[],this.selectedSet=new Set,this.rovingTabindexController=new RovingTabindex_dev.t(this,{focusInIndex:elements=>{let firstEnabledIndex=-1;const firstSelectedIndex=elements.findIndex((el,index)=>(elements[firstEnabledIndex]||el.disabled||(firstEnabledIndex=index),el.selected&&!el.disabled));return elements[firstSelectedIndex]?firstSelectedIndex:firstEnabledIndex},elements:()=>this.swatches,isFocusableElement:el=>!el.disabled}),this.manageChange=async()=>{const presentSet=new Set;this.selectedSet=new Set(this.selected),await Promise.all(this.swatches.map(swatch=>swatch.updateComplete)),this.swatches.forEach(swatch=>{presentSet.add(swatch.value),swatch.selected&&this.selectedSet.add(swatch.value)}),this.selectedSet.forEach(value=>{presentSet.has(value)||this.selectedSet.delete(value)}),this._selected=[...this.selectedSet],this.rovingTabindexController.clearElementCache()},new mutation_controller.g(this,{config:{attributes:!0,childList:!0,subtree:!0},callback:()=>{this.manageChange()}})}static get styles(){return[swatch_group_css]}get selected(){return this._selected}set selected(selected){if(selected===this.selected)return;const oldSelected=this.selected;this._selected=selected,this.requestUpdate("selected",oldSelected)}focus(options){this.rovingTabindexController.focus(options)}handleChange(event){event.stopPropagation();const oldSelected=this.selected;if(!this.selects)return void event.preventDefault();if("single"===this.selects){const{target:target}=event;if(target.tabIndex=0,target.selected=!0,this.selectedSet.has(target.value))return;this.selectedSet.clear(),this.selectedSet.add(target.value),this.rovingTabindexController.elements.forEach(child=>{child!==target&&(child.selected=!1)})}else if("multiple"===this.selects){const{target:target}=event;target.selected?this.selectedSet.add(target.value):this.selectedSet.delete(target.value)}this._selected=[...this.selectedSet];this.dispatchEvent(new Event("change",{cancelable:!0,bubbles:!0}))||(this._selected=oldSelected,event.preventDefault())}getPassthroughSwatchActions(changes){const targetValues={};changes.has("selects")&&(this.selects||void 0!==changes.get("selects"))&&(targetValues.selects=this.selects),changes.has("border")&&(this.border||void 0!==changes.get("border"))&&(targetValues.border=this.border),changes.has("rounding")&&(this.rounding||void 0!==changes.get("rounding"))&&(targetValues.rounding=this.rounding),!changes.has("size")||"m"===this.size&&void 0===changes.get("size")||(targetValues.size=this.size),changes.has("shape")&&(this.shape||void 0!==changes.get("shape"))&&(targetValues.shape=this.shape);const passThroughSwatchActions=[];return Object.keys(targetValues).length&&passThroughSwatchActions.push(swatch=>{"selects"in targetValues&&"multiple"!==targetValues.selects&&swatch.mixedValue&&window.__swc.warn(this,'<sp-swatch> elements can only leverage the "mixed-value" attribute when their <sp-swatch-group> parent element is also leveraging "selects="multiple""',"https://opensource.adobe.com/spectrum-web-components/components/swatch-group/#multiple",{type:"accessibility"}),"border"in targetValues&&(swatch.border=targetValues.border),"rounding"in targetValues&&(swatch.rounding=targetValues.rounding),"shape"in targetValues&&(swatch.shape=targetValues.shape),"size"in targetValues&&(swatch.size=targetValues.size)}),passThroughSwatchActions}getSelectionSwatchActions(changes){const selectionSwatchActions=[];if(!changes.has("selects"))return selectionSwatchActions;this.selects?this.setAttribute("role","single"===this.selects?"radiogroup":"group"):this.removeAttribute("role");const swatchRole=this.selects?{single:"radio",multiple:"checkbox"}[this.selects]:"button";return selectionSwatchActions.push(swatch=>{swatch.setAttribute("role",swatchRole)}),selectionSwatchActions}render(){return index_dev.qy`
            <slot
                @change=${this.handleChange}
                @slotchange=${this.manageChange}
            ></slot>
        `}willUpdate(changes){const swatchActions=[...this.getPassthroughSwatchActions(changes),...this.getSelectionSwatchActions(changes)];let nextSelected=new Set(this.selected);const currentValues=new Set;changes.has("selected")&&swatchActions.push(swatch=>{currentValues.add(swatch.value),nextSelected.has(swatch.value)||!this.hasUpdated&&swatch.selected?swatch.selected=!0:swatch.selected=!1});const doActions=()=>{nextSelected=new Set(this.selected),this.swatches.forEach(swatch=>{swatchActions.forEach(action=>{action(swatch)})}),changes.has("selected")&&(this._selected=[...nextSelected.values()].filter(selectedValue=>currentValues.has(selectedValue)))};this.hasUpdated?doActions():this.shadowRoot.addEventListener("slotchange",()=>{requestAnimationFrame(doActions)},{once:!0})}}__decorateClass([(0,decorators_dev.MZ)({reflect:!0})],SwatchGroup.prototype,"border",2),__decorateClass([(0,decorators_dev.MZ)({reflect:!0})],SwatchGroup.prototype,"density",2),__decorateClass([(0,decorators_dev.MZ)({reflect:!0})],SwatchGroup.prototype,"rounding",2),__decorateClass([(0,decorators_dev.MZ)({type:Array})],SwatchGroup.prototype,"selected",1),__decorateClass([(0,decorators_dev.MZ)()],SwatchGroup.prototype,"selects",2),__decorateClass([(0,decorators_dev.MZ)({reflect:!0})],SwatchGroup.prototype,"shape",2),__decorateClass([(0,decorators_dev.KN)({flatten:!0})],SwatchGroup.prototype,"swatches",2),(0,__webpack_require__("./tools/base/src/define-element.dev.js").e)("sp-swatch-group",SwatchGroup);__webpack_require__("./packages/swatch/sp-swatch.dev.js");var swatch_group_stories={title:"Swatch group",component:"sp-swatch-group",args:{},argTypes:{border:{name:"border",type:{name:"string",required:!1},description:"The border to apply to the Swatch children.",table:{defaultValue:{summary:""}},control:{type:"inline-radio",options:["normal","light","none"]}},density:{name:"density",type:{name:"string",required:!1},description:"The density at which to display the Swatch children.",table:{defaultValue:{summary:""}},control:{type:"inline-radio",options:["normal","compact","spacious"]}},rounding:{name:"rounding",type:{name:"string",required:!1},description:"The rounding to apply to the Swatch children.",table:{defaultValue:{summary:""}},control:{type:"inline-radio",options:["normal","none","full"]}},selects:{name:"selects",type:{name:"string",required:!1},description:"Whether the Swatch Group manages a selection, and whether it is a sinlge or multiple selection.",table:{defaultValue:{summary:""}},control:{type:"inline-radio",options:["none","single","multiple"]}},shape:{name:"shape",type:{name:"string",required:!1},description:"The shape to apply to the Swatch children.",table:{defaultValue:{summary:""}},control:{type:"inline-radio",options:["normal","rectangle"]}}},decorators:[(story,{args:{selected:selected=[]}})=>index_dev.qy`
            <div
                @change=${async event=>{if(await 0,event.defaultPrevented)return;event.target.nextElementSibling.textContent=`Selected: ${JSON.stringify(event.target.selected)}`}}
            >
                ${story()}
                <div>Selected: ${JSON.stringify(selected)}</div>
            </div>
        `]};const colors=["--spectrum-gray-700","--spectrum-red-700","--spectrum-orange-700","--spectrum-yellow-700","--spectrum-chartreuse-700","--spectrum-celery-700","--spectrum-green-700","--spectrum-seafoam-700","--spectrum-blue-700","--spectrum-indigo-700","--spectrum-purple-700","--spectrum-fuchsia-700","--spectrum-magenta-700"],template=({border:border,density:density,rounding:rounding,selects:selects,selected:selected=[],shape:shape})=>{const groupLabel=selects?"single"===selects?"Select a color":"Selects color(s)":void 0;return index_dev.qy`
        <sp-swatch-group
            border=${(0,directives_dev.JR)("normal"===border?void 0:border)}
            density=${(0,directives_dev.JR)("normal"===density?void 0:density)}
            rounding=${(0,directives_dev.JR)("normal"===rounding?void 0:rounding)}
            selects=${(0,directives_dev.JR)("none"===selects?void 0:selects)}
            .selected=${selected}
            shape=${(0,directives_dev.JR)("normal"===shape?void 0:shape)}
            aria-label=${(0,directives_dev.JR)(groupLabel)}
        >
            ${colors.map(color=>index_dev.qy`
                    <sp-swatch
                        color="var(${color})"
                        label=${color}
                        value=${color}
                    ></sp-swatch>
                `)}
        </sp-swatch-group>
    `},Default=args=>template(args);Default.args={};const densityCompact=args=>template(args);densityCompact.args={density:"compact"};const densitySpacious=args=>template(args);densitySpacious.args={density:"spacious"};const selectsSingle=args=>template(args);selectsSingle.args={selects:"single",selected:["--spectrum-yellow-500"]};const selectsMultiple=args=>template(args);selectsMultiple.args={selects:"multiple",selected:["--spectrum-celery-500","--spectrum-red-500","--spectrum-purple-500","--spectrum-blue-500"]};const borderLight=args=>template(args);borderLight.args={border:"light"};const borderNone=args=>template(args);borderNone.args={border:"none"};const roundingNone=args=>template(args);roundingNone.args={rounding:"none"};const roundingFull=args=>template(args);roundingFull.args={rounding:"full"};const shapeRectangle=args=>template(args);shapeRectangle.args={shape:"rectangle"};const __namedExportsOrder=["Default","densityCompact","densitySpacious","selectsSingle","selectsMultiple","borderLight","borderNone","roundingNone","roundingFull","shapeRectangle"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => template(args)",...Default.parameters?.docs?.source}}},densityCompact.parameters={...densityCompact.parameters,docs:{...densityCompact.parameters?.docs,source:{originalSource:"args => template(args)",...densityCompact.parameters?.docs?.source}}},densitySpacious.parameters={...densitySpacious.parameters,docs:{...densitySpacious.parameters?.docs,source:{originalSource:"args => template(args)",...densitySpacious.parameters?.docs?.source}}},selectsSingle.parameters={...selectsSingle.parameters,docs:{...selectsSingle.parameters?.docs,source:{originalSource:"args => template(args)",...selectsSingle.parameters?.docs?.source}}},selectsMultiple.parameters={...selectsMultiple.parameters,docs:{...selectsMultiple.parameters?.docs,source:{originalSource:"args => template(args)",...selectsMultiple.parameters?.docs?.source}}},borderLight.parameters={...borderLight.parameters,docs:{...borderLight.parameters?.docs,source:{originalSource:"args => template(args)",...borderLight.parameters?.docs?.source}}},borderNone.parameters={...borderNone.parameters,docs:{...borderNone.parameters?.docs,source:{originalSource:"args => template(args)",...borderNone.parameters?.docs?.source}}},roundingNone.parameters={...roundingNone.parameters,docs:{...roundingNone.parameters?.docs,source:{originalSource:"args => template(args)",...roundingNone.parameters?.docs?.source}}},roundingFull.parameters={...roundingFull.parameters,docs:{...roundingFull.parameters?.docs,source:{originalSource:"args => template(args)",...roundingFull.parameters?.docs?.source}}},shapeRectangle.parameters={...shapeRectangle.parameters,docs:{...shapeRectangle.parameters?.docs,source:{originalSource:"args => template(args)",...shapeRectangle.parameters?.docs?.source}}}}}]);
//# sourceMappingURL=swatch-stories-swatch-group-stories.1518a21c.iframe.bundle.js.map