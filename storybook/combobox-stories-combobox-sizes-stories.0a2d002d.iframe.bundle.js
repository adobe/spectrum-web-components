"use strict";(self.webpackChunk_spectrum_web_components_1st_gen=self.webpackChunk_spectrum_web_components_1st_gen||[]).push([[3707],{"./packages/combobox/stories/combobox-sizes.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{XLOpen:function(){return XLOpen},__namedExportsOrder:function(){return __namedExportsOrder},l:function(){return l},lOpen:function(){return lOpen},m:function(){return m},mOpen:function(){return mOpen},s:function(){return s},sOpen:function(){return sOpen},xL:function(){return xL}});var _overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/overlay/stories/index.js"),_template_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/combobox/stories/template.js");__webpack_exports__.default={title:"Combobox/Sizes",component:"sp-combobox"};const s=args=>(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.B)({...args,size:"s"}),sOpen=args=>(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.B)({...args,open:!0,size:"s"});sOpen.decorators=[_overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_0__.Z];const m=args=>(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.B)({...args,size:"m"}),mOpen=args=>(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.B)({...args,open:!0,size:"m"});mOpen.decorators=[_overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_0__.Z];const l=args=>(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.B)({...args,size:"l"}),lOpen=args=>(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.B)({...args,open:!0,size:"l"});lOpen.decorators=[_overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_0__.Z];const xL=args=>(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.B)({...args,size:"xl"}),XLOpen=args=>(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.B)({...args,open:!0,size:"xl"});XLOpen.decorators=[_overlay_stories_index_js__WEBPACK_IMPORTED_MODULE_0__.Z];const __namedExportsOrder=["s","sOpen","m","mOpen","l","lOpen","xL","XLOpen"];s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:'args => Template({\n  ...args,\n  size: "s"\n})',...s.parameters?.docs?.source}}},sOpen.parameters={...sOpen.parameters,docs:{...sOpen.parameters?.docs,source:{originalSource:'args => Template({\n  ...args,\n  open: true,\n  size: "s"\n})',...sOpen.parameters?.docs?.source}}},m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:'args => Template({\n  ...args,\n  size: "m"\n})',...m.parameters?.docs?.source}}},mOpen.parameters={...mOpen.parameters,docs:{...mOpen.parameters?.docs,source:{originalSource:'args => Template({\n  ...args,\n  open: true,\n  size: "m"\n})',...mOpen.parameters?.docs?.source}}},l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:'args => Template({\n  ...args,\n  size: "l"\n})',...l.parameters?.docs?.source}}},lOpen.parameters={...lOpen.parameters,docs:{...lOpen.parameters?.docs,source:{originalSource:'args => Template({\n  ...args,\n  open: true,\n  size: "l"\n})',...lOpen.parameters?.docs?.source}}},xL.parameters={...xL.parameters,docs:{...xL.parameters?.docs,source:{originalSource:'args => Template({\n  ...args,\n  size: "xl"\n})',...xL.parameters?.docs?.source}}},XLOpen.parameters={...XLOpen.parameters,docs:{...XLOpen.parameters?.docs,source:{originalSource:'args => Template({\n  ...args,\n  open: true,\n  size: "xl"\n})',...XLOpen.parameters?.docs?.source}}}},"./packages/overlay/stories/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Q:function(){return areIconsPresent},Z:function(){return isOverlayOpen}});var _spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./tools/base/src/index.dev.js");function nextFrame(){return new Promise(res=>requestAnimationFrame(()=>res()))}class IsOverlayOpen extends HTMLElement{constructor(){super(),this.sendFocus=async()=>{var _a;const selectedItem=null==(_a=document.querySelector("[focusable]"))?void 0:_a.querySelector("[selected]");selectedItem&&(selectedItem.focus(),selectedItem.focused=!0,await nextFrame(),selectedItem.scrollIntoView({block:"start"}),await nextFrame())},this.handleOpened=async event=>{const overlay=event.target,actions=[nextFrame(),overlay.updateComplete,this.sendFocus()];await Promise.all(actions),await nextFrame(),await nextFrame(),await nextFrame(),await nextFrame(),this.ready(!0)},this.readyPromise=Promise.resolve(!1),this.readyPromise=new Promise(res=>{this.ready=res,this.setup()})}async setup(){await nextFrame(),document.addEventListener("sp-opened",this.handleOpened)}get updateComplete(){return this.readyPromise}disconnectedCallback(){document.removeEventListener("sp-opened",this.handleOpened)}}customElements.define("is-overlay-open",IsOverlayOpen);const isOverlayOpen=story=>_spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__.qy`
        ${story()}
        <is-overlay-open></is-overlay-open>
    `;class AreIconsPresent extends HTMLElement{constructor(){super(),this.overlayTimeout=null,this.sendFocus=async()=>{var _a;const selectedItem=null==(_a=document.querySelector("[focusable]"))?void 0:_a.querySelector("[selected]");selectedItem&&(selectedItem.focus(),selectedItem.focused=!0,await nextFrame(),selectedItem.scrollIntoView({block:"start"}),await nextFrame())},this.handleOpened=async event=>{this.overlayTimeout&&(clearTimeout(this.overlayTimeout),this.overlayTimeout=null);const overlay=event.target,actions=[nextFrame(),overlay.updateComplete,this.sendFocus()];await Promise.all(actions),await nextFrame(),await nextFrame(),await nextFrame(),await nextFrame(),this.checkIcons()},this.checkIcons=async()=>{const icons=[...document.querySelectorAll("sp-icon")],picker=document.querySelector("sp-picker");if(picker){const pickerIcon=picker.querySelector("sp-icon");pickerIcon&&icons.push(pickerIcon)}const iconLoadPromises=Array.from(icons).map(icon=>new Promise(resolve=>{var _a;if("updateComplete"in icon&&"function"==typeof(null==(_a=icon.updateComplete)?void 0:_a.then))return void icon.updateComplete.then(()=>{resolve()});const src=icon.getAttribute("src");if(!src){const imgElement2=icon.querySelector("img");return imgElement2?void(imgElement2.complete?resolve():(imgElement2.addEventListener("load",()=>{resolve()},{once:!0}),imgElement2.addEventListener("error",()=>{console.warn("Failed to load icon image"),resolve()},{once:!0}))):void resolve()}const imgElement=icon.querySelector("img");if(imgElement)return void(imgElement.complete?resolve():(imgElement.addEventListener("load",()=>{resolve()},{once:!0}),imgElement.addEventListener("error",()=>{console.warn(`Failed to load icon image: ${src}`),resolve()},{once:!0})));const img=new Image;img.onload=()=>resolve(),img.onerror=()=>{console.warn(`Failed to load icon: ${src}`),resolve()},img.src=src}));await Promise.all(iconLoadPromises),await nextFrame(),this.ready(!0)},this.readyPromise=Promise.resolve(!1),this.readyPromise=new Promise(res=>{this.ready=res,this.setup()})}async setup(){await nextFrame(),document.addEventListener("sp-opened",this.handleOpened)}get updateComplete(){return this.readyPromise}disconnectedCallback(){document.removeEventListener("sp-opened",this.handleOpened)}}customElements.define("are-icons-present",AreIconsPresent);const areIconsPresent=story=>_spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__.qy`
        ${story()}
        <are-icons-present></are-icons-present>
    `}}]);
//# sourceMappingURL=combobox-stories-combobox-sizes-stories.0a2d002d.iframe.bundle.js.map