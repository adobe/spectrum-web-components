import { F as FocusVisiblePolyfillMixin } from './focus-visible-D29Av9Xb.js';
import { R as Radio } from './sp-radio-aMKuwdUD.js';
import { R as RovingTabindexController } from './RovingTabindex-Bozun0RY.js';
import { F as FieldGroup } from './FieldGroup-65mobe75.js';
import { n, d as defineElement } from './define-element-C4UuMSqY.js';
import { n as n$1 } from './query-assigned-nodes-DAYI4epk.js';

var c=Object.defineProperty;var a=(l,d,e,t)=>{for(var i=void 0,s=l.length-1,o;s>=0;s--)(o=l[s])&&(i=(o(d,e,i))||i);return i&&c(d,e,i),i};class RadioGroup extends FocusVisiblePolyfillMixin(FieldGroup){constructor(){super(...arguments);this.name="";this.rovingTabindexController=new RovingTabindexController(this,{focusInIndex:e=>e.findIndex(t=>this.selected?!t.disabled&&t.value===this.selected:!t.disabled),elementEnterAction:e=>{this._setSelected(e.value);},elements:()=>this.buttons,isFocusableElement:e=>!e.disabled});this.selected="";}get buttons(){return this.defaultNodes.filter(e=>e instanceof Radio)}focus(){this.rovingTabindexController.focus();}_setSelected(e){if(e===this.selected)return;const t=this.selected,i=e?this.querySelector(`sp-radio[value="${e}"]`):void 0;if(this.selected=i?e:"",!this.dispatchEvent(new Event("change",{cancelable:!0,bubbles:!0,composed:!0}))){this.selected=t;return}this.validateRadios();}willUpdate(e){if(!this.hasUpdated){this.setAttribute("role","radiogroup");const t=this.querySelector("sp-radio[checked]"),i=t?t.value:"";if(this.selected=i||this.selected,this.selected&&this.selected!==i){const s=this.querySelector(`sp-radio[value="${this.selected}"]`);s&&(s.checked=!0);}this.shadowRoot.addEventListener("change",s=>{s.stopPropagation();const o=s.target;this._setSelected(o.value);});}e.has("selected")&&this.validateRadios();}async validateRadios(){let e=!1;this.hasUpdated||await this.updateComplete,this.buttons.map(t=>{t.checked=this.selected===t.value,e=e||t.checked;}),e||(this.selected="");}handleSlotchange(){this.rovingTabindexController.clearElementCache();}}a([n({type:String})],RadioGroup.prototype,"name"),a([n$1()],RadioGroup.prototype,"defaultNodes"),a([n({reflect:!0})],RadioGroup.prototype,"selected");

defineElement("sp-radio-group",RadioGroup);
