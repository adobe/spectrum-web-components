{"version":3,"file":"swc.CG7pzDNf.js","sources":["../../../tools/base/src/constants.js","../../../packages/menu/src/menu.css.js","../../../packages/menu/src/Menu.js","../../../packages/menu/sp-menu.js","../../../packages/menu/src/menu-item.css.js","../../../packages/menu/src/MenuItem.js","../../../packages/menu/sp-menu-item.js"],"sourcesContent":["\"use strict\";export const INPUT_COMPONENT_TAGS=[\"SP-SEARCH\",\"SP-TEXTFIELD\",\"SP-NUMBER-FIELD\",\"SP-COMBOBOX\",\"SP-COLOR-FIELD\"],INPUT_COMPONENT_PATTERN=new RegExp(`^(${INPUT_COMPONENT_TAGS.join(\"|\")})$`);\n//# sourceMappingURL=constants.js.map\n","\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const t=e`\n    :host{--spectrum-menu-item-background-color-hover:var(--system-menu-item-background-color-hover);--spectrum-menu-item-background-color-down:var(--system-menu-item-background-color-down);--spectrum-menu-item-background-color-key-focus:var(--system-menu-item-background-color-key-focus);--spectrum-menu-item-corner-radius:var(--system-menu-item-corner-radius);--spectrum-menu-item-focus-indicator-shadow:var(--system-menu-item-focus-indicator-shadow);--spectrum-menu-item-focus-indicator-offset:var(--system-menu-item-focus-indicator-offset);--spectrum-menu-item-spacing-multiplier:var(--system-menu-item-spacing-multiplier);--spectrum-menu-item-focus-indicator-outline-style:var(--system-menu-item-focus-indicator-outline-style)}@media (forced-colors:active){:host{--highcontrast-menu-item-background-color-default:ButtonFace;--highcontrast-menu-item-color-default:ButtonText;--highcontrast-menu-item-background-color-focus:Highlight;--highcontrast-menu-item-color-focus:HighlightText;--highcontrast-menu-checkmark-icon-color-default:Highlight;--highcontrast-menu-item-color-disabled:GrayText;--highcontrast-menu-item-focus-indicator-color:Highlight;--highcontrast-menu-item-selected-background-color:Highlight;--highcontrast-menu-item-selected-color:HighlightText}@supports (color:SelectedItem){:host{--highcontrast-menu-item-selected-background-color:SelectedItem;--highcontrast-menu-item-selected-color:SelectedItemText}}}:host{--spectrum-menu-item-top-to-action:var(--spectrum-spacing-50);--spectrum-menu-item-top-to-checkbox:var(--spectrum-spacing-50);--spectrum-menu-item-label-line-height:var(--spectrum-line-height-100);--spectrum-menu-item-label-line-height-cjk:var(--spectrum-cjk-line-height-100);--spectrum-menu-item-label-to-description-spacing:var(--spectrum-menu-item-label-to-description);--spectrum-menu-item-focus-indicator-width:var(--mod-menu-item-focus-indicator-width,var(--spectrum-border-width-200));--spectrum-menu-item-focus-indicator-color:var(--spectrum-blue-800);--spectrum-menu-item-label-to-value-area-min-spacing:var(--spectrum-spacing-100);--spectrum-menu-item-label-content-color-default:var(--spectrum-neutral-content-color-default);--spectrum-menu-item-label-content-color-hover:var(--spectrum-neutral-content-color-hover);--spectrum-menu-item-label-content-color-down:var(--spectrum-neutral-content-color-down);--spectrum-menu-item-label-content-color-focus:var(--spectrum-neutral-content-color-key-focus);--spectrum-menu-item-label-icon-color-default:var(--spectrum-neutral-content-color-default);--spectrum-menu-item-label-icon-color-hover:var(--spectrum-neutral-content-color-hover);--spectrum-menu-item-label-icon-color-down:var(--spectrum-neutral-content-color-down);--spectrum-menu-item-label-icon-color-focus:var(--spectrum-neutral-content-color-key-focus);--spectrum-menu-item-label-content-color-disabled:var(--spectrum-disabled-content-color);--spectrum-menu-item-label-icon-color-disabled:var(--spectrum-disabled-content-color);--spectrum-menu-item-description-line-height:var(--spectrum-line-height-100);--spectrum-menu-item-description-line-height-cjk:var(--spectrum-cjk-line-height-100);--spectrum-menu-item-description-color-default:var(--spectrum-neutral-subdued-content-color-default);--spectrum-menu-item-description-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-menu-item-description-color-down:var(--spectrum-neutral-subdued-content-color-down);--spectrum-menu-item-description-color-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-menu-item-description-color-disabled:var(--spectrum-disabled-content-color);--spectrum-menu-section-header-line-height:var(--spectrum-line-height-100);--spectrum-menu-section-header-line-height-cjk:var(--spectrum-cjk-line-height-100);--spectrum-menu-section-header-font-weight:var(--spectrum-bold-font-weight);--spectrum-menu-section-header-color:var(--spectrum-gray-900);--spectrum-menu-collapsible-icon-color:var(--spectrum-gray-900);--spectrum-menu-checkmark-icon-color-default:var(--spectrum-accent-color-900);--spectrum-menu-checkmark-icon-color-hover:var(--spectrum-accent-color-1000);--spectrum-menu-checkmark-icon-color-down:var(--spectrum-accent-color-1100);--spectrum-menu-checkmark-icon-color-focus:var(--spectrum-accent-color-1000);--spectrum-menu-drillin-icon-color-default:var(--spectrum-neutral-subdued-content-color-default);--spectrum-menu-drillin-icon-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-menu-drillin-icon-color-down:var(--spectrum-neutral-subdued-content-color-down);--spectrum-menu-drillin-icon-color-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-menu-item-value-color-default:var(--spectrum-neutral-subdued-content-color-default);--spectrum-menu-item-value-color-hover:var(--spectrum-neutral-subdued-content-color-hover);--spectrum-menu-item-value-color-down:var(--spectrum-neutral-subdued-content-color-down);--spectrum-menu-item-value-color-focus:var(--spectrum-neutral-subdued-content-color-key-focus);--spectrum-menu-checkmark-display-hidden:none;--spectrum-menu-checkmark-display-shown:block;--spectrum-menu-checkmark-display:var(--spectrum-menu-checkmark-display-shown);--spectrum-menu-item-min-height:var(--spectrum-component-height-100);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-100);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-100);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-100);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-100);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-100);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-100);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-100);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-100);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-75);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-100);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-100);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-medium);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-medium);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-medium);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-medium);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-medium);--spectrum-menu-item-collapsible-no-icon-submenu-item-padding-x-start:calc(var(--spectrum-menu-item-label-inline-edge-to-content) + var(--spectrum-menu-item-checkmark-width) + var(--spectrum-menu-item-label-text-to-visual) + var(--spectrum-menu-item-focus-indicator-width));--spectrum-menu-item-focus-indicator-color-default:var(--highcontrast-menu-item-focus-indicator-color,var(--mod-menu-item-focus-indicator-color,var(--spectrum-menu-item-focus-indicator-color)));--spectrum-menu-item-focus-indicator-border-width:calc(var(--spectrum-menu-item-focus-indicator-width)*var(--spectrum-menu-item-focus-indicator-direction-scalar,1))}:host([size=s]){--spectrum-menu-item-min-height:var(--spectrum-component-height-75);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-75);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-75);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-75);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-75);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-75);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-75);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-75);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-75);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-50);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-75);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-75);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-small);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-small);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-small);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-small);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-small)}:host([size=l]){--spectrum-menu-item-min-height:var(--spectrum-component-height-200);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-200);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-200);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-200);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-200);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-200);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-200);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-200);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-200);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-100);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-200);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-200);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-large);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-large);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-large);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-large);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-large)}:host([size=xl]){--spectrum-menu-item-min-height:var(--spectrum-component-height-300);--spectrum-menu-item-icon-height:var(--spectrum-workflow-icon-size-300);--spectrum-menu-item-icon-width:var(--spectrum-workflow-icon-size-300);--spectrum-menu-item-label-font-size:var(--spectrum-font-size-300);--spectrum-menu-item-label-text-to-visual:var(--spectrum-text-to-visual-300);--spectrum-menu-item-label-inline-edge-to-content:var(--spectrum-component-edge-to-text-300);--spectrum-menu-item-top-edge-to-text:var(--spectrum-component-top-to-text-300);--spectrum-menu-item-bottom-edge-to-text:var(--spectrum-component-bottom-to-text-300);--spectrum-menu-item-text-to-control:var(--spectrum-text-to-control-300);--spectrum-menu-item-description-font-size:var(--spectrum-font-size-200);--spectrum-menu-section-header-font-size:var(--spectrum-font-size-300);--spectrum-menu-section-header-min-width:var(--spectrum-component-height-300);--spectrum-menu-item-selectable-edge-to-text-not-selected:var(--spectrum-menu-item-selectable-edge-to-text-not-selected-extra-large);--spectrum-menu-item-checkmark-height:var(--spectrum-menu-item-checkmark-height-extra-large);--spectrum-menu-item-checkmark-width:var(--spectrum-menu-item-checkmark-width-extra-large);--spectrum-menu-item-top-to-checkmark:var(--spectrum-menu-item-top-to-selected-icon-extra-large);--spectrum-menu-back-icon-margin:var(--spectrum-navigational-indicator-top-to-back-icon-extra-large)}:host:dir(rtl),:host([dir=rtl]){--spectrum-menu-item-focus-indicator-direction-scalar:-1}:host{inline-size:var(--mod-menu-inline-size,auto);box-sizing:border-box;margin:0;padding:0;list-style-type:none;display:inline-block;overflow:auto}:host:lang(ja),:host:lang(ko),:host:lang(zh){--spectrum-menu-item-label-line-height:var(--mod-menu-item-label-line-height-cjk,var(--spectrum-menu-item-label-line-height-cjk));--spectrum-menu-item-description-line-height:var(--mod-menu-item-description-line-height-cjk,var(--spectrum-menu-item-description-line-height-cjk));--spectrum-menu-section-header-line-height:var(--mod-menu-section-header-line-height-cjk,var(--spectrum-menu-section-header-line-height-cjk))}:host([selects]) ::slotted(sp-menu-item){--spectrum-menu-checkmark-display:var(--spectrum-menu-checkmark-display-hidden);padding-inline-start:var(--mod-menu-item-selectable-edge-to-text-not-selected,var(--spectrum-menu-item-selectable-edge-to-text-not-selected))}:host([selects]) ::slotted(sp-menu-item[selected]){--spectrum-menu-checkmark-display:var(--spectrum-menu-checkmark-display-shown);padding-inline-start:var(--mod-menu-item-label-inline-edge-to-content,var(--spectrum-menu-item-label-inline-edge-to-content))}.spectrum-Menu-backIcon{margin-block:var(--mod-menu-back-icon-margin-block,var(--spectrum-menu-back-icon-margin));margin-inline:var(--mod-menu-back-icon-margin-inline,var(--spectrum-menu-back-icon-margin));fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default,var(--spectrum-menu-section-header-color)));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-icon-color-default,var(--spectrum-menu-section-header-color)))}.spectrum-Menu-back:focus-visible{box-shadow:var(--spectrum-menu-item-focus-indicator-shadow)var(--spectrum-menu-item-focus-indicator-border-width)0 0 0 var(--spectrum-menu-item-focus-indicator-color-default);outline:var(--spectrum-menu-item-focus-indicator-width)var(--spectrum-menu-item-focus-indicator-outline-style)var(--spectrum-menu-item-focus-indicator-color-default);outline-offset:var(--spectrum-menu-item-focus-indicator-offset);border-radius:var(--spectrum-menu-item-corner-radius)}.spectrum-Menu-sectionHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-section-header-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));min-inline-size:var(--mod-menu-section-header-min-width,var(--spectrum-menu-section-header-min-width));padding-block-start:var(--mod-menu-section-header-top-edge-to-text,var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));padding-block-end:var(--mod-menu-section-header-bottom-edge-to-text,var(--mod-menu-item-bottom-edge-to-text,var(--spectrum-menu-item-bottom-edge-to-text)));padding-inline:var(--mod-menu-item-label-inline-edge-to-content,var(--spectrum-menu-item-label-inline-edge-to-content));grid-area:sectionHeadingArea/1/sectionHeadingArea/-1;display:block}.spectrum-Menu-back{padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-back .spectrum-Menu-sectionHeading{padding:0}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}.spectrum-Menu-backButton:focus-visible{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}:host{width:var(--swc-menu-width);flex-direction:column}:host(:focus){outline:none}::slotted(*){flex-shrink:0}\n`;export default t;\n//# sourceMappingURL=menu.css.js.map\n","\"use strict\";var v=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var o=(p,c,e,s)=>{for(var t=s>1?void 0:s?b(c,e):c,i=p.length-1,n;i>=0;i--)(n=p[i])&&(t=(s?n(c,e,t):n(t))||t);return s&&t&&v(c,e,t),t};import{html as I,SizedMixin as g,SpectrumElement as f}from\"@spectrum-web-components/base\";import{property as u,query as S}from\"@spectrum-web-components/base/src/decorators.js\";import E from\"./menu.css.js\";import{RovingTabindexController as y}from\"@spectrum-web-components/reactive-controllers/src/RovingTabindex.js\";export class Menu extends g(f,{noDefaultSize:!0}){constructor(){super();this.touchStartY=void 0;this.touchStartTime=void 0;this.isCurrentlyScrolling=!1;this.scrollThreshold=10;this.scrollTimeThreshold=300;this.label=\"\";this.ignore=!1;this.value=\"\";this.valueSeparator=\",\";this._selected=[];this.selectedItems=[];this.childItemSet=new Set;this.focusedItemIndex=0;this.focusInItemIndex=0;this.shouldSupportDragAndSelect=!1;this.selectedItemsMap=new Map;this.pointerUpTarget=null;this.descendentOverlays=new Map;this.handleSubmenuClosed=e=>{e.stopPropagation(),e.composedPath()[0].dispatchEvent(new Event(\"sp-menu-submenu-closed\",{bubbles:!0,composed:!0}))};this.handleSubmenuOpened=e=>{e.stopPropagation(),e.composedPath()[0].dispatchEvent(new Event(\"sp-menu-submenu-opened\",{bubbles:!0,composed:!0})),e.composedPath().find(i=>this.childItemSet.has(i))};this._hasUpdatedSelectedItemIndex=!1;this._willUpdateItems=!1;this.cacheUpdated=Promise.resolve();this.resolveCacheUpdated=()=>{};!this.rovingTabindexController&&this.controlsRovingTabindex&&(this.rovingTabindexController=new y(this,{direction:\"vertical\",focusInIndex:e=>{let s=-1;const t=e==null?void 0:e.findIndex((i,n)=>(!e[s]&&!i.disabled&&(s=n),i.selected&&!i.disabled));return e&&t&&e[t]?t:s},elements:()=>this.childItems,isFocusableElement:this.isFocusableElement.bind(this),hostDelegatesFocus:!0,stopKeyEventPropagation:!0})),this.addEventListener(\"sp-menu-item-added-or-updated\",this.onSelectableItemAddedOrUpdated),this.addEventListener(\"sp-menu-item-added-or-updated\",this.onFocusableItemAddedOrUpdated,{capture:!0}),this.addEventListener(\"click\",this.handleClick),this.addEventListener(\"touchend\",this.handlePointerup),this.addEventListener(\"focusout\",this.handleFocusout),this.addEventListener(\"sp-menu-item-keydown\",this.handleKeydown),this.addEventListener(\"pointerup\",this.handlePointerup),this.addEventListener(\"sp-opened\",this.handleSubmenuOpened),this.addEventListener(\"sp-closed\",this.handleSubmenuClosed),this.addEventListener(\"touchstart\",this.handleTouchStart,{passive:!0}),this.addEventListener(\"touchmove\",this.handleTouchMove,{passive:!0})}static get styles(){return[E]}get isSubmenu(){return this.slot===\"submenu\"}get isScrolling(){return this.isCurrentlyScrolling}set isScrolling(e){this.isCurrentlyScrolling=e}get selected(){return this.selects?this._selected:[]}set selected(e){if(e===this.selected)return;const s=this.selected;this._selected=e,this.selectedItems=[],this.selectedItemsMap.clear(),this.childItems.forEach(t=>{this===t.menuData.selectionRoot&&(t.selected=this.selected.includes(t.value),t.selected&&(this.selectedItems.push(t),this.selectedItemsMap.set(t,!0)))}),this.requestUpdate(\"selected\",s)}get focusInItem(){var e;return(e=this.rovingTabindexController)==null?void 0:e.focusInElement}get controlsRovingTabindex(){return!0}get childItems(){return this.cachedChildItems||(this.cachedChildItems=this.updateCachedMenuItems()),this.cachedChildItems}updateCachedMenuItems(){var t;if(!this.menuSlot)return[];const e=[],s=this.menuSlot.assignedElements({flatten:!0});for(const[i,n]of s.entries()){if(this.childItemSet.has(n)){e.push(n);continue}const d=n.localName===\"slot\"?n.assignedElements({flatten:!0}):[...n.querySelectorAll(\":scope > *\")];s.splice(i,1,n,...d)}return this.cachedChildItems=[...e],(t=this.rovingTabindexController)==null||t.clearElementCache(),this.cachedChildItems}get childRole(){if(this.resolvedRole===\"listbox\")return\"option\";switch(this.resolvedSelects){case\"single\":return\"menuitemradio\";case\"multiple\":return\"menuitemcheckbox\";default:return\"menuitem\"}}get ownRole(){return\"menu\"}onFocusableItemAddedOrUpdated(e){e.menuCascade.set(this,{hadFocusRoot:!!e.item.menuData.focusRoot,ancestorWithSelects:e.currentAncestorWithSelects}),this.selects&&(e.currentAncestorWithSelects=this),e.item.menuData.focusRoot=e.item.menuData.focusRoot||this}onSelectableItemAddedOrUpdated(e){var i,n;if(!e.menuCascade.get(this))return;if(e.item.menuData.parentMenu=e.item.menuData.parentMenu||this,this.addChildItem(e.item),this.selects===\"inherit\"){this.resolvedSelects=\"inherit\";const l=(i=e.currentAncestorWithSelects)==null?void 0:i.ignore;this.resolvedRole=l?\"none\":((n=e.currentAncestorWithSelects)==null?void 0:n.getAttribute(\"role\"))||this.getAttribute(\"role\")||void 0}else this.selects?(this.resolvedRole=this.ignore?\"none\":this.getAttribute(\"role\")||void 0,this.resolvedSelects=this.selects):(this.resolvedRole=this.ignore?\"none\":this.getAttribute(\"role\")||void 0,this.resolvedSelects=this.resolvedRole===\"none\"?\"ignore\":\"none\");if(this.resolvedRole===\"none\")return;const t=this.resolvedSelects===\"single\"||this.resolvedSelects===\"multiple\";e.item.menuData.cleanupSteps.push(l=>this.removeChildItem(l)),(t||!this.selects&&this.resolvedSelects!==\"ignore\")&&!e.item.menuData.selectionRoot&&(e.item.setRole(this.childRole),e.item.menuData.selectionRoot=e.item.menuData.selectionRoot||this,e.item.selected&&(this.selectedItemsMap.set(e.item,!0),this.selectedItems=[...this.selectedItems,e.item],this._selected=[...this.selected,e.item.value],this.value=this.selected.join(this.valueSeparator)))}addChildItem(e){this.childItemSet.add(e),this.handleItemsChanged()}async removeChildItem(e){(e.focused||e.hasAttribute(\"focused\")||e.active)&&(this._updateFocus=this.getNeighboringFocusableElement(e)),this.childItemSet.delete(e),this.cachedChildItems=void 0}focusOnFirstSelectedItem({preventScroll:e}={}){var t;if(!this.rovingTabindexController)return;const s=this.selectedItems.find(i=>this.isFocusableElement(i));if(!s){this.focus({preventScroll:e});return}s&&!e&&s.scrollIntoView({block:\"nearest\"}),(t=this.rovingTabindexController)==null||t.focusOnItem(s)}focus({preventScroll:e}={}){if(this.rovingTabindexController){if(!this.childItems.length||this.childItems.every(s=>s.disabled))return;if(this.childItems.some(s=>s.menuData.focusRoot!==this)){super.focus({preventScroll:e});return}this.rovingTabindexController.focus({preventScroll:e})}}handleTouchStart(e){e.touches.length===1&&(this.touchStartY=e.touches[0].clientY,this.touchStartTime=Date.now(),this.isCurrentlyScrolling=!1)}handleTouchMove(e){if(e.touches.length===1&&this.touchStartY!==void 0&&this.touchStartTime!==void 0){const s=e.touches[0].clientY,t=Math.abs(s-this.touchStartY),i=Date.now()-this.touchStartTime;t>this.scrollThreshold&&i<this.scrollTimeThreshold&&(this.isCurrentlyScrolling=!0)}}handleTouchEnd(){setTimeout(()=>{this.isCurrentlyScrolling=!1,this.touchStartY=void 0,this.touchStartTime=void 0},100)}handleFocusout(){var e;this.matches(\":focus-within\")||(e=this.rovingTabindexController)==null||e.reset()}handleClick(e){if(this.pointerUpTarget===e.target){this.pointerUpTarget=null;return}this.handlePointerBasedSelection(e)}handlePointerup(e){this.handleTouchEnd(),this.shouldSupportDragAndSelect&&(this.pointerUpTarget=e.target,this.handlePointerBasedSelection(e))}async handlePointerBasedSelection(e){var i,n;if(e instanceof MouseEvent&&e.button!==0||this.isScrolling)return;const t=e.composedPath().find(l=>l instanceof Element?l.getAttribute(\"role\")===this.childRole:!1);if(e.defaultPrevented){const l=this.childItems.indexOf(t);((i=t==null?void 0:t.menuData)==null?void 0:i.focusRoot)===this&&l>-1&&(this.focusedItemIndex=l);return}if(t!=null&&t.href&&t.href.length){this.dispatchEvent(new Event(\"change\",{bubbles:!0,composed:!0}));return}else if(((n=t==null?void 0:t.menuData)==null?void 0:n.selectionRoot)===this&&this.childItems.length){if(e.preventDefault(),t.hasSubmenu||t.open)return;this.selectOrToggleItem(t)}else return;this.prepareToCleanUp()}handleDescendentOverlayOpened(e){const s=e.composedPath()[0];s.overlayElement&&this.descendentOverlays.set(s.overlayElement,s.overlayElement)}handleDescendentOverlayClosed(e){const s=e.composedPath()[0];s.overlayElement&&this.descendentOverlays.delete(s.overlayElement)}getNeighboringFocusableElement(e,s=!1){var d;const t=s?-1:1,i=((d=this.rovingTabindexController)==null?void 0:d.elements)||[],n=e?i.indexOf(e):-1;let l=Math.min(Math.max(0,n+t),i.length-1);for(;!this.isFocusableElement(i[l])&&0<l&&l<i.length-1;)l+=t;return this.isFocusableElement(i[l])?i[l]:e||i[0]}async selectOrToggleItem(e){var r;const s=this.resolvedSelects,t=new Map(this.selectedItemsMap),i=this.selected.slice(),n=this.selectedItems.slice(),l=this.value;if(e.menuData.selectionRoot!==this)return;if(s===\"multiple\"){this.selectedItemsMap.has(e)?this.selectedItemsMap.delete(e):this.selectedItemsMap.set(e,!0);const a=[],m=[];this.childItemSet.forEach(h=>{h.menuData.selectionRoot===this&&this.selectedItemsMap.has(h)&&(a.push(h.value),m.push(h))}),this._selected=a,this.selectedItems=m,this.value=this.selected.join(this.valueSeparator)}else this.selectedItemsMap.clear(),this.selectedItemsMap.set(e,!0),this.value=e.value,this._selected=[e.value],this.selectedItems=[e];if(!this.dispatchEvent(new Event(\"change\",{cancelable:!0,bubbles:!0,composed:!0}))){this._selected=i,this.selectedItems=n,this.selectedItemsMap=t,this.value=l;return}if(s===\"single\"){for(const a of t.keys())a!==e&&(a.selected=!1);e.selected=!0}else s===\"multiple\"?e.selected=!e.selected:!e.hasSubmenu&&((r=e==null?void 0:e.menuData)==null?void 0:r.focusRoot)===this&&this.dispatchEvent(new Event(\"close\",{bubbles:!0}))}navigateBetweenRelatedMenus(e){const{key:s,root:t}=e,i=this.isLTR&&s===\"ArrowRight\"||!this.isLTR&&s===\"ArrowLeft\",n=this.isLTR&&s===\"ArrowLeft\"||!this.isLTR&&s===\"ArrowRight\"||s===\"Escape\",l=t;i?l!=null&&l.hasSubmenu&&(e.stopPropagation(),l.openOverlay(!0)):n&&this.isSubmenu&&(e.stopPropagation(),this.dispatchEvent(new Event(\"close\",{bubbles:!0})),this.updateSelectedItemIndex())}handleKeydown(e){var d;if(e.defaultPrevented||!this.rovingTabindexController)return;const{key:s,root:t,shiftKey:i,target:n}=e,l=[\"Enter\",\" \"].includes(s);if(i&&n!==this&&this.hasAttribute(\"tabindex\")){this.removeAttribute(\"tabindex\");const r=a=>{!a.shiftKey&&!this.hasAttribute(\"tabindex\")&&(document.removeEventListener(\"keyup\",r),this.removeEventListener(\"focusout\",r))};document.addEventListener(\"keyup\",r),this.addEventListener(\"focusout\",r)}if(s===\"Tab\"){this.closeDescendentOverlays();return}if(l&&(t!=null&&t.hasSubmenu)&&!t.open){e.preventDefault(),t.openOverlay(!0);return}if(s===\" \"||s===\"Enter\"){e.preventDefault(),(d=t==null?void 0:t.focusElement)==null||d.click(),t&&this.selectOrToggleItem(t);return}this.navigateBetweenRelatedMenus(e)}prepareToCleanUp(){document.addEventListener(\"focusout\",()=>{requestAnimationFrame(()=>{const e=this.focusInItem;e&&(e.focused=!1)})},{once:!0})}updateSelectedItemIndex(){let e=0;const s=new Map,t=[],i=[];let n=this.childItems.length;for(;n;){n-=1;const l=this.childItems[n];l.menuData.selectionRoot===this&&((l.selected||!this._hasUpdatedSelectedItemIndex&&this.selected.includes(l.value))&&(e=n,s.set(l,!0),t.unshift(l.value),i.unshift(l)),n!==e&&(l.focused=!1))}this.selectedItemsMap=s,this._selected=t,this.selectedItems=i,this.value=this.selected.join(this.valueSeparator),this.focusedItemIndex=e,this.focusInItemIndex=e}handleItemsChanged(){this.cachedChildItems=void 0,this._willUpdateItems||(this._willUpdateItems=!0,this.cacheUpdated=this.updateCache())}async updateCache(){this.hasUpdated?await new Promise(e=>requestAnimationFrame(()=>e(!0))):await Promise.all([new Promise(e=>requestAnimationFrame(()=>e(!0))),this.updateComplete]),this.cachedChildItems===void 0&&(this.updateSelectedItemIndex(),this.updateItemFocus()),this._willUpdateItems=!1}updateItemFocus(){var e;(e=this.focusInItem)==null||e.setAttribute(\"tabindex\",\"0\"),this.childItems.length!=0}closeDescendentOverlays(){this.descendentOverlays.forEach(e=>{e.open=!1}),this.descendentOverlays=new Map}handleSlotchange({target:e}){var t;const s=e.assignedElements({flatten:!0});this.childItems.length!==s.length&&s.forEach(i=>{typeof i.triggerUpdate!=\"undefined\"?i.triggerUpdate():typeof i.childItems!=\"undefined\"&&i.childItems.forEach(n=>{n.triggerUpdate()})}),this._updateFocus&&((t=this.rovingTabindexController)==null||t.focusOnItem(this._updateFocus),this._updateFocus=void 0)}renderMenuItemSlot(){return I`\n            <slot\n                @sp-menu-submenu-opened=${this.handleDescendentOverlayOpened}\n                @sp-menu-submenu-closed=${this.handleDescendentOverlayClosed}\n                @slotchange=${this.handleSlotchange}\n            ></slot>\n        `}render(){return this.renderMenuItemSlot()}firstUpdated(e){super.firstUpdated(e);const s=[new Promise(t=>requestAnimationFrame(()=>t(!0)))];[...this.children].forEach(t=>{t.localName===\"sp-menu-item\"&&s.push(t.updateComplete)}),this.childItemsUpdated=Promise.all(s)}updated(e){super.updated(e),e.has(\"selects\")&&this.hasUpdated&&this.selectsChanged(),e.has(\"label\")&&(this.label||typeof e.get(\"label\")!=\"undefined\")&&(this.label?this.setAttribute(\"aria-label\",this.label):this.removeAttribute(\"aria-label\"))}selectsChanged(){const e=[new Promise(s=>requestAnimationFrame(()=>s(!0)))];this.childItemSet.forEach(s=>{e.push(s.triggerUpdate())}),this.childItemsUpdated=Promise.all(e)}connectedCallback(){super.connectedCallback(),!this.hasAttribute(\"role\")&&!this.ignore&&this.setAttribute(\"role\",this.ownRole),this.updateComplete.then(()=>this.updateItemFocus())}isFocusableElement(e){return e?!e.disabled:!1}disconnectedCallback(){this.cachedChildItems=void 0,this.selectedItems=[],this.selectedItemsMap.clear(),this.childItemSet.clear(),this.descendentOverlays=new Map,super.disconnectedCallback()}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.childItemsUpdated,await this.cacheUpdated,e}}Menu.shadowRootOptions={...f.shadowRootOptions,delegatesFocus:!0},o([u({type:String,reflect:!0})],Menu.prototype,\"label\",2),o([u({type:Boolean,reflect:!0})],Menu.prototype,\"ignore\",2),o([u({type:String,reflect:!0})],Menu.prototype,\"selects\",2),o([u({type:String})],Menu.prototype,\"value\",2),o([u({type:String,attribute:\"value-separator\"})],Menu.prototype,\"valueSeparator\",2),o([u({attribute:!1})],Menu.prototype,\"selected\",1),o([u({attribute:!1})],Menu.prototype,\"selectedItems\",2),o([S(\"slot:not([name])\")],Menu.prototype,\"menuSlot\",2);\n//# sourceMappingURL=Menu.js.map\n","\"use strict\";import{Menu as e}from\"./src/Menu.js\";import{defineElement as m}from\"@spectrum-web-components/base/src/define-element.js\";m(\"sp-menu\",e);\n//# sourceMappingURL=sp-menu.js.map\n","\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const o=e`\n    .checkmark{display:var(--mod-menu-checkmark-display,var(--spectrum-menu-checkmark-display));block-size:var(--mod-menu-item-checkmark-height,var(--spectrum-menu-item-checkmark-height));inline-size:var(--mod-menu-item-checkmark-width,var(--spectrum-menu-item-checkmark-width));fill:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-default,var(--spectrum-menu-checkmark-icon-color-default)));color:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-default,var(--spectrum-menu-checkmark-icon-color-default)));opacity:1;grid-area:checkmarkArea;align-self:start;margin-block-start:calc(var(--mod-menu-item-top-to-checkmark,var(--spectrum-menu-item-top-to-checkmark)) - var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}.chevron{block-size:var(--spectrum-menu-item-checkmark-height);inline-size:var(--spectrum-menu-item-checkmark-width);grid-area:chevronArea;align-self:center;margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}.spectrum-Menu-back:focus-visible{box-shadow:var(--spectrum-menu-item-focus-indicator-shadow)var(--spectrum-menu-item-focus-indicator-border-width)0 0 0 var(--spectrum-menu-item-focus-indicator-color-default);outline:var(--spectrum-menu-item-focus-indicator-width)var(--spectrum-menu-item-focus-indicator-outline-style)var(--spectrum-menu-item-focus-indicator-color-default);outline-offset:var(--spectrum-menu-item-focus-indicator-offset);border-radius:var(--spectrum-menu-item-corner-radius)}.spectrum-Menu-backButton:focus-visible{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}::slotted([slot=icon]){fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-label-icon-color-default,var(--spectrum-menu-item-label-icon-color-default)));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-label-icon-color-default,var(--spectrum-menu-item-label-icon-color-default)));grid-area:iconArea;align-self:start;margin-inline-end:var(--mod-menu-item-label-text-to-visual,var(--spectrum-menu-item-label-text-to-visual))}:host{cursor:pointer;border-radius:var(--spectrum-menu-item-corner-radius);box-sizing:border-box;background-color:var(--highcontrast-menu-item-background-color-default,var(--mod-menu-item-background-color-default,var(--spectrum-menu-item-background-color-default)));line-height:var(--mod-menu-item-label-line-height,var(--spectrum-menu-item-label-line-height));min-block-size:var(--mod-menu-item-min-height,var(--spectrum-menu-item-min-height));padding-block-start:var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text));padding-block-end:var(--mod-menu-item-bottom-edge-to-text,var(--spectrum-menu-item-bottom-edge-to-text));padding-inline:var(--mod-menu-item-label-inline-edge-to-content,var(--spectrum-menu-item-label-inline-edge-to-content));margin:calc((var(--spectrum-menu-item-focus-indicator-offset) + var(--spectrum-menu-item-focus-indicator-width))*var(--spectrum-menu-item-spacing-multiplier));grid-template:\".chevronAreaCollapsible.headingIconArea sectionHeadingArea. . .\"1fr\"selectedArea chevronAreaCollapsible checkmarkArea iconArea labelArea valueArea actionsArea chevronAreaDrillIn\"\". . . .descriptionArea. . .\"\". . . .submenuArea. . .\"/auto auto auto auto 1fr auto auto auto;align-items:center;-webkit-text-decoration:none;text-decoration:none;display:grid;position:relative}.spectrum-Menu-itemCheckbox{--mod-checkbox-top-to-text:0;--mod-checkbox-text-to-control:0;min-block-size:0}.spectrum-Menu-itemCheckbox .spectrum-Checkbox-box{margin-block-start:var(--mod-menu-item-top-to-checkbox,var(--spectrum-menu-item-top-to-checkbox));margin-block-end:0;margin-inline-end:var(--mod-menu-item-text-to-control,var(--spectrum-menu-item-text-to-control))}.spectrum-Menu-itemSwitch{min-block-size:0}.spectrum-Menu-itemSwitch .spectrum-Switch-switch{margin-block-start:var(--mod-menu-item-top-to-action,var(--spectrum-menu-item-top-to-action));margin-block-end:0}#label{grid-area:submenuItemLabelArea}::slotted([slot=value]){grid-area:submenuItemValueArea}:host([focused]),:host(:focus){background-color:var(--highcontrast-menu-item-background-color-focus,var(--mod-menu-item-background-color-key-focus,var(--spectrum-menu-item-background-color-key-focus)));outline:none}:host([focused])>#label,:host(:focus)>#label{color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-content-color-focus,var(--spectrum-menu-item-label-content-color-focus)))}:host([focused])>[name=description]::slotted(*),:host(:focus)>[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-description-color-focus,var(--spectrum-menu-item-description-color-focus)))}:host([focused])>::slotted([slot=value]),:host(:focus)>::slotted([slot=value]){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-value-color-focus,var(--spectrum-menu-item-value-color-focus)))}:host([focused])>.icon:not(.chevron,.checkmark),:host(:focus)>.icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-focus,var(--spectrum-menu-item-label-icon-color-focus)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-focus,var(--spectrum-menu-item-label-icon-color-focus)))}:host([focused])>.chevron,:host(:focus)>.chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)))}:host([focused])>.checkmark,:host(:focus)>.checkmark{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-focus,var(--spectrum-menu-checkmark-icon-color-focus)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-focus,var(--spectrum-menu-checkmark-icon-color-focus)))}:host(:is(:active,[active])){background-color:var(--highcontrast-menu-item-background-color-focus,var(--mod-menu-item-background-color-down,var(--spectrum-menu-item-background-color-down)))}:host(:is(:active,[active]))>#label{color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-content-color-down,var(--spectrum-menu-item-label-content-color-down)))}:host(:is(:active,[active]))>[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-description-color-down,var(--spectrum-menu-item-description-color-down)))}:host(:is(:active,[active]))>::slotted([slot=value]){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-value-color-down,var(--spectrum-menu-item-value-color-down)))}:host(:is(:active,[active]))>.icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-down,var(--spectrum-menu-item-label-icon-color-down)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-down,var(--spectrum-menu-item-label-icon-color-down)))}:host(:is(:active,[active]))>.chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)))}:host(:is(:active,[active]))>.checkmark{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-down,var(--spectrum-menu-checkmark-icon-color-down)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-down,var(--spectrum-menu-checkmark-icon-color-down)))}:host([disabled]),:host([aria-disabled=true]){background-color:initial}:host([disabled]) #label,:host([disabled]) ::slotted([slot=value]),:host([aria-disabled=true]) #label,:host([aria-disabled=true]) ::slotted([slot=value]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-content-color-disabled,var(--spectrum-menu-item-label-content-color-disabled)))}:host([disabled]) [name=description]::slotted(*),:host([aria-disabled=true]) [name=description]::slotted(*){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-description-color-disabled,var(--spectrum-menu-item-description-color-disabled)))}:host([disabled]) ::slotted([slot=icon]),:host([aria-disabled=true]) ::slotted([slot=icon]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)));fill:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}:host([focused]) .spectrum-Menu-back,:host([focused]){box-shadow:var(--spectrum-menu-item-focus-indicator-shadow)var(--spectrum-menu-item-focus-indicator-border-width)0 0 0 var(--spectrum-menu-item-focus-indicator-color-default);outline:var(--spectrum-menu-item-focus-indicator-width)var(--spectrum-menu-item-focus-indicator-outline-style)var(--spectrum-menu-item-focus-indicator-color-default);outline-offset:var(--spectrum-menu-item-focus-indicator-offset);border-radius:var(--spectrum-menu-item-corner-radius)}.spectrum-Menu-itemSelection{grid-area:selectedArea}#label{--mod-switch-control-label-spacing:0;--mod-switch-spacing-top-to-label:0;font-size:var(--mod-menu-item-label-font-size,var(--spectrum-menu-item-label-font-size));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-label-content-color-default,var(--spectrum-menu-item-label-content-color-default)));hyphens:auto;overflow-wrap:break-word;grid-area:labelArea}::slotted([slot=value]){color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-value-color-default,var(--spectrum-menu-item-value-color-default)));font-size:var(--mod-menu-item-label-font-size,var(--spectrum-menu-item-label-font-size));grid-area:valueArea;justify-self:end}.spectrum-Menu-itemActions,::slotted([slot=value]){align-self:start;margin-inline-start:var(--mod-menu-item-label-to-value-area-min-spacing,var(--spectrum-menu-item-label-to-value-area-min-spacing))}.spectrum-Menu-itemActions{grid-area:actionsArea}[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-default,var(--mod-menu-item-description-color-default,var(--spectrum-menu-item-description-color-default)));font-size:var(--mod-menu-item-description-font-size,var(--spectrum-menu-item-description-font-size));hyphens:auto;overflow-wrap:break-word;line-height:var(--mod-menu-item-description-line-height,var(--spectrum-menu-item-description-line-height));grid-area:descriptionArea;margin-block-start:var(--mod-menu-item-label-to-description-spacing,var(--spectrum-menu-item-label-to-description-spacing))}:host([no-wrap]) #label{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.spectrum-Menu-item--collapsible.is-open{padding-block-end:0}.spectrum-Menu-item--collapsible.is-open .chevron{transform:rotate(90deg)}:host([focused]) .spectrum-Menu-item--collapsible.is-open,:host(:is(:active,[active])) .spectrum-Menu-item--collapsible.is-open,.spectrum-Menu-item--collapsible.is-open:focus{background-color:var(--highcontrast-menu-item-background-color-default,var(--mod-menu-item-background-color-default,var(--spectrum-menu-item-background-color-default)))}.spectrum-Menu-item--collapsible ::slotted([slot=icon]){grid-area:headingIconArea}.spectrum-Menu-item--collapsible>::slotted([slot=icon]){padding-block-start:var(--mod-menu-section-header-top-edge-to-text,var(--mod-menu-item-top-edge-to-text,var(--spectrum-menu-item-top-edge-to-text)));padding-block-end:var(--mod-menu-section-header-bottom-edge-to-text,var(--mod-menu-item-bottom-edge-to-text,var(--spectrum-menu-item-bottom-edge-to-text)))}.spectrum-Menu-item--collapsible .chevron{grid-area:chevronAreaCollapsible}:host([has-submenu]) .chevron{fill:var(--highcontrast-menu-item-color-default,var(--mod-menu-drillin-icon-color-default,var(--spectrum-menu-drillin-icon-color-default)));color:var(--highcontrast-menu-item-color-default,var(--mod-menu-drillin-icon-color-default,var(--spectrum-menu-drillin-icon-color-default)));grid-area:chevronAreaDrillIn;margin-inline-start:var(--mod-menu-item-label-to-value-area-min-spacing,var(--spectrum-menu-item-label-to-value-area-min-spacing));margin-inline-end:0}:host([has-submenu]) .is-open{--spectrum-menu-item-background-color-default:var(--highcontrast-menu-item-selected-background-color,var(--mod-menu-item-background-color-hover,var(--spectrum-menu-item-background-color-hover)))}:host([has-submenu]) .is-open .icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)))}:host([has-submenu]) .is-open .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)))}:host([has-submenu]) .is-open .checkmark{fill:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)));color:var(--highcontrast-menu-checkmark-icon-color-default,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)))}@media (hover:hover){:host(:hover){background-color:var(--highcontrast-menu-item-background-color-focus,var(--mod-menu-item-background-color-hover,var(--spectrum-menu-item-background-color-hover)))}:host(:hover)>#label{color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-content-color-hover,var(--spectrum-menu-item-label-content-color-hover)))}:host(:hover)>[name=description]::slotted(*){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-description-color-hover,var(--spectrum-menu-item-description-color-hover)))}:host(:hover)>::slotted([slot=value]){color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-value-color-hover,var(--spectrum-menu-item-value-color-hover)))}:host(:hover)>.icon:not(.chevron,.checkmark){fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-item-label-icon-color-hover,var(--spectrum-menu-item-label-icon-color-hover)))}:host(:hover)>.chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-collapsible-icon-color,var(--spectrum-menu-collapsible-icon-color)))}:host(:hover)>.checkmark{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-checkmark-icon-color-hover,var(--spectrum-menu-checkmark-icon-color-hover)))}:host([disabled]:hover),:host([aria-disabled=true]:hover){cursor:default;background-color:initial}:host([disabled]:hover) #label,:host([disabled]:hover) ::slotted([slot=value]),:host([aria-disabled=true]:hover) #label,:host([aria-disabled=true]:hover) ::slotted([slot=value]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-content-color-disabled,var(--spectrum-menu-item-label-content-color-disabled)))}:host([disabled]:hover) [name=description]::slotted(*),:host([aria-disabled=true]:hover) [name=description]::slotted(*){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-description-color-disabled,var(--spectrum-menu-item-description-color-disabled)))}:host([disabled]:hover) ::slotted([slot=icon]),:host([aria-disabled=true]:hover) ::slotted([slot=icon]){color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)));fill:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}.spectrum-Menu-item--collapsible.is-open:hover{background-color:var(--highcontrast-menu-item-background-color-default,var(--mod-menu-item-background-color-default,var(--spectrum-menu-item-background-color-default)))}:host([has-submenu]:hover) .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-hover,var(--spectrum-menu-drillin-icon-color-hover)))}}:host([has-submenu][focused]) .chevron,:host([has-submenu]:focus) .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-focus,var(--spectrum-menu-drillin-icon-color-focus)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-focus,var(--spectrum-menu-drillin-icon-color-focus)))}:host([has-submenu]:is(:active,[active])) .chevron{fill:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-down,var(--spectrum-menu-drillin-icon-color-down)));color:var(--highcontrast-menu-item-color-focus,var(--mod-menu-drillin-icon-color-down,var(--spectrum-menu-drillin-icon-color-down)))}.spectrum-Menu-back{padding-inline:var(--mod-menu-back-padding-inline-start,0)var(--mod-menu-back-padding-inline-end,var(--spectrum-menu-item-label-inline-edge-to-content));padding-block:var(--mod-menu-back-padding-block-start,0)var(--mod-menu-back-padding-block-end,0);flex-flow:wrap;align-items:center;display:flex}.spectrum-Menu-backButton{cursor:pointer;background:0 0;border:0;margin:0;padding:0;display:inline-flex}:host([focused]) .spectrum-Menu-backButton{outline:var(--spectrum-focus-indicator-thickness)solid var(--spectrum-focus-indicator-color);outline-offset:calc((var(--spectrum-focus-indicator-thickness) + 1px)*-1)}.spectrum-Menu-backHeading{color:var(--highcontrast-menu-item-color-default,var(--mod-menu-back-heading-color,var(--spectrum-menu-section-header-color)));font-size:var(--mod-menu-section-header-font-size,var(--spectrum-menu-section-header-font-size));font-weight:var(--mod-menu-section-header-font-weight,var(--spectrum-menu-section-header-font-weight));line-height:var(--mod-menu-section-header-line-height,var(--spectrum-menu-section-header-line-height));display:block}:host{text-align:initial}:host([hidden]){display:none}:host([disabled]){pointer-events:none}:host([disabled]) [name=value]::slotted(*),:host([has-submenu][disabled]) .chevron{color:var(--highcontrast-menu-item-color-disabled,var(--mod-menu-item-label-icon-color-disabled,var(--spectrum-menu-item-label-icon-color-disabled)))}#button{position:absolute;inset:0}sp-popover{margin-block-start:var(--system-submenu-offset-block,-5px)}:host([dir=ltr]) [icon-only]::slotted(:last-of-type){margin-right:auto}:host([dir=rtl]) [icon-only]::slotted(:last-of-type){margin-left:auto}@media (forced-colors:active){:host{forced-color-adjust:none}}::slotted([slot=submenu]){width:max-content;max-width:100%;overflow-y:auto}:host([no-wrap]) #label{display:block}:host([focused]:not(:focus-visible)){box-shadow:none;outline:none}\n`;export default o;\n//# sourceMappingURL=menu-item.css.js.map\n","\"use strict\";var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var r=(a,n,e,t)=>{for(var i=t>1?void 0:t?p(n,e):n,o=a.length-1,d;o>=0;o--)(d=a[o])&&(i=(t?d(n,e,i):d(i))||i);return t&&i&&c(n,e,i),i};import{html as l,INPUT_COMPONENT_PATTERN as m,nothing as h}from\"@spectrum-web-components/base\";import{ObserveSlotPresence as v,ObserveSlotText as f,randomID as b}from\"@spectrum-web-components/shared\";import{property as s,query as u}from\"@spectrum-web-components/base/src/decorators.js\";import\"@spectrum-web-components/icons-ui/icons/sp-icon-checkmark100.js\";import{LikeAnchor as E}from\"@spectrum-web-components/shared/src/like-anchor.js\";import{Focusable as y}from\"@spectrum-web-components/shared/src/focusable.js\";import\"@spectrum-web-components/icons-ui/icons/sp-icon-chevron100.js\";import g from\"@spectrum-web-components/icon/src/spectrum-icon-chevron.css.js\";import{DependencyManagerController as S}from\"@spectrum-web-components/reactive-controllers/src/DependencyManger.js\";import C from\"./menu-item.css.js\";import T from\"@spectrum-web-components/icon/src/spectrum-icon-checkmark.css.js\";import{MutationController as P}from\"@lit-labs/observers/mutation-controller.js\";import{SlottableRequestEvent as _}from\"@spectrum-web-components/overlay/src/slottable-request-event.js\";const M=100;export class MenuItemAddedOrUpdatedEvent extends Event{constructor(e){super(\"sp-menu-item-added-or-updated\",{bubbles:!0,composed:!0});this.menuCascade=new WeakMap;this.clear(e)}clear(e){this._item=e,this.currentAncestorWithSelects=void 0,e.menuData={cleanupSteps:[],focusRoot:void 0,selectionRoot:void 0,parentMenu:void 0},this.menuCascade=new WeakMap}get item(){return this._item}}export class MenuItemKeydownEvent extends KeyboardEvent{constructor({root:n,event:e}){super(\"sp-menu-item-keydown\",{bubbles:!0,composed:!0}),this.root=n,this._event=e}get altKey(){var n;return((n=this._event)==null?void 0:n.altKey)||!1}get code(){var n;return((n=this._event)==null?void 0:n.code)||\"\"}get ctrlKey(){var n;return((n=this._event)==null?void 0:n.ctrlKey)||!1}get isComposing(){var n;return((n=this._event)==null?void 0:n.isComposing)||!1}get key(){var n;return((n=this._event)==null?void 0:n.key)||\"\"}get location(){var n;return((n=this._event)==null?void 0:n.location)||0}get metaKey(){var n;return((n=this._event)==null?void 0:n.metaKey)||!1}get repeat(){var n;return((n=this._event)==null?void 0:n.repeat)||!1}get shiftKey(){var n;return((n=this._event)==null?void 0:n.shiftKey)||!1}}export class MenuItem extends E(f(v(y,'[slot=\"icon\"]'))){constructor(){super();this.active=!1;this.dependencyManager=new S(this);this.focused=!1;this.selected=!1;this._value=\"\";this.hasSubmenu=!1;this.noWrap=!1;this.open=!1;this._openedViaKeyboard=!1;this._closedViaPointer=!1;this._touchHandledViaPointerup=!1;this.handleSlottableRequest=e=>{var t;(t=this.submenuElement)==null||t.dispatchEvent(new _(e.name,e.data))};this.proxyFocus=()=>{this.focus()};this.handleTouchSubmenuToggle=e=>{var t;e.pointerId===this._activePointerId&&((t=this._touchAbortController)==null||t.abort(),this._touchHandledViaPointerup=!0,this._activePointerId=void 0,this.open?this.open=!1:this.openOverlay(),setTimeout(()=>{this._touchHandledViaPointerup=!1},0))};this.handleTouchCleanup=e=>{var t;e.pointerId===this._activePointerId&&((t=this._touchAbortController)==null||t.abort(),this._activePointerId=void 0,this._touchHandledViaPointerup=!1)};this.handleKeydown=e=>{const{target:t,key:i}=e,o=this.hasSubmenu&&!this.open&&[\" \",\"Enter\"].includes(i);t===this&&(([\"ArrowLeft\",\"ArrowRight\",\"Escape\"].includes(i)||o)&&e.preventDefault(),this.dispatchEvent(new MenuItemKeydownEvent({root:this,event:e})))};this.handleBeforetoggle=e=>{e.newState===\"closed\"&&(this.open=!0,this.overlayElement.manuallyKeepOpen(),this.overlayElement.removeEventListener(\"beforetoggle\",this.handleBeforetoggle))};this.recentlyLeftChild=!1;this.willDispatchUpdate=!1;this.menuData={focusRoot:void 0,parentMenu:void 0,selectionRoot:void 0,cleanupSteps:[]};this.addEventListener(\"click\",this.handleClickCapture,{capture:!0}),this.addEventListener(\"focus\",this.handleFocus),this.addEventListener(\"blur\",this.handleBlur),new P(this,{config:{characterData:!0,childList:!0,subtree:!0,attributeFilter:[\"src\"]},callback:e=>{e.every(i=>i.target.slot===\"submenu\")||this.breakItemChildrenCache()}})}static get styles(){return[C,T,g]}get value(){return this._value||this.itemText}set value(e){e!==this._value&&(this._value=e||\"\",this._value?this.setAttribute(\"value\",this._value):this.removeAttribute(\"value\"))}get itemText(){return this.itemChildren.content.reduce((e,t)=>e+(t.textContent||\"\").trim(),\"\")}get focusElement(){return this}get hasIcon(){return this.slotContentIsPresent}get itemChildren(){if(!this.iconSlot||!this.contentSlot)return{icon:[],content:[]};if(this._itemChildren)return this._itemChildren;const e=this.iconSlot.assignedElements().map(i=>{const o=i.cloneNode(!0);return o.removeAttribute(\"slot\"),o.classList.toggle(\"icon\"),o}),t=this.contentSlot.assignedNodes().map(i=>i.cloneNode(!0));return this._itemChildren={icon:e,content:t},this._itemChildren}handleClickCapture(e){if(this.disabled)return e.preventDefault(),e.stopImmediatePropagation(),!1;this.shouldProxyClick()}shouldProxyClick(){let e=!1;return this.anchorElement&&(this.anchorElement.click(),e=!0),e}breakItemChildrenCache(){this._itemChildren=void 0,this.triggerUpdate()}renderSubmenu(){const e=l`\n            <slot\n                name=\"submenu\"\n                @slotchange=${this.manageSubmenu}\n                @sp-menu-item-added-or-updated=${{handleEvent:t=>{t.clear(t.item)},capture:!0}}\n                @focusin=${t=>t.stopPropagation()}\n            ></slot>\n        `;return this.hasSubmenu?(this.dependencyManager.add(\"sp-overlay\"),this.dependencyManager.add(\"sp-popover\"),import(\"@spectrum-web-components/overlay/sp-overlay.js\"),import(\"@spectrum-web-components/popover/sp-popover.js\"),l`\n            <sp-overlay\n                receives-focus=\"false\"\n                .triggerElement=${this}\n                ?disabled=${!this.hasSubmenu}\n                ?open=${this.hasSubmenu&&this.open&&this.dependencyManager.loaded}\n                .placement=${this.isLTR?\"right-start\":\"left-start\"}\n                receives-focus=\"false\"\n                .offset=${[-10,0]}\n                .type=${\"auto\"}\n                @close=${t=>t.stopPropagation()}\n                @slottable-request=${this.handleSlottableRequest}\n            >\n                <sp-popover\n                    @change=${t=>{this.handleSubmenuChange(t),this.open=!1}}\n                    @pointerenter=${this.handleSubmenuPointerenter}\n                    @pointerleave=${this.handleSubmenuPointerleave}\n                    @sp-menu-item-added-or-updated=${t=>t.stopPropagation()}\n                >\n                    ${e}\n                </sp-popover>\n            </sp-overlay>\n            <sp-icon-chevron100\n                class=\"spectrum-UIIcon-ChevronRight100 chevron icon\"\n            ></sp-icon-chevron100>\n        `):e}render(){return l`\n            ${this.selected?l`\n                      <sp-icon-checkmark100\n                          id=\"selected\"\n                          class=\"spectrum-UIIcon-Checkmark100\n                            icon\n                            checkmark\n                            ${this.hasIcon?\"checkmark--withAdjacentIcon\":\"\"}\"\n                      ></sp-icon-checkmark100>\n                  `:h}\n            <slot name=\"icon\"></slot>\n            <div id=\"label\">\n                <slot id=\"slot\"></slot>\n            </div>\n            <slot name=\"description\"></slot>\n            <slot name=\"value\"></slot>\n            ${this.href&&this.href.length>0?super.renderAnchor({id:\"button\",ariaHidden:!0,className:\"button anchor hidden\"}):h}\n            ${this.renderSubmenu()}\n        `}manageSubmenu(e){this.submenuElement=e.target.assignedElements({flatten:!0})[0],this.hasSubmenu=!!this.submenuElement,this.hasSubmenu&&this.setAttribute(\"aria-haspopup\",\"true\")}handlePointerdown(e){var o;const t=e.composedPath(),i=this.overlayElement&&t.includes(this.overlayElement);e.pointerType===\"touch\"&&this.hasSubmenu&&!i&&this._activePointerId===void 0&&(this._activePointerId=e.pointerId,this._touchAbortController=new AbortController,window.addEventListener(\"pointerup\",this.handleTouchSubmenuToggle,{once:!0,signal:this._touchAbortController.signal}),window.addEventListener(\"pointercancel\",this.handleTouchCleanup,{once:!0,signal:this._touchAbortController.signal})),!i&&this.hasSubmenu&&this.open&&e.pointerType!==\"touch\"&&(this.addEventListener(\"focus\",this.handleSubmenuFocus,{once:!0}),(o=this.overlayElement)==null||o.addEventListener(\"beforetoggle\",this.handleBeforetoggle))}firstUpdated(e){super.firstUpdated(e),this.setAttribute(\"tabindex\",\"-1\"),this.addEventListener(\"keydown\",this.handleKeydown),this.addEventListener(\"mouseover\",this.handleMouseover),this.addEventListener(\"pointerdown\",this.handlePointerdown),this.addEventListener(\"pointerenter\",this.closeOverlaysForRoot),this.hasAttribute(\"id\")||(this.id=`sp-menu-item-${b()}`)}getActiveElementSafely(){let e=this.getRootNode(),t=e.activeElement;if(!t&&e!==document)for(;e&&e!==document&&\"host\"in e&&(e=e.host.getRootNode(),t=e.activeElement,!t););return t}handleMouseover(e){if(e.target===this){const i=this.getActiveElementSafely();(!i||!this.isInputElement(i))&&this.focus(),this.focused=!1}}isInputElement(e){return!!(this.isNativeInputElement(e)||e.contentEditable===\"true\"||this.isSpectrumInputComponent(e))}isNativeInputElement(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement}isSpectrumInputComponent(e){if(!e.tagName.startsWith(\"SP-\"))return!1;const t=e.getAttribute(\"role\");return!!(t&&[\"textbox\",\"searchbox\",\"combobox\",\"slider\"].includes(t)||m.test(e.tagName))}closeOverlaysForRoot(){var e;this.open||(e=this.menuData.parentMenu)==null||e.closeDescendentOverlays()}handleFocus(e){const{target:t}=e;t===this&&(this.focused=!0)}handleBlur(e){const{target:t}=e;t===this&&(this.focused=!1)}handleSubmenuClick(e){if(this._touchHandledViaPointerup){e.stopPropagation(),e.preventDefault();return}e.composedPath().includes(this.overlayElement)||this.openOverlay(!0)}handleSubmenuFocus(){requestAnimationFrame(()=>{this.overlayElement.open=this.open,this.focused=!1})}handlePointerenter(e){if(e.pointerType!==\"touch\"){if(this.leaveTimeout){clearTimeout(this.leaveTimeout),delete this.leaveTimeout,this.recentlyLeftChild=!1;return}this.focus(),this.openOverlay()}}handlePointerleave(e){e.pointerType!==\"touch\"&&(this._closedViaPointer=!0,this.open&&!this.recentlyLeftChild&&(this.leaveTimeout=setTimeout(()=>{delete this.leaveTimeout,this.open=!1},M)))}handleSubmenuChange(e){var t;e.stopPropagation(),(t=this.menuData.selectionRoot)==null||t.selectOrToggleItem(this)}handleSubmenuPointerenter(){this.recentlyLeftChild=!0}async handleSubmenuPointerleave(){this.recentlyLeftChild=!1}handleSubmenuOpen(e){var i;const t=e.composedPath().find(o=>o!==this.overlayElement&&o.localName===\"sp-overlay\");this._openedViaKeyboard&&((i=this.submenuElement)==null||i.focus()),this.overlayElement.parentOverlayToForceClose=t}cleanup(){this._closedViaPointer=!1,this.setAttribute(\"aria-expanded\",\"false\"),this.open=!1,this.active=!1}async openOverlay(e=!1){!this.hasSubmenu||this.open||this.disabled||(this.open=!0,this.active=!0,this.setAttribute(\"aria-expanded\",\"true\"),this._openedViaKeyboard=e,this.addEventListener(\"sp-closed\",this.cleanup,{once:!0}))}updateAriaSelected(){const e=this.getAttribute(\"role\");e===\"option\"?this.setAttribute(\"aria-selected\",this.selected?\"true\":\"false\"):(e===\"menuitemcheckbox\"||e===\"menuitemradio\")&&this.setAttribute(\"aria-checked\",this.selected?\"true\":\"false\")}setRole(e){this.setAttribute(\"role\",e),this.updateAriaSelected()}willUpdate(e){super.updated(e),e.has(\"open\")&&!this.open&&this.hasSubmenu&&!this._closedViaPointer&&this.matches(\":focus-within\")&&this.focus()}updated(e){var t,i;if(super.updated(e),e.has(\"label\")&&(this.label||typeof e.get(\"label\")!=\"undefined\")&&this.setAttribute(\"aria-label\",this.label||\"\"),e.has(\"active\")&&(this.active||typeof e.get(\"active\")!=\"undefined\")&&this.active&&((t=this.menuData.selectionRoot)==null||t.closeDescendentOverlays()),this.anchorElement&&(this.anchorElement.addEventListener(\"focus\",this.proxyFocus),this.anchorElement.tabIndex=-1),e.has(\"selected\")&&this.updateAriaSelected(),e.has(\"hasSubmenu\")&&(this.hasSubmenu||typeof e.get(\"hasSubmenu\")!=\"undefined\"))if(this.hasSubmenu){this.abortControllerSubmenu=new AbortController;const o={signal:this.abortControllerSubmenu.signal};this.addEventListener(\"click\",this.handleSubmenuClick,o),this.addEventListener(\"pointerenter\",this.handlePointerenter,o),this.addEventListener(\"pointerleave\",this.handlePointerleave,o),this.addEventListener(\"sp-opened\",this.handleSubmenuOpen,o)}else(i=this.abortControllerSubmenu)==null||i.abort()}connectedCallback(){super.connectedCallback(),this.triggerUpdate()}disconnectedCallback(){var e;this.menuData.cleanupSteps.forEach(t=>t(this)),this.menuData={focusRoot:void 0,parentMenu:void 0,selectionRoot:void 0,cleanupSteps:[]},(e=this._touchAbortController)==null||e.abort(),this._activePointerId=void 0,this._touchHandledViaPointerup=!1,super.disconnectedCallback()}async triggerUpdate(){this.willDispatchUpdate||(this.willDispatchUpdate=!0,await new Promise(e=>requestAnimationFrame(e)),this.dispatchUpdate())}focus(){super.focus(),this.dispatchEvent(new FocusEvent(\"focus\"))}blur(){this.dispatchEvent(new FocusEvent(\"blur\")),super.blur()}dispatchUpdate(){this.isConnected&&(this.dispatchEvent(new MenuItemAddedOrUpdatedEvent(this)),this.willDispatchUpdate=!1)}}r([s({type:Boolean,reflect:!0})],MenuItem.prototype,\"active\",2),r([s({type:Boolean,reflect:!0})],MenuItem.prototype,\"focused\",2),r([s({type:Boolean,reflect:!0})],MenuItem.prototype,\"selected\",2),r([s({type:String})],MenuItem.prototype,\"value\",1),r([s({type:Boolean,reflect:!0,attribute:\"has-submenu\"})],MenuItem.prototype,\"hasSubmenu\",2),r([u(\"slot:not([name])\")],MenuItem.prototype,\"contentSlot\",2),r([u('slot[name=\"icon\"]')],MenuItem.prototype,\"iconSlot\",2),r([s({type:Boolean,reflect:!0,attribute:\"no-wrap\",hasChanged(){return!1}})],MenuItem.prototype,\"noWrap\",2),r([u(\".anchor\")],MenuItem.prototype,\"anchorElement\",2),r([u(\"sp-overlay\")],MenuItem.prototype,\"overlayElement\",2),r([s({type:Boolean,reflect:!0})],MenuItem.prototype,\"open\",2);\n//# sourceMappingURL=MenuItem.js.map\n","\"use strict\";import{MenuItem as e}from\"./src/MenuItem.js\";import{defineElement as m}from\"@spectrum-web-components/base/src/define-element.js\";m(\"sp-menu-item\",e);\n//# sourceMappingURL=sp-menu-item.js.map\n"],"names":["INPUT_COMPONENT_PATTERN","RegExp","join","t","e","v","Object","defineProperty","b","getOwnPropertyDescriptor","o","p","c","s","n","i","length","Menu","g","f","noDefaultSize","constructor","super","this","touchStartY","touchStartTime","isCurrentlyScrolling","scrollThreshold","scrollTimeThreshold","label","ignore","value","valueSeparator","_selected","selectedItems","childItemSet","Set","focusedItemIndex","focusInItemIndex","shouldSupportDragAndSelect","selectedItemsMap","Map","pointerUpTarget","descendentOverlays","handleSubmenuClosed","stopPropagation","composedPath","dispatchEvent","Event","bubbles","composed","handleSubmenuOpened","find","has","_hasUpdatedSelectedItemIndex","_willUpdateItems","cacheUpdated","Promise","resolve","resolveCacheUpdated","rovingTabindexController","controlsRovingTabindex","y","direction","focusInIndex","findIndex","disabled","selected","elements","childItems","isFocusableElement","bind","hostDelegatesFocus","stopKeyEventPropagation","addEventListener","onSelectableItemAddedOrUpdated","onFocusableItemAddedOrUpdated","capture","handleClick","handlePointerup","handleFocusout","handleKeydown","handleTouchStart","passive","handleTouchMove","styles","E","isSubmenu","slot","isScrolling","selects","clear","forEach","menuData","selectionRoot","includes","push","set","requestUpdate","focusInItem","focusInElement","cachedChildItems","updateCachedMenuItems","menuSlot","assignedElements","flatten","entries","d","localName","querySelectorAll","splice","clearElementCache","childRole","resolvedRole","resolvedSelects","ownRole","menuCascade","hadFocusRoot","item","focusRoot","ancestorWithSelects","currentAncestorWithSelects","get","parentMenu","addChildItem","l","getAttribute","cleanupSteps","removeChildItem","setRole","add","handleItemsChanged","focused","hasAttribute","active","_updateFocus","getNeighboringFocusableElement","delete","focusOnFirstSelectedItem","preventScroll","scrollIntoView","block","focusOnItem","focus","every","some","touches","clientY","Date","now","Math","abs","handleTouchEnd","setTimeout","matches","reset","target","handlePointerBasedSelection","MouseEvent","button","Element","defaultPrevented","indexOf","href","preventDefault","hasSubmenu","open","selectOrToggleItem","prepareToCleanUp","handleDescendentOverlayOpened","overlayElement","handleDescendentOverlayClosed","min","max","r","slice","a","m","h","cancelable","keys","navigateBetweenRelatedMenus","key","root","isLTR","openOverlay","updateSelectedItemIndex","shiftKey","removeAttribute","document","removeEventListener","focusElement","click","closeDescendentOverlays","requestAnimationFrame","once","unshift","updateCache","hasUpdated","all","updateComplete","updateItemFocus","setAttribute","handleSlotchange","triggerUpdate","renderMenuItemSlot","I","render","firstUpdated","children","childItemsUpdated","updated","selectsChanged","connectedCallback","then","disconnectedCallback","getUpdateComplete","shadowRootOptions","delegatesFocus","u","type","String","reflect","prototype","Boolean","attribute","S","MenuItemAddedOrUpdatedEvent","WeakMap","_item","MenuItemKeydownEvent","KeyboardEvent","event","_event","altKey","code","ctrlKey","isComposing","location","metaKey","repeat","MenuItem","dependencyManager","_value","noWrap","_openedViaKeyboard","_closedViaPointer","_touchHandledViaPointerup","handleSlottableRequest","submenuElement","_","name","data","proxyFocus","handleTouchSubmenuToggle","pointerId","_activePointerId","_touchAbortController","abort","handleTouchCleanup","handleBeforetoggle","newState","manuallyKeepOpen","recentlyLeftChild","willDispatchUpdate","handleClickCapture","handleFocus","handleBlur","P","config","characterData","childList","subtree","attributeFilter","callback","breakItemChildrenCache","C","T","itemText","itemChildren","content","reduce","textContent","trim","hasIcon","slotContentIsPresent","iconSlot","contentSlot","icon","_itemChildren","map","cloneNode","classList","toggle","assignedNodes","stopImmediatePropagation","shouldProxyClick","anchorElement","renderSubmenu","manageSubmenu","handleEvent","import","loaded","handleSubmenuChange","handleSubmenuPointerenter","handleSubmenuPointerleave","renderAnchor","id","ariaHidden","className","handlePointerdown","pointerType","AbortController","window","signal","handleSubmenuFocus","handleMouseover","closeOverlaysForRoot","getActiveElementSafely","getRootNode","activeElement","host","isInputElement","isNativeInputElement","contentEditable","isSpectrumInputComponent","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","tagName","startsWith","test","handleSubmenuClick","handlePointerenter","leaveTimeout","clearTimeout","handlePointerleave","handleSubmenuOpen","parentOverlayToForceClose","cleanup","updateAriaSelected","willUpdate","tabIndex","abortControllerSubmenu","dispatchUpdate","FocusEvent","blur","isConnected","hasChanged"],"mappings":"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"}