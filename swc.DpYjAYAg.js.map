{"version":3,"file":"swc.CpbQ6xOk.js","sources":["../../../packages/button/src/button-base.css.js","../../../packages/button/src/ButtonBase.js"],"sourcesContent":["\"use strict\";import{css as s}from\"@spectrum-web-components/base\";const e=s`\n    :host{vertical-align:top;--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-100);--spectrum-icon-size:var(--spectrum-workflow-icon-size-100);display:inline-flex}:host([dir]){-webkit-appearance:none}:host([disabled]){pointer-events:none;cursor:auto}#button{position:absolute;inset:0}::slotted(sp-overlay),::slotted(sp-tooltip){position:absolute}:host:after,::slotted(*){pointer-events:none}slot[name=icon]::slotted(svg),slot[name=icon]::slotted(img){fill:currentColor;stroke:currentColor;block-size:var(--spectrum-icon-size,var(--spectrum-workflow-icon-size-100));inline-size:var(--spectrum-icon-size,var(--spectrum-workflow-icon-size-100))}[icon-only]+#label{display:contents}:host([size=xs]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-50);--spectrum-icon-size:var(--spectrum-workflow-icon-size-50)}:host([size=s]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-75);--spectrum-icon-size:var(--spectrum-workflow-icon-size-75)}:host([size=l]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-200);--spectrum-icon-size:var(--spectrum-workflow-icon-size-200)}:host([size=xl]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-300);--spectrum-icon-size:var(--spectrum-workflow-icon-size-300)}:host([size=xxl]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-400);--spectrum-icon-size:var(--spectrum-workflow-icon-size-400)}\n`;export default e;\n//# sourceMappingURL=button-base.css.js.map\n","\"use strict\";var u=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var s=(a,i,e,t)=>{for(var r=t>1?void 0:t?d(i,e):i,n=a.length-1,l;n>=0;n--)(l=a[n])&&(r=(t?l(i,e,r):l(r))||r);return t&&r&&u(i,e,r),r};import{html as o}from\"@spectrum-web-components/base\";import{property as h,query as c}from\"@spectrum-web-components/base/src/decorators.js\";import{LikeAnchor as p}from\"@spectrum-web-components/shared/src/like-anchor.js\";import{Focusable as b}from\"@spectrum-web-components/shared/src/focusable.js\";import{ObserveSlotText as f}from\"@spectrum-web-components/shared/src/observe-slot-text.js\";import m from\"./button-base.css.js\";export class ButtonBase extends f(p(b),\"\",[\"sp-overlay,sp-tooltip\"]){constructor(){super();this.active=!1;this.type=\"button\";this.proxyFocus=this.proxyFocus.bind(this),this.addEventListener(\"click\",this.handleClickCapture,{capture:!0})}static get styles(){return[m]}get focusElement(){return this}get hasLabel(){return this.slotHasContent}get buttonContent(){return[o`\n                <slot name=\"icon\" ?icon-only=${!this.hasLabel}></slot>\n            `,o`\n                <span id=\"label\">\n                    <slot @slotchange=${this.manageTextObservedSlot}></slot>\n                </span>\n            `]}handleClickCapture(e){if(this.disabled)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1;this.shouldProxyClick(e)}proxyFocus(){this.focus()}shouldProxyClick(e){let t=!1;if(e&&(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey))return!1;if(this.anchorElement)this.anchorElement.click(),t=!0;else if(this.type!==\"button\"){const r=document.createElement(\"button\");r.type=this.type,this.insertAdjacentElement(\"afterend\",r),r.click(),r.remove(),t=!0}return t}renderAnchor(){return o`\n            ${this.buttonContent}\n            ${super.renderAnchor({id:\"button\",ariaHidden:!0,className:\"button anchor\",tabindex:-1})}\n        `}renderButton(){return o`\n            ${this.buttonContent}\n        `}render(){return this.href&&this.href.length>0?this.renderAnchor():this.renderButton()}handleKeydown(e){const{code:t}=e;switch(t){case\"Space\":e.preventDefault(),typeof this.href==\"undefined\"&&(this.addEventListener(\"keyup\",this.handleKeyup),this.active=!0);break;default:break}}handleKeypress(e){const{code:t}=e;switch(t){case\"Enter\":case\"NumpadEnter\":this.click();break;default:break}}handleKeyup(e){const{code:t}=e;switch(t){case\"Space\":this.removeEventListener(\"keyup\",this.handleKeyup),this.active=!1,this.click();break;default:break}}manageAnchor(){this.href&&this.href.length>0?(!this.hasAttribute(\"role\")||this.getAttribute(\"role\")===\"button\")&&this.setAttribute(\"role\",\"link\"):(!this.hasAttribute(\"role\")||this.getAttribute(\"role\")===\"link\")&&this.setAttribute(\"role\",\"button\")}firstUpdated(e){super.firstUpdated(e),this.hasAttribute(\"tabindex\")||this.setAttribute(\"tabindex\",\"0\"),e.has(\"label\")&&(this.label?this.setAttribute(\"aria-label\",this.label):this.removeAttribute(\"aria-label\")),this.manageAnchor(),this.addEventListener(\"keydown\",this.handleKeydown),this.addEventListener(\"keypress\",this.handleKeypress)}updated(e){super.updated(e),e.has(\"href\")&&this.manageAnchor(),this.anchorElement&&(this.anchorElement.tabIndex=-1,this.anchorElement.hasAttribute(\"aria-hidden\")||this.anchorElement.setAttribute(\"aria-hidden\",\"true\"),this.anchorElement.addEventListener(\"focus\",this.proxyFocus))}update(e){super.update(e),e.has(\"label\")&&(this.label?this.setAttribute(\"aria-label\",this.label):this.removeAttribute(\"aria-label\"))}}s([h({type:Boolean,reflect:!0})],ButtonBase.prototype,\"active\",2),s([h({type:String})],ButtonBase.prototype,\"type\",2),s([c(\".anchor\")],ButtonBase.prototype,\"anchorElement\",2);\n//# sourceMappingURL=ButtonBase.js.map\n"],"names":["e","s","u","Object","defineProperty","a","i","t","l","r","n","length","ButtonBase","f","p","b","constructor","super","this","active","type","proxyFocus","bind","addEventListener","handleClickCapture","capture","styles","m","focusElement","hasLabel","slotHasContent","buttonContent","o","manageTextObservedSlot","disabled","preventDefault","stopImmediatePropagation","stopPropagation","shouldProxyClick","focus","metaKey","ctrlKey","shiftKey","altKey","anchorElement","click","document","createElement","insertAdjacentElement","remove","renderAnchor","id","ariaHidden","className","tabindex","renderButton","render","href","handleKeydown","code","handleKeyup","handleKeypress","removeEventListener","manageAnchor","hasAttribute","getAttribute","setAttribute","firstUpdated","has","label","removeAttribute","updated","tabIndex","update","h","Boolean","reflect","prototype","String","c"],"mappings":"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"}