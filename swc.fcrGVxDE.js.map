{"version":3,"file":"swc.BoSLPTFf.js","sources":["../../../packages/overlay/src/overlay-trigger.css.js","../../../packages/overlay/src/OverlayTrigger.js","../../../packages/overlay/overlay-trigger.js"],"sourcesContent":["\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const s=e`\n    :host([disabled]) ::slotted([slot=trigger]){pointer-events:none}slot[name=longpress-describedby-descriptor]{display:none}\n`;export default s;\n//# sourceMappingURL=overlay-trigger.css.js.map\n","\"use strict\";var m=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var n=(p,l,e,r)=>{for(var t=r>1?void 0:r?u(l,e):l,s=p.length-1,i;s>=0;s--)(i=p[s])&&(t=(r?i(l,e,t):i(t))||t);return r&&t&&m(l,e,t),t};import{html as a,SpectrumElement as v}from\"@spectrum-web-components/base\";import{property as o,query as h,state as c}from\"@spectrum-web-components/base/src/decorators.js\";import\"@spectrum-web-components/overlay/sp-overlay.js\";import y from\"./overlay-trigger.css.js\";export class OverlayTrigger extends v{constructor(){super(...arguments);this.offset=6;this.disabled=!1;this.receivesFocus=\"auto\";this.clickContent=[];this.longpressContent=[];this.hoverContent=[];this.targetContent=[]}static get styles(){return[y]}getAssignedElementsFromSlot(e){return e.assignedElements({flatten:!0})}handleTriggerContent(e){this.targetContent=this.getAssignedElementsFromSlot(e.target)}handleSlotContent(e){switch(e.target.name){case\"click-content\":this.clickContent=this.getAssignedElementsFromSlot(e.target);break;case\"longpress-content\":this.longpressContent=this.getAssignedElementsFromSlot(e.target);break;case\"hover-content\":this.hoverContent=this.getAssignedElementsFromSlot(e.target);break}}handleBeforetoggle(e){const{target:r}=e;let t;if(r===this.clickOverlayElement)t=\"click\";else if(r===this.longpressOverlayElement)t=\"longpress\";else if(r===this.hoverOverlayElement)t=\"hover\";else return;e.newState===\"open\"?this.open=t:this.open===t&&(this.open=void 0)}update(e){var r,t,s,i,d,g;e.has(\"clickContent\")&&(this.clickPlacement=((r=this.clickContent[0])==null?void 0:r.getAttribute(\"placement\"))||((t=this.clickContent[0])==null?void 0:t.getAttribute(\"direction\"))||void 0),e.has(\"hoverContent\")&&(this.hoverPlacement=((s=this.hoverContent[0])==null?void 0:s.getAttribute(\"placement\"))||((i=this.hoverContent[0])==null?void 0:i.getAttribute(\"direction\"))||void 0),e.has(\"longpressContent\")&&(this.longpressPlacement=((d=this.longpressContent[0])==null?void 0:d.getAttribute(\"placement\"))||((g=this.longpressContent[0])==null?void 0:g.getAttribute(\"direction\"))||void 0),super.update(e)}renderSlot(e){return a`\n            <slot name=${e} @slotchange=${this.handleSlotContent}></slot>\n        `}renderClickOverlay(){var t;const e=this.renderSlot(\"click-content\"),r=a`\n            <sp-overlay\n                id=\"click-overlay\"\n                ?disabled=${this.disabled||!this.clickContent.length}\n                ?open=${this.open===\"click\"&&!!this.clickContent.length}\n                .offset=${this.offset}\n                .placement=${this.clickPlacement||this.placement}\n                .triggerElement=${this.targetContent[0]}\n                .triggerInteraction=${\"click\"}\n                .type=${this.type!==\"modal\"?\"auto\":\"modal\"}\n                @beforetoggle=${this.handleBeforetoggle}\n                .receivesFocus=${this.receivesFocus}\n            >\n                ${e}\n            </sp-overlay>\n        `;return(t=this.triggeredBy)!=null&&t.includes(\"click\")||this.clickContent.length?r:e}renderHoverOverlay(){var t;const e=this.renderSlot(\"hover-content\"),r=a`\n            <sp-overlay\n                id=\"hover-overlay\"\n                ?open=${this.open===\"hover\"&&!!this.hoverContent.length}\n                ?disabled=${this.disabled||!this.hoverContent.length||!!this.open&&this.open!==\"hover\"}\n                .offset=${this.offset}\n                .placement=${this.hoverPlacement||this.placement}\n                .triggerElement=${this.targetContent[0]}\n                .triggerInteraction=${\"hover\"}\n                .type=${\"hint\"}\n                @beforetoggle=${this.handleBeforetoggle}\n                .receivesFocus=${this.receivesFocus}\n            >\n                ${e}\n            </sp-overlay>\n        `;return(t=this.triggeredBy)!=null&&t.includes(\"hover\")||this.hoverContent.length?r:e}renderLongpressOverlay(){var t;const e=this.renderSlot(\"longpress-content\"),r=a`\n            <sp-overlay\n                id=\"longpress-overlay\"\n                ?disabled=${this.disabled||!this.longpressContent.length}\n                ?open=${this.open===\"longpress\"&&!!this.longpressContent.length}\n                .offset=${this.offset}\n                .placement=${this.longpressPlacement||this.placement}\n                .triggerElement=${this.targetContent[0]}\n                .triggerInteraction=${\"longpress\"}\n                .type=${\"auto\"}\n                @beforetoggle=${this.handleBeforetoggle}\n                .receivesFocus=${this.receivesFocus}\n            >\n                ${e}\n            </sp-overlay>\n            <slot name=\"longpress-describedby-descriptor\"></slot>\n        `;return(t=this.triggeredBy)!=null&&t.includes(\"longpress\")||this.longpressContent.length?r:e}render(){return a`\n            <slot\n                id=\"trigger\"\n                name=\"trigger\"\n                @slotchange=${this.handleTriggerContent}\n            ></slot>\n            ${[this.renderClickOverlay(),this.renderHoverOverlay(),this.renderLongpressOverlay()]}\n        `}updated(e){if(super.updated(e),this.disabled&&e.has(\"disabled\")){this.open=void 0;return}}async getUpdateComplete(){return await super.getUpdateComplete()}}n([o({attribute:\"triggered-by\"})],OverlayTrigger.prototype,\"triggeredBy\",2),n([o({reflect:!0})],OverlayTrigger.prototype,\"placement\",2),n([o()],OverlayTrigger.prototype,\"type\",2),n([o({type:Number})],OverlayTrigger.prototype,\"offset\",2),n([o({reflect:!0})],OverlayTrigger.prototype,\"open\",2),n([o({type:Boolean,reflect:!0})],OverlayTrigger.prototype,\"disabled\",2),n([o({attribute:\"receives-focus\"})],OverlayTrigger.prototype,\"receivesFocus\",2),n([c()],OverlayTrigger.prototype,\"clickContent\",2),n([c()],OverlayTrigger.prototype,\"longpressContent\",2),n([c()],OverlayTrigger.prototype,\"hoverContent\",2),n([c()],OverlayTrigger.prototype,\"targetContent\",2),n([h(\"#click-overlay\",!0)],OverlayTrigger.prototype,\"clickOverlayElement\",2),n([h(\"#longpress-overlay\",!0)],OverlayTrigger.prototype,\"longpressOverlayElement\",2),n([h(\"#hover-overlay\",!0)],OverlayTrigger.prototype,\"hoverOverlayElement\",2);\n//# sourceMappingURL=OverlayTrigger.js.map\n","\"use strict\";import{defineElement as e}from\"@spectrum-web-components/base/src/define-element.js\";import{OverlayTrigger as r}from\"./src/OverlayTrigger.js\";e(\"overlay-trigger\",r);\n//# sourceMappingURL=overlay-trigger.js.map\n"],"names":["s","e","m","Object","defineProperty","n","p","l","r","i","t","length","OverlayTrigger","v","constructor","arguments","this","offset","disabled","receivesFocus","clickContent","longpressContent","hoverContent","targetContent","styles","y","getAssignedElementsFromSlot","assignedElements","flatten","handleTriggerContent","target","handleSlotContent","name","handleBeforetoggle","clickOverlayElement","longpressOverlayElement","hoverOverlayElement","newState","open","update","d","g","has","clickPlacement","getAttribute","hoverPlacement","longpressPlacement","super","renderSlot","a","renderClickOverlay","placement","type","triggeredBy","includes","renderHoverOverlay","renderLongpressOverlay","render","updated","getUpdateComplete","o","attribute","prototype","reflect","Number","Boolean","c","h"],"mappings":"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"}