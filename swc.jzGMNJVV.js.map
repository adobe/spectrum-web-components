{"version":3,"file":"swc.I1MBLvPo.js","sources":["../../../tools/theme/src/theme-interfaces.js","../../../tools/theme/src/Theme.js"],"sourcesContent":["\"use strict\";export const SYSTEM_VARIANT_VALUES=[\"spectrum\",\"express\",\"spectrum-two\"],SCALE_VALUES=[\"medium\",\"large\",\"medium-express\",\"large-express\",\"medium-spectrum-two\",\"large-spectrum-two\"],COLOR_VALUES=[\"light\",\"lightest\",\"dark\",\"darkest\",\"light-express\",\"lightest-express\",\"dark-express\",\"darkest-express\",\"light-spectrum-two\",\"lightest-spectrum-two\",\"dark-spectrum-two\",\"darkest-spectrum-two\"];\n//# sourceMappingURL=theme-interfaces.js.map\n","\"use strict\";import{version as d}from\"@spectrum-web-components/base/src/version.js\";import{COLOR_VALUES as h,SCALE_VALUES as u,SYSTEM_VARIANT_VALUES as p}from\"./theme-interfaces.js\";const o=class o extends HTMLElement{constructor(){super();this._dir=\"\";this._system=\"spectrum\";this._color=\"\";this._scale=\"\";this._systemContextConsumers=new Map;this.trackedChildren=new Set;this._updateRequested=!1;this._contextConsumers=new Map;this.attachShadow({mode:\"open\"});const e=document.importNode(o.template.content,!0);this.shadowRoot.appendChild(e),this.shouldAdoptStyles(),this.addEventListener(\"sp-language-context\",this._handleContextPresence),this.addEventListener(\"sp-system-context\",this._handleSystemContext),this.updateComplete=this.__createDeferredPromise()}static get observedAttributes(){return[\"color\",\"scale\",\"lang\",\"dir\",\"system\"]}set dir(e){if(e===this.dir)return;this.setAttribute(\"dir\",e),this._dir=e;const t=e===\"rtl\"?e:\"ltr\";this.trackedChildren.forEach(s=>{s.setAttribute(\"dir\",t)})}get dir(){return this._dir}attributeChangedCallback(e,t,s){t!==s&&(e===\"color\"?this.color=s:e===\"scale\"?this.scale=s:e===\"lang\"&&s?(this.lang=s,this._provideContext()):e===\"system\"?(this.system=s,this._provideSystemContext()):e===\"dir\"&&(this.dir=s))}requestUpdate(){this.shouldAdoptStyles()}get system(){const e=o.themeFragmentsByKind.get(\"system\"),{name:t}=e&&e.get(\"default\")||{};return this._system||t||\"\"}set system(e){if(e===this._system)return;const t=e&&p.includes(e)?e:this.system;t!==this._system&&(this._system=t,this.requestUpdate()),t?this.setAttribute(\"system\",t):this.removeAttribute(\"system\")}get color(){const e=o.themeFragmentsByKind.get(\"color\"),{name:t}=e&&e.get(\"default\")||{};return this._color||t||\"\"}set color(e){if(e===this._color)return;const t=e&&h.includes(e)?e:this.color;t!==this._color&&(this._color=t,this.requestUpdate()),t?this.setAttribute(\"color\",t):this.removeAttribute(\"color\")}get scale(){const e=o.themeFragmentsByKind.get(\"scale\"),{name:t}=e&&e.get(\"default\")||{};return this._scale||t||\"\"}set scale(e){if(e===this._scale)return;const t=e&&u.includes(e)?e:this.scale;t!==this._scale&&(this._scale=t,this.requestUpdate()),t?this.setAttribute(\"scale\",t):this.removeAttribute(\"scale\")}get styles(){const e=[...o.themeFragmentsByKind.keys()],t=(a,i,n)=>{const l=n&&n!==\"system\"&&this.system!==\"spectrum\"?a.get(`${i}-${this.system}`):a.get(i),m=i===\"spectrum\"||!n||this.hasAttribute(n);if(l&&m)return l.styles},s=e.reduce((a,i)=>{const n=o.themeFragmentsByKind.get(i);let l;if(i===\"app\"||i===\"core\")l=t(n,i);else{const{[i]:m}=this;l=t(n,m,i)}return l&&a.push(l),a},[]),r=o.themeFragmentsByKind;return this.system,this.color,this.scale,[...s]}static get template(){return this.templateElement||(this.templateElement=document.createElement(\"template\"),this.templateElement.innerHTML=\"<slot></slot>\"),this.templateElement}_handleSystemContext(e){e.stopPropagation();const t=e.composedPath()[0];if(this._systemContextConsumers.has(t))return;const s=()=>this._systemContextConsumers.delete(t);this._systemContextConsumers.set(t,[e.detail.callback,s]);const[r]=this._systemContextConsumers.get(t)||[];r&&r(this.system,s)}__createDeferredPromise(){return new Promise(e=>{this.__resolve=e})}connectedCallback(){if(this.shouldAdoptStyles(),o.instances.add(this),!this.hasAttribute(\"dir\")){let e=this.assignedSlot||this.parentNode;for(;e!==document.documentElement&&!(e instanceof o);)e=e.assignedSlot||e.parentNode||e.host;this.dir=e.dir===\"rtl\"?e.dir:\"ltr\"}}disconnectedCallback(){o.instances.delete(this)}startManagingContentDirection(e){this.trackedChildren.add(e)}stopManagingContentDirection(e){this.trackedChildren.delete(e)}async shouldAdoptStyles(){this._updateRequested||(this.updateComplete=this.__createDeferredPromise(),this._updateRequested=!0,this._updateRequested=await!1,this.adoptStyles(),this.__resolve(!0))}adoptStyles(){const e=this.styles,t=[];for(const s of e)t.push(s.styleSheet);this.shadowRoot.adoptedStyleSheets=t}static registerThemeFragment(e,t,s){const r=o.themeFragmentsByKind.get(t)||new Map;r.size===0&&(o.themeFragmentsByKind.set(t,r),r.set(\"default\",{name:e,styles:s}),o.defaultFragments.add(e)),r.set(e,{name:e,styles:s}),o.instances.forEach(a=>a.shouldAdoptStyles())}_provideContext(){this._contextConsumers.forEach(([e,t])=>e(this.lang,t))}_provideSystemContext(){this._systemContextConsumers.forEach(([e,t])=>e(this.system,t))}_handleContextPresence(e){e.stopPropagation();const t=e.composedPath()[0];if(this._contextConsumers.has(t))return;this._contextConsumers.set(t,[e.detail.callback,()=>this._contextConsumers.delete(t)]);const[s,r]=this._contextConsumers.get(t)||[];s&&r&&s(this.lang||document.documentElement.lang||navigator.language,r)}};o.themeFragmentsByKind=new Map,o.defaultFragments=new Set([\"spectrum\"]),o.instances=new Set,o.VERSION=d;export let Theme=o;function k(g,c,e,t,s){}\n//# sourceMappingURL=Theme.js.map\n"],"names":["SYSTEM_VARIANT_VALUES","SCALE_VALUES","COLOR_VALUES","o","HTMLElement","constructor","super","this","_dir","_system","_color","_scale","_systemContextConsumers","Map","trackedChildren","Set","_updateRequested","_contextConsumers","attachShadow","mode","e","document","importNode","template","content","shadowRoot","appendChild","shouldAdoptStyles","addEventListener","_handleContextPresence","_handleSystemContext","updateComplete","__createDeferredPromise","observedAttributes","dir","setAttribute","t","forEach","s","attributeChangedCallback","color","scale","lang","_provideContext","system","_provideSystemContext","requestUpdate","themeFragmentsByKind","get","name","p","includes","removeAttribute","h","u","styles","keys","getStyle","a","i","n","l","m","hasAttribute","reduce","push","templateElement","createElement","innerHTML","stopPropagation","composedPath","has","unsubscribe","delete","set","detail","callback","r","Promise","__resolve","connectedCallback","instances","add","assignedSlot","parentNode","documentElement","host","disconnectedCallback","startManagingContentDirection","stopManagingContentDirection","adoptStyles","styleSheet","adoptedStyleSheets","registerThemeFragment","size","defaultFragments","navigator","language","VERSION","d","Theme"],"mappings":"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"}