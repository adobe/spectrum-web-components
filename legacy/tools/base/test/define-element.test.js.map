{
  "version": 3,
  "sources": ["define-element.test.ts"],
  "sourcesContent": ["/*\nCopyright 2020 Adobe. All rights reserved.\nThis file is licensed to you under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License. You may obtain a copy\nof the License at http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software distributed under\nthe License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\nOF ANY KIND, either express or implied. See the License for the specific language\ngoverning permissions and limitations under the License.\n*/\n\nimport { expect } from '@open-wc/testing';\nimport { stub } from 'sinon';\nimport {\n    isFirefox,\n    isWebKit,\n} from '@spectrum-web-components/shared/src/platform.js';\n\n// for window.__swc\nimport '@spectrum-web-components/base';\n\n// mostly alphabetical,\n// but reordered to put dependents above dependencies,\n// in order to avoid transitive dependency conflicts (eg card -> asset)\nconst elements = {\n    'sp-accordion-item': () =>\n        import('@spectrum-web-components/accordion/sp-accordion-item.js'),\n    'sp-accordion': () =>\n        import('@spectrum-web-components/accordion/sp-accordion.js'),\n    'sp-action-bar': () =>\n        import('@spectrum-web-components/action-bar/sp-action-bar.js'),\n    'sp-action-menu': () =>\n        import('@spectrum-web-components/action-menu/sp-action-menu.js'),\n    'sp-action-button': () =>\n        import('@spectrum-web-components/action-button/sp-action-button.js'),\n    'sp-action-group': () =>\n        import('@spectrum-web-components/action-group/sp-action-group.js'),\n    'sp-card': () => import('@spectrum-web-components/card/sp-card.js'),\n    'sp-asset': () => import('@spectrum-web-components/asset/sp-asset.js'),\n    'sp-avatar': () => import('@spectrum-web-components/avatar/sp-avatar.js'),\n    'sp-badge': () => import('@spectrum-web-components/badge/sp-badge.js'),\n    'sp-dialog-wrapper': () =>\n        import('@spectrum-web-components/dialog/sp-dialog-wrapper.js'),\n    'sp-dialog': () => import('@spectrum-web-components/dialog/sp-dialog.js'),\n    'sp-dialog-base': () =>\n        import('@spectrum-web-components/dialog/sp-dialog-base.js'),\n    'sp-button': () => import('@spectrum-web-components/button/sp-button.js'),\n    'sp-button-group': () =>\n        import('@spectrum-web-components/button-group/sp-button-group.js'),\n    'sp-checkbox': () =>\n        import('@spectrum-web-components/checkbox/sp-checkbox.js'),\n    'sp-coachmark': () =>\n        import('@spectrum-web-components/coachmark/sp-coachmark.js'),\n    'sp-color-area': () =>\n        import('@spectrum-web-components/color-area/sp-color-area.js'),\n    'sp-color-handle': () =>\n        import('@spectrum-web-components/color-handle/sp-color-handle.js'),\n    'sp-color-loupe': () =>\n        import('@spectrum-web-components/color-loupe/sp-color-loupe.js'),\n    'sp-color-slider': () =>\n        import('@spectrum-web-components/color-slider/sp-color-slider.js'),\n    'sp-color-wheel': () =>\n        import('@spectrum-web-components/color-wheel/sp-color-wheel.js'),\n    'sp-divider': () =>\n        import('@spectrum-web-components/divider/sp-divider.js'),\n    'sp-dropzone': () =>\n        import('@spectrum-web-components/dropzone/sp-dropzone.js'),\n    'sp-meter': () => import('@spectrum-web-components/meter/sp-meter.js'),\n    'sp-field-group': () =>\n        import('@spectrum-web-components/field-group/sp-field-group.js'),\n    'sp-field-label': () =>\n        import('@spectrum-web-components/field-label/sp-field-label.js'),\n    'sp-help-text': () =>\n        import('@spectrum-web-components/help-text/sp-help-text.js'),\n    'sp-icon': () => import('@spectrum-web-components/icon/sp-icon.js'),\n    'sp-icons-medium': () =>\n        import('@spectrum-web-components/icons/sp-icons-medium.js'),\n    'sp-icons-large': () =>\n        import('@spectrum-web-components/icons/sp-icons-large.js'),\n    'sp-illustrated-message': () =>\n        import(\n            '@spectrum-web-components/illustrated-message/sp-illustrated-message.js'\n        ),\n    'sp-link': () => import('@spectrum-web-components/link/sp-link.js'),\n    'sp-menu-group': () =>\n        import('@spectrum-web-components/menu/sp-menu-group.js'),\n    'sp-menu-item': () =>\n        import('@spectrum-web-components/menu/sp-menu-item.js'),\n    'sp-menu': () => import('@spectrum-web-components/menu/sp-menu.js'),\n    'overlay-trigger': () =>\n        import('@spectrum-web-components/overlay/overlay-trigger.js'),\n    'sp-overlay': () =>\n        import('@spectrum-web-components/overlay/sp-overlay.js'),\n    'sp-picker': () => import('@spectrum-web-components/picker/sp-picker.js'),\n    'sp-picker-button': () =>\n        import('@spectrum-web-components/picker-button/sp-picker-button.js'),\n    'sp-popover': () =>\n        import('@spectrum-web-components/popover/sp-popover.js'),\n    'sp-progress-bar': () =>\n        import('@spectrum-web-components/progress-bar/sp-progress-bar.js'),\n    'sp-progress-circle': () =>\n        import(\n            '@spectrum-web-components/progress-circle/sp-progress-circle.js'\n        ),\n    'sp-radio-group': () =>\n        import('@spectrum-web-components/radio/sp-radio-group.js'),\n    'sp-radio': () => import('@spectrum-web-components/radio/sp-radio.js'),\n    'sp-search': () => import('@spectrum-web-components/search/sp-search.js'),\n    'sp-sidenav-item': () =>\n        import('@spectrum-web-components/sidenav/sp-sidenav-item.js'),\n    'sp-sidenav': () =>\n        import('@spectrum-web-components/sidenav/sp-sidenav.js'),\n    'sp-slider': () => import('@spectrum-web-components/slider/sp-slider.js'),\n    'sp-slider-handle': () =>\n        import('@spectrum-web-components/slider/sp-slider-handle.js'),\n    'sp-split-view': () =>\n        import('@spectrum-web-components/split-view/sp-split-view.js'),\n    'sp-status-light': () =>\n        import('@spectrum-web-components/status-light/sp-status-light.js'),\n    'sp-swatch-group': () =>\n        import('@spectrum-web-components/swatch/sp-swatch-group.js'),\n    'sp-swatch': () => import('@spectrum-web-components/swatch/sp-swatch.js'),\n    'sp-switch': () => import('@spectrum-web-components/switch/sp-switch.js'),\n    'sp-table': () => import('@spectrum-web-components/table/sp-table.js'),\n    'sp-table-body': () =>\n        import('@spectrum-web-components/table/sp-table-body.js'),\n    'sp-table-cell': () =>\n        import('@spectrum-web-components/table/sp-table-cell.js'),\n    'sp-table-head': () =>\n        import('@spectrum-web-components/table/sp-table-head.js'),\n    'sp-table-checkbox-cell': () =>\n        import('@spectrum-web-components/table/sp-table-checkbox-cell.js'),\n    'sp-table-head-cell': () =>\n        import('@spectrum-web-components/table/sp-table-head-cell.js'),\n    'sp-table-row': () =>\n        import('@spectrum-web-components/table/sp-table-row.js'),\n    'sp-tab': () => import('@spectrum-web-components/tabs/sp-tab.js'),\n    'sp-tabs': () => import('@spectrum-web-components/tabs/sp-tabs.js'),\n    'sp-tabs-overflow': () =>\n        import('@spectrum-web-components/tabs/sp-tabs-overflow.js'),\n    'sp-tag': () => import('@spectrum-web-components/tags/sp-tag.js'),\n    'sp-tags': () => import('@spectrum-web-components/tags/sp-tags.js'),\n    'sp-textfield': () =>\n        import('@spectrum-web-components/textfield/sp-textfield.js'),\n    'sp-thumbnail': () =>\n        import('@spectrum-web-components/thumbnail/sp-thumbnail.js'),\n    'sp-toast': () => import('@spectrum-web-components/toast/sp-toast.js'),\n    'sp-tooltip': () =>\n        import('@spectrum-web-components/tooltip/sp-tooltip.js'),\n    'sp-top-nav': () =>\n        import('@spectrum-web-components/top-nav/sp-top-nav.js'),\n    'sp-tray': () => import('@spectrum-web-components/tray/sp-tray.js'),\n    'sp-underlay': () =>\n        import('@spectrum-web-components/underlay/sp-underlay.js'),\n};\n\nconst browser: 'webkit' | 'firefox' | 'chromium' = isWebKit()\n    ? 'webkit'\n    : isFirefox()\n      ? 'firefox'\n      : 'chromium';\n\ndescribe('define-element', function () {\n    // registrations are globally-unique, so retries will always fail\n    this.retries(0);\n\n    beforeEach(function () {\n        window.__swc.verbose = true;\n        this.warn = stub(console, 'warn');\n    });\n\n    afterEach(function () {\n        this.warn.resetHistory();\n        window.__swc.verbose = false;\n        this.warn.restore();\n    });\n\n    Object.entries(elements).forEach(([name, register]) =>\n        it(`'${name}' warns on redefinition`, async function () {\n            // classes already-defined via transitive dependencies can't be tested this way\n            if (customElements.get(name)) {\n                this.skip();\n            }\n            const error = {\n                webkit: 'Cannot define multiple custom elements with the same tag name',\n                firefox: `'${name}' has already been defined`,\n                chromium: `\"${name}\" has already been used with this registry`,\n            }[browser];\n            let caughtError: Error | undefined;\n\n            customElements.define(name, class extends HTMLElement {});\n            try {\n                await register();\n            } catch (error) {\n                caughtError = error as Error;\n            }\n\n            expect(caughtError?.message ?? '').to.include(error);\n            expect(this.warn.called, 'should call console.warn()').to.be.true;\n            const spyCall = this.warn.getCall(0);\n            expect(\n                (spyCall.args.at(0) as string).includes('redefine'),\n                `message should warn about redefining an element, instead got \"${spyCall.args.at(\n                    0\n                )}\"`\n            ).to.be.true;\n        })\n    );\n});\n"],
  "mappings": "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",
  "names": ["error"]
}
