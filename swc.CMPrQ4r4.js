import{F as e}from"./swc.B6rPczpY.js";class a extends e{constructor(){super(...arguments),this.managed=!0,this.manageIndexesAnimationFrame=0}set focused(e){e!==this.focused&&(super.focused=e,this.manageTabindexes())}get focused(){return super.focused}clearElementCache(e=0){cancelAnimationFrame(this.manageIndexesAnimationFrame),super.clearElementCache(e),this.managed&&(this.manageIndexesAnimationFrame=requestAnimationFrame((()=>this.manageTabindexes())))}manageTabindexes(){this.focused&&!this.hostDelegatesFocus?this.updateTabindexes((()=>({tabIndex:-1}))):this.updateTabindexes((e=>({removeTabIndex:e.contains(this.focusInElement)&&e!==this.focusInElement,tabIndex:e===this.focusInElement?0:-1})))}updateTabindexes(e){this.elements.forEach((a=>{const{tabIndex:s,removeTabIndex:t}=e(a);if(!t)return void(this.focused?a!==this.elements[this.currentIndex]&&(a.tabIndex=s):a.tabIndex=s);const n=a;n.requestUpdate&&n.requestUpdate()}))}manage(){this.managed=!0,this.manageTabindexes(),super.manage()}unmanage(){this.managed=!1,this.updateTabindexes((()=>({tabIndex:0}))),super.unmanage()}hostUpdated(){super.hostUpdated(),this.host.hasUpdated||this.manageTabindexes()}}export{a as R};
//# sourceMappingURL=swc.jaIamTVh.js.map
