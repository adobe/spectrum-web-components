import{I as t,s as e}from"./swc.DuBizCt2.js";import{r as s}from"./swc.mUX8iMJZ.js";import{f as i}from"./swc.BW7sjKKb.js";import{E as r,B as n}from"./swc.DWYvVEd1.js";import{A as o}from"./swc.CBzxcGnH.js";import{e as l}from"./swc.CjPt0-_4.js";class a extends i{render(t){return r}update(t,[e]){this.template=e,this.target!==t.element&&(this.target=t.element,this.renderBefore=this.target.children[0]),this.listenerHost=this.target,this.init()}handleSlottableRequest(t){if(t.target!==t.currentTarget)return;const e=t.data===s;n(e?void 0:this.template(),this.target,{renderBefore:this.renderBefore})}init(){var t;null==(t=this.listeners)||t.abort(),this.listeners=new AbortController;const{signal:e}=this.listeners;this.listenerHost.addEventListener("slottable-request",t=>this.handleSlottableRequest(t),{signal:e})}disconnected(){var t;null==(t=this.listeners)||t.abort()}reconnected(){this.init()}}const h=l(class extends a{constructor(){super(...arguments),this.defaultOptions={triggerInteraction:"click",overlayOptions:{type:"auto",offset:0}},this.options={...this.defaultOptions.overlayOptions}}render(t,e){return r}update(s,[i,r]){var n,o,l,a;this.options={...this.defaultOptions.overlayOptions,...null==r?void 0:r.overlayOptions},this.insertionOptions=null==r?void 0:r.insertionOptions,this.template=i,this.host=null==(n=s.options)?void 0:n.host;let h=!1;const p=(null==r?void 0:r.triggerInteraction)||this.defaultOptions.triggerInteraction,d=t[null==(o=this.strategy)?void 0:o.type]!==p;this.target!==s.element&&(this.target=s.element,h=!0),(h||d)&&(null==(l=this.strategy)||l.abort(),this.strategy=new e[p](this.target,{isPersistent:!0,handleOverlayReady:t=>{this.listenerHost=this.overlay=t,this.init()}})),this.strategy.open=null!=(a=null==r?void 0:r.open)&&a}handleSlottableRequest(t){var e,i;if(t.target!==t.currentTarget)return;const r=t.data===s,l={};if(this.host&&(l.host=this.host),n(r?void 0:this.template(),this.overlay,l),r)this.overlay.remove();else{o.applyOptions(this.overlay,{...this.options,trigger:this.target});const t="function"==typeof(null==(e=this.insertionOptions)?void 0:e.el)?this.insertionOptions.el():(null==(i=this.insertionOptions)?void 0:i.el)||this.target,{where:s="afterend"}=this.insertionOptions||{};t.insertAdjacentElement(s,this.overlay)}}});export{h as t};
//# sourceMappingURL=swc.DvbaZ2oC.js.map
