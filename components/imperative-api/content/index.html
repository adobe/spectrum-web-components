<html><head><link rel="preload" href="https://use.typekit.net/af/eaf09c/000000000000000000017703/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3" as="font" type="font/woff2" crossorigin/><link rel="preload" href="https://use.typekit.net/af/cb695f/000000000000000000017701/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3" as="font" type="font/woff2" crossorigin/></head><body><sp-tab-panel class="section" value="examples"> <div class="headerContainer"><h2 id="description" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeM">Description&nbsp;<sp-link class="header-anchor" href="#description" aria-label="§">#</sp-link></h2><sp-divider size="l"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM">While an <code class="spectrum-Code">&lt;sp-overlay&gt;</code> element is the recommended entry point to the Spectrum Web Components Overlay API, you can also interact with this set of features via an imperative API, <code class="spectrum-Code">Overlay.open</code>.</p> <div class="headerContainer"><h3 id="usage" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeS">Usage&nbsp;<sp-link class="header-anchor" href="#usage" aria-label="§">#</sp-link></h3><sp-divider size="m"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM"><sp-link href="https://www.npmjs.com/package/@spectrum-web-components/overlay"><img src="https://img.shields.io/npm/v/@spectrum-web-components/overlay?style=for-the-badge" alt="See it on NPM!"></sp-link> <sp-link href="https://bundlephobia.com/result?p=@spectrum-web-components/overlay"><img src="https://img.shields.io/bundlephobia/minzip/@spectrum-web-components/overlay?style=for-the-badge" alt="How big is this package in your project?"></sp-link></p> <code-example preprocessed="preprocessed"><pre slot="code">yarn add @spectrum-web-components/overlay
</pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Import the <code class="spectrum-Code">Overlay</code> class to leverage its capabilities within your application or custom element:</p> <code-example class="language-js" preprocessed="preprocessed"><pre class="language-js" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> Overlay <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/overlay'</span><span class="token punctuation">;</span></pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Primarily, this class gives you access to the <code class="spectrum-Code">open</code> method that will allow you to open an overlay:</p> <code-example class="language-js" preprocessed="preprocessed"><pre class="language-js" slot="code">Overlay<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><br>    <span class="token punctuation">(</span>overlayElement<span class="token operator">:</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// the element that will be projected into the overlay, "content",</span><br>    <span class="token punctuation">(</span>options<span class="token operator">?</span><span class="token operator">:</span> OverlayOptions<span class="token punctuation">)</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM"><code class="spectrum-Code">Overlay.open()</code> is an asynchronous method that returns an <code class="spectrum-Code">&lt;sp-overlay&gt;</code> element that wraps the <code class="spectrum-Code">HTMLElement</code> provided as the <code class="spectrum-Code">overlayElement</code>. While this process will set the <code class="spectrum-Code">&lt;sp-overlay&gt;</code> element to <code class="spectrum-Code">open</code>, consumers of this API will need to choose where to append this element to the DOM in order for the content to be made available in the browser.</p> <code-example class="language-js" preprocessed="preprocessed"><pre class="language-js" slot="code"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><br>        <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>        <span class="token literal-property property">placement</span><span class="token operator">:</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span><br>        <span class="token literal-property property">trigger</span><span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#trigger'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> overlay <span class="token operator">=</span> <span class="token keyword">await</span> Overlay<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>overlay<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Keep in mind that a changing DOM tree is likely to alter the relationship between existing content. Without proper care this can negatively effect the CSS that you have applied to existing content. DOM events and DOM selection methods can also perform differently than expected as the tree shape changes.</p> <div class="headerContainer"><h2 id="overlayoptions" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeM">OverlayOptions&nbsp;<sp-link class="header-anchor" href="#overlayoptions" aria-label="§">#</sp-link></h2><sp-divider size="l"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM">When leveraging <code class="spectrum-Code">Overlay.open()</code>, you can provide an optional second argument of <code class="spectrum-Code">OverlayOptions</code>, with the following type:</p> <code-example class="language-ts" preprocessed="preprocessed"><pre class="language-ts" slot="code"><span class="token keyword">type</span> <span class="token class-name">OverlayOptions</span> <span class="token operator">=</span> <span class="token punctuation">{</span><br>    delayed<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span><br>    notImmediatelyCloseable<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span><br>    offset<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    placement<span class="token operator">?</span><span class="token operator">:</span> Placement<span class="token punctuation">;</span><br>    receivesFocus<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">'auto'</span> <span class="token operator">|</span> <span class="token string">'true'</span> <span class="token operator">|</span> <span class="token string">'false'</span><span class="token punctuation">;</span><br>    trigger<span class="token operator">?</span><span class="token operator">:</span> HTMLElement <span class="token operator">|</span> VirtualTrigger<span class="token punctuation">;</span><br>    type<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">'modal'</span> <span class="token operator">|</span> <span class="token string">'page'</span> <span class="token operator">|</span> <span class="token string">'hint'</span> <span class="token operator">|</span> <span class="token string">'auto'</span> <span class="token operator">|</span> <span class="token string">'manual'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer"><h3 id="delayed" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeS">delayed&nbsp;<sp-link class="header-anchor" href="#delayed" aria-label="§">#</sp-link></h3><sp-divider size="m"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM">An Overlay that is <code class="spectrum-Code">delayed</code> will wait until a warm-up period of 1000ms has completed before opening. Once the warmup period has completed, all subsequent Overlays will open immediately. When no Overlays are opened, a cooldown period of 1000ms will begin. Once the cooldown has completed, the next Overlay to be opened will be subject to the warm-up period if provided that option.</p> <div class="headerContainer"><h3 id="notimmediatelycloseable" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeS">notImmediatelyCloseable&nbsp;<sp-link class="header-anchor" href="#notimmediatelycloseable" aria-label="§">#</sp-link></h3><sp-divider size="m"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM">When an Overlay is <code class="spectrum-Code">notImmediatelyCloseable</code> that means that the first interaction that would lead to the closure of the Overlay in question will be ignored. This is useful when working with non-"click" mouse interactions, like <code class="spectrum-Code">contextmenu</code>, where the trigger event (e.g. <code class="spectrum-Code">contextmenu</code>) occurs <em>before</em> an event that would close said overlay (e.g. <code class="spectrum-Code">pointerup</code>).</p> <div class="headerContainer"><h3 id="offset" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeS">offset&nbsp;<sp-link class="header-anchor" href="#offset" aria-label="§">#</sp-link></h3><sp-divider size="m"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">offset</code> property accepts either a single number, to define the offset of the Overlay along the main axis from the trigger, or 2-tuple, to define the offset along the main axis and the cross axis. This option has no effect when there is no trigger element.</p> <div class="headerContainer"><h3 id="placement" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeS">placement&nbsp;<sp-link class="header-anchor" href="#placement" aria-label="§">#</sp-link></h3><sp-divider size="m"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM">A <code class="spectrum-Code">placement</code> of <code class="spectrum-Code">"auto-start" | "auto-end" | "top" | "bottom" | "right" | "left" | "top-start" | "top-end" | "bottom-start" | "bottom-end" | "right-start" | "right-end" | "left-start" | "left-end"</code> will instruct the Overlay where to place itself in relationship to the trigger element.</p> <div class="headerContainer"><h3 id="receivesfocus" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeS">receivesFocus&nbsp;<sp-link class="header-anchor" href="#receivesfocus" aria-label="§">#</sp-link></h3><sp-divider size="m"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM">Some Overlays will always be passed focus (e.g. modal or page Overlays). When this is not true, the <code class="spectrum-Code">receivesFocus</code> option will inform the API whether to attempt to pass focus into the Overlay once it is open. <code class="spectrum-Code">'true'</code> will pass focus, <code class="spectrum-Code">'false'</code> will not (when possible), and <code class="spectrum-Code">"auto"</code> (the default), will make a decision based on the <code class="spectrum-Code">type</code> of the Overlay.</p> <div class="headerContainer"><h3 id="trigger" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeS">trigger&nbsp;<sp-link class="header-anchor" href="#trigger" aria-label="§">#</sp-link></h3><sp-divider size="m"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">trigger</code> option accepts an <code class="spectrum-Code">HTMLElement</code> or a <code class="spectrum-Code">VirtualTrigger</code> from which to position the Overlay.</p> <div class="headerContainer"><h3 id="type" tabindex="-1" class="spectrum-Heading spectrum-Heading--sizeS">type&nbsp;<sp-link class="header-anchor" href="#type" aria-label="§">#</sp-link></h3><sp-divider size="m"></sp-divider></div> <p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">type</code> of an Overlay outlines a number of things about the interaction model within which is works.</p> <ul class="spectrum-Body spectrum-Body--sizeM"> <li><code class="spectrum-Code">'modal'</code> Overlays are opened with the <code class="spectrum-Code">showModal()</code> method on a <code class="spectrum-Code">&lt;dialog&gt;</code> element, which causes the Overlay to accept focus and trap the tab stop within the content of said Overlay.</li> <li><code class="spectrum-Code">'page'</code> Overlays will act in a similar manner to a <code class="spectrum-Code">'modal'</code> Overlay, however they will not be allowed to close via the "light dismiss" algorithm (e.g. the Escape key).</li> <li><code class="spectrum-Code">'hint'</code> Overlays are much like tooltips so they are not just ephemeral, but they are delivered primarily as a visual helper and exist outside of the tab order. In this way, be sure <em>not</em> to place interactive content within this type of Overlay.</li> <li><code class="spectrum-Code">'auto'</code> Overlays provide a place for content that is ephemeral <em>and</em> interactive. These Overlays can accept focus but will close when losing that focus, or when interacting with other parts of the page.</li> <li><code class="spectrum-Code">'manual'</code> Overlays act much like <code class="spectrum-Code">"auto"</code> Overlays, but do not close when losing focus or interacting with other parts of the page. When a <code class="spectrum-Code">"manual"</code> Overlay is at the top of the "overlay stack", it will still respond to the Escape key and close.</li> </ul> </sp-tab-panel></body></html>