<html><head></head><body><sp-tab-panel class="section" value="overview"> <sp-alert-banner open="" variant="negative"> <div class="spectrum-InLineAlert-header"> <span>Experimental Feature</span> </div> <div class="spectrum-InLineAlert-content"> The <code class="spectrum-Code">slottable-request</code> event system is experimental. Its shape and presence in the library may change. For stable overlay content management, consider using <code class="spectrum-Code">sp-overlay</code> or <code class="spectrum-Code">Overlay.open()</code>. </div> </sp-alert-banner> <div class="headerContainer spectrum-Typography"><h2 id="overview" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeL">Overview</h2> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeL" href="#overview"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Overview</span></sp-link><sp-divider size="l"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">slottable-request</code> event provides a performance optimization mechanism for overlays with large content. Instead of keeping large amounts of content in the DOM at all times, an empty <code class="spectrum-Code">&lt;sp-overlay&gt;</code> can be used initially. The overlay will dispatch <code class="spectrum-Code">slottable-request</code> events just before opening and after closing, allowing content to be lazily rendered and removed as needed.</p> <div class="headerContainer spectrum-Typography"><h3 id="usage" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Usage</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#usage"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Usage</span></sp-link><sp-divider size="m"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM"><sp-link href="https://www.npmjs.com/package/@spectrum-web-components/overlay"><img src="https://img.shields.io/npm/v/@spectrum-web-components/overlay?style=for-the-badge" alt="See it on NPM!"></sp-link> <sp-link href="https://bundlephobia.com/result?p=@spectrum-web-components/overlay"><img src="https://img.shields.io/bundlephobia/minzip/@spectrum-web-components/overlay?style=for-the-badge" alt="How big is this package in your project?"></sp-link></p> <code-example class="language-zsh" preprocessed="preprocessed"><pre class="language-zsh" slot="code">yarn add @spectrum-web-components/overlay</pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Import the side effectful registration of <code class="spectrum-Code">&lt;sp-overlay&gt;</code> via:</p> <code-example class="language-ts" preprocessed="preprocessed"><pre class="language-ts" slot="code"><span class="token keyword">import</span> <span class="token string">'@spectrum-web-components/overlay/sp-overlay.js'</span><span class="token punctuation">;</span></pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">For type information and utilities, import:</p> <code-example class="language-ts" preprocessed="preprocessed"><pre class="language-ts" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span>
    removeSlottableRequest<span class="token punctuation">,</span>
    SlottableRequestEvent<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/overlay/src/slottable-request-event.js'</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer spectrum-Typography"><h3 id="example" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Example</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#example"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Example</span></sp-link><sp-divider size="m"></sp-divider></div><div class="headerContainer spectrum-Typography"><h4 id="basic-usage" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Basic usage</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#basic-usage"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Basic usage</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">Here's a basic example of using <code class="spectrum-Code">slottable-request</code> with vanilla JavaScript:</p> <code-example class="language-html-live" preprocessed="preprocessed"><pre class="language-html-live" slot="code"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sp-button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js-trigger<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Trigger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sp-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sp-overlay</span> <span class="token attr-name">trigger</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js-trigger@click<span class="token punctuation">"</span></span> <span class="token attr-name">placement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right-start<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sp-overlay</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span> removeSlottableRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/overlay/src/slottable-request-event.js'</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">initOverlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> overlay <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[trigger="js-trigger@click"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        overlay<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'slottable-request'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>data <span class="token operator">===</span> removeSlottableRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
                &lt;sp-popover&gt;
                    &lt;p&gt;This content will display within the Overlay and &lt;em&gt;only&lt;/em&gt; be on the DOM when the Overlay is open.&lt;/p&gt;
                &lt;/sp-popover&gt;
                </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    customElements<span class="token punctuation">.</span><span class="token function">whenDefined</span><span class="token punctuation">(</span><span class="token string">'code-example'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        customElements<span class="token punctuation">.</span><span class="token function">whenDefined</span><span class="token punctuation">(</span><span class="token string">'sp-overlay'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">initOverlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></pre></code-example> <div class="headerContainer spectrum-Typography"><h3 id="options" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Options</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#options"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Options</span></sp-link><sp-divider size="m"></sp-divider></div><div class="headerContainer spectrum-Typography"><h4 id="event-data" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Event data</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#event-data"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Event data</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">SlottableRequestEvent</code> includes the following properties:</p> <ul class="spectrum-Body spectrum-Body--sizeM"> <li><code class="spectrum-Code">data</code>: Contains either an empty object (when opening) or the <code class="spectrum-Code">removeSlottableRequest</code> symbol (when closing)</li> <li><code class="spectrum-Code">name</code>: The name of the request</li> <li><code class="spectrum-Code">slotName</code>: The slot name, optionally with a key appended</li> </ul> <div class="headerContainer spectrum-Typography"><h3 id="advanced-topics" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Advanced topics</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#advanced-topics"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Advanced topics</span></sp-link><sp-divider size="m"></sp-divider></div><div class="headerContainer spectrum-Typography"><h4 id="event-timing" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Event timing</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#event-timing"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Event timing</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">slottable-request</code> event is dispatched at specific times:</p> <ol class="spectrum-Body spectrum-Body--sizeM"> <li>Just before the overlay begins to open</li> <li>Just after the overlay finishes closing</li> </ol> <p class="spectrum-Body spectrum-Body--sizeM">This timing ensures proper coordination with overlay transitions and animations.</p> <div class="headerContainer spectrum-Typography"><h4 id="memory-management" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Memory management</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#memory-management"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Memory management</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">By starting with an empty overlay and removing content when closed, applications can better manage memory usage, especially when dealing with:</p> <ul class="spectrum-Body spectrum-Body--sizeM"> <li>Large DOM trees</li> <li>Complex components</li> <li>Multiple overlays</li> <li>Resource-intensive content</li> </ul> <div class="headerContainer spectrum-Typography"><h4 id="integration-with-lit" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Integration with Lit</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#integration-with-lit"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Integration with Lit</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">For Lit-based applications, a directive is available for handling slottable requests:</p> <code-example class="language-ts" preprocessed="preprocessed"><pre class="language-ts" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> slottableRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/overlay/src/slottable-request-directive.js'</span><span class="token punctuation">;</span>

<span class="token comment">// Use in a lit template</span>
html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;sp-overlay
        </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">slottableRequest</span><span class="token punctuation">(</span>
            <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
                &lt;sp-popover&gt;
                    &lt;p&gt;Lazily rendered content&lt;/p&gt;
                &lt;/sp-popover&gt;
            </span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
    &gt;&lt;/sp-overlay&gt;
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></code-example> </sp-tab-panel><script type="module" async src="../../../swc.D7jSafn7.js"></script></body></html>