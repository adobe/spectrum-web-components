<html><head></head><body><sp-tab-panel class="section" value="overview"> <div class="headerContainer spectrum-Typography"><h2 id="description" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeL">Description</h2> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeL" href="#description"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Description</span></sp-link><sp-divider size="l"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">When working with a large amount of content that lives whithin an overlay, a page may encounter performance issues for placing a large amount of content within <code class="spectrum-Code">&lt;sp-overlay&gt;</code> or <code class="spectrum-Code">&lt;overlay-trigger&gt;</code> elements. To avoid this, an empty <code class="spectrum-Code">&lt;sp-overlay&gt;</code> could be used instead. When triggered, the <code class="spectrum-Code">&lt;sp-overlay&gt;</code> element will dispatch <code class="spectrum-Code">slottable-request</code> just before it begins to open and just after it finished closing. When handling these events the contents of an overlay can be lazily rendered into the <code class="spectrum-Code">&lt;sp-overlay&gt;</code> element as it opens and then, as needed, removed from the DOM once the overlay has closed.</p> <div class="headerContainer spectrum-Typography"><h3 id="usage" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Usage</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#usage"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Usage</span></sp-link><sp-divider size="m"></sp-divider></div><code-example preprocessed="preprocessed"><pre slot="code">yarn add @spectrum-web-components/overlay
</pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Import the side effectful registration of <code class="spectrum-Code">&lt;sp-overlay&gt;</code> as follows:</p> <code-example preprocessed="preprocessed"><pre slot="code">import '@spectrum-web-components/overlay/sp-overlay.js';
</pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Import type information about the <code class="spectrum-Code">slottable-request</code> event and a symbol to signify that the request is for the DOM to be removed:</p> <code-example preprocessed="preprocessed"><pre slot="code">import {
    removeSlottableRequest,
    SlottableRequestEvent,
} from '@spectrum-web-components/overlay/src/slottable-request-event.js';
</pre></code-example> <div class="headerContainer spectrum-Typography"><h4 id="javascript-based-consumption" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Javascript based consumption</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#javascript-based-consumption"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Javascript based consumption</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">When leveraging the <code class="spectrum-Code">&lt;sp-overlay&gt;</code> in a javascript only context, you can leverage the <code class="spectrum-Code">slottable-request</code> event and its <code class="spectrum-Code">data</code> property to decide whether and what to render into the <code class="spectrum-Code">&lt;sp-overlay&gt;</code> event.</p> <code-example class="language-html-live" preprocessed="preprocessed"><pre class="language-html-live" slot="code"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sp-button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js-trigger<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Trigger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sp-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sp-overlay</span> <span class="token attr-name">trigger</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js-trigger@click<span class="token punctuation">"</span></span> <span class="token attr-name">placement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right-start<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sp-overlay</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span> removeSlottableRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/overlay/src/slottable-request-event.js'</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">initOverlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> overlay <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[trigger="js-trigger@click"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        overlay<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'slottable-request'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>data <span class="token operator">===</span> removeSlottableRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
                &lt;sp-popover&gt;
                    &lt;p&gt;This content will display within the Overlay and &lt;em&gt;only&lt;/em&gt; be on the DOM when the Overlay is open.&lt;/p&gt;
                &lt;/sp-popover&gt;
                </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    customElements<span class="token punctuation">.</span><span class="token function">whenDefined</span><span class="token punctuation">(</span><span class="token string">'code-example'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        customElements<span class="token punctuation">.</span><span class="token function">whenDefined</span><span class="token punctuation">(</span><span class="token string">'sp-overlay'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">initOverlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Starting with no DOM in the <code class="spectrum-Code">&lt;sp-overlay&gt;</code> element and returning to that when the Overlay element is no longer showing can support an application in releasing memory back to other activities.</p> </sp-tab-panel><script type="module" async src="../../../swc.DDIcPXPf.js"></script></body></html>