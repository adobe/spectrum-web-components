{
  "version": 3,
  "sources": ["Coachmark.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {\n    CSSResultArray,\n    html,\n    nothing,\n    TemplateResult,\n} from '@spectrum-web-components/base';\nimport { property } from '@spectrum-web-components/base/src/decorators.js';\nimport { when } from '@spectrum-web-components/base/src/directives.js';\nimport coachmarkStyles from './coachmark.css.js';\nimport chevronStyles from '@spectrum-web-components/icon/src/spectrum-icon-chevron.css.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-chevron200.js';\nimport { Popover } from '@spectrum-web-components/popover';\nimport { join } from '@spectrum-web-components/base/src/directives.js';\nimport { ifDefined } from '@spectrum-web-components/base/src/directives.js';\nimport type { Placement } from '@spectrum-web-components/overlay';\nimport { MediaType } from './CoachmarkItem.dev.js'\nimport type { CoachmarkItem } from './CoachmarkItem.dev.js'\nimport '@spectrum-web-components/asset/sp-asset.js';\nimport '@spectrum-web-components/button/sp-button.js';\nimport '@spectrum-web-components/button-group/sp-button-group.js';\n\n/**\n * @element sp-coachmark\n * @fires primary - Announces that the \"primary\" button has been clicked.\n * @fires secondary - Announces that the \"secondary\" button has been clicked.\n * @slot cover-photo - This is the cover photo for Default and Quiet Coachmark\n * @slot heading - HTML content to be listed as the heading\n * @slot description - A description of the card\n * @slot actions - an `sp-action-menu` element outlining actions to take on the represened object\n * @slot step-count - Override the default pagination delivery with your own internationalized content\n */\nexport class Coachmark extends Popover {\n    public static override get styles(): CSSResultArray {\n        return [...super.styles, coachmarkStyles, chevronStyles];\n    }\n    @property({ type: Object })\n    public item?: CoachmarkItem;\n\n    @property({ type: String })\n    public override placement: Placement = 'right';\n\n    @property({ type: Object, attribute: false })\n    private content?: {\n        title?: string;\n        description?: string;\n        imageAlt?: string;\n    };\n\n    @property({ attribute: 'shortcut-key' })\n    private shortcutKey?: string;\n\n    @property({ type: Array })\n    public modifierKeys?: string[] = [];\n\n    @property({ attribute: 'src' })\n    private source?: string;\n\n    @property({ attribute: 'media-type' })\n    private mediaType?: MediaType;\n\n    @property({ type: Boolean, attribute: 'has-asset', reflect: true })\n    public hasAsset = false;\n\n    @property()\n    public asset?: 'file' | 'folder';\n\n    @property({ type: Number, attribute: 'current-step' })\n    public currentStep?: number;\n\n    @property({ type: Number, attribute: 'total-steps' })\n    public totalSteps?: number;\n\n    @property({ type: String, attribute: 'primary-cta' })\n    primaryCTA?: string;\n\n    @property({ type: String, attribute: 'secondary-cta' })\n    secondaryCTA?: string;\n\n    // render video and images\n    private renderMedia(): TemplateResult {\n        const isImage = this.mediaType === MediaType.IMAGE;\n        if (!isImage) {\n            return html`\n                <slot name=\"asset\"></slot>\n            `;\n        }\n        return html`\n            <sp-asset id=\"cover-photo\">\n                <div class=\"image-wrapper\">\n                    <img\n                        class=\"image\"\n                        loading=\"lazy\"\n                        slot=\"cover-photo\"\n                        src=\"${ifDefined(this.source)}\"\n                        alt=\"${ifDefined(this?.content?.imageAlt)}\"\n                    />\n                </div>\n            </sp-asset>\n        `;\n    }\n    // method to render modifier\n    private renderModifier(\n        modifierKey: string,\n        type: 'modifier' | 'shortcut' = 'modifier'\n    ): TemplateResult {\n        return html`\n            <span type=\"${type}\" class=\"keyboard-shortcut\">${modifierKey}</span>\n        `;\n    }\n\n    private renderJoiner(): TemplateResult {\n        return html`\n            <span class=\"plus\">&plus;</span>\n        `;\n    }\n    // render heading title and modifier\n    private renderHeader(): TemplateResult {\n        const hasModifier = this.modifierKeys && this.modifierKeys?.length > 0;\n        const hasShortcut = Boolean(this.shortcutKey);\n        const hasTitle = Boolean(this.content?.title);\n        if (!hasTitle && !hasModifier && !hasShortcut) {\n            return html`\n                <div class=\"title\"><slot name=\"title\"></slot></div>\n            `;\n        }\n        return html`\n            ${hasTitle\n                ? html`\n                      <div class=\"title\">${this.content?.title}</div>\n                  `\n                : nothing}\n            ${hasModifier || hasShortcut\n                ? html`\n                      <kbd class=\"keys spectrum-Body spectrum-Body--sizeS\">\n                          ${hasModifier\n                              ? join(\n                                    this.modifierKeys?.map((k) =>\n                                        this.renderModifier(k)\n                                    ),\n                                    this.renderJoiner()\n                                )\n                              : nothing}\n                          ${hasShortcut && hasModifier\n                              ? this.renderJoiner()\n                              : nothing}\n                          ${hasShortcut\n                              ? this.renderModifier(\n                                    this.shortcutKey!,\n                                    'shortcut'\n                                )\n                              : nothing}\n                      </kbd>\n                  `\n                : nothing}\n        `;\n    }\n    // render description\n    private renderContent(): TemplateResult {\n        const hasDescription = Boolean(this.content?.description);\n        if (!hasDescription)\n            return html`\n                <slot name=\"content\"></slot>\n            `;\n        return html`\n            <div>${this.content?.description}</div>\n        `;\n    }\n\n    // event on primary button\n    private handlePrimaryCTA(): void {\n        this.dispatchEvent(\n            new Event('primary', {\n                bubbles: true,\n                composed: true,\n            })\n        );\n    }\n    // event on secondary button\n    private handleSecondaryCTA(): void {\n        this.dispatchEvent(\n            new Event('secondary', {\n                bubbles: true,\n                composed: true,\n            })\n        );\n    }\n\n    private renderSecondaryButton = (): TemplateResult => {\n        return html`\n            <sp-button\n                treatment=\"outline\"\n                variant=\"secondary\"\n                @click=${this.handleSecondaryCTA}\n            >\n                ${this.secondaryCTA}\n            </sp-button>\n        `;\n    };\n\n    private renderPrimaryButton = (): TemplateResult => {\n        return html`\n            <sp-button\n                size=\"s\"\n                treatment=\"outline\"\n                variant=\"primary\"\n                @click=${this.handlePrimaryCTA}\n            >\n                ${this.primaryCTA}\n            </sp-button>\n        `;\n    };\n\n    private renderSecondaryButtonMobile = (): TemplateResult => {\n        return html`\n            <sp-button\n                variant=\"secondary\"\n                treatment=\"outline\"\n                icon-only\n                aria-label=\"previous\"\n                @click=${this.handleSecondaryCTA}\n            >\n                <sp-icon-chevron200\n                    size=\"s\"\n                    class=\"spectrum-UIIcon-ChevronLeft75\"\n                    slot=\"icon\"\n                ></sp-icon-chevron200>\n            </sp-button>\n        `;\n    };\n\n    private renderPrimaryButtonMobile = (): TemplateResult => {\n        return html`\n            <sp-button\n                size=\"s\"\n                treatment=\"outline\"\n                variant=\"primary\"\n                @click=${this.handlePrimaryCTA}\n            >\n                ${this.primaryCTA}\n            </sp-button>\n        `;\n    };\n\n    protected renderButtons(): TemplateResult {\n        return html`\n            <sp-button-group class=\"spectrum-ButtonGroup buttongroup\">\n                ${when(this.secondaryCTA, this.renderSecondaryButton)}\n                ${when(this.primaryCTA, this.renderPrimaryButton)}\n            </sp-button-group>\n            <sp-button-group\n                class=\"spectrum-ButtonGroup buttongroup-mobile\"\n                size=\"s\"\n            >\n                ${when(this.secondaryCTA, this.renderSecondaryButtonMobile)}\n                ${when(this.primaryCTA, this.renderPrimaryButtonMobile)}\n            </sp-button-group>\n        `;\n    }\n\n    // render steps\n    protected renderSteps = (): TemplateResult => {\n        return html`\n            <div class=\"step\" role=\"status\">\n                <span aria-live=\"polite\">\n                    <slot name=\"step-count\">\n                        ${this.currentStep} of ${this.totalSteps}\n                    </slot>\n                </span>\n            </div>\n        `;\n    };\n    // render action menu\n    protected renderActionMenu = (): TemplateResult => {\n        return html`\n            <div class=\"action-menu\">\n                <slot name=\"actions\"></slot>\n            </div>\n        `;\n    };\n\n    protected override render(): TemplateResult {\n        return html`\n            ${this.renderMedia()}\n            <div class=\"header\">\n                <div class=\"flex-container\">${this.renderHeader()}</div>\n                <div class=\"static-item\">\n                    ${when(\n                        this.secondaryCTA && this.primaryCTA,\n                        this.renderActionMenu\n                    )}\n                </div>\n            </div>\n\n            <div class=\"content\">${this.renderContent()}</div>\n            <div class=\"footer\">\n                ${when(\n                    this.totalSteps && this.totalSteps > 1,\n                    this.renderSteps\n                )}\n                ${this.renderButtons()}\n            </div>\n        `;\n    }\n}\n"],
  "mappings": "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",
  "names": []
}
