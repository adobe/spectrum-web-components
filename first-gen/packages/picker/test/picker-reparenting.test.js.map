{
  "version": 3,
  "sources": ["picker-reparenting.test.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport '@spectrum-web-components/picker/sp-picker.js';\nimport '@spectrum-web-components/menu/sp-menu-item.js';\nimport '@spectrum-web-components/menu/sp-menu-divider.js';\nimport { Picker } from '@spectrum-web-components/picker';\nimport { MenuItem } from '@spectrum-web-components/menu';\nimport {\n    elementUpdated,\n    expect,\n    fixture,\n    html,\n    nextFrame,\n    oneEvent,\n} from '@open-wc/testing';\n\nimport '@spectrum-web-components/theme/sp-theme.js';\nimport '@spectrum-web-components/theme/src/themes.js';\nimport type { TestablePicker } from './index.js';\n\nconst fixtureElements = async (): Promise<{\n    picker: Picker;\n    before: HTMLDivElement;\n    after: HTMLDivElement;\n}> => {\n    const test = await fixture(html`\n        <sp-theme color=\"light\" scale=\"medium\">\n            <div id=\"before\">\n                <sp-picker\n                    id=\"picker\"\n                    label=\"I would like to use Spectrum Web Components\"\n                >\n                    <sp-menu-item value=\"0\">Immediately</sp-menu-item>\n                    <sp-menu-item value=\"1\">\n                        I'm already using them\n                    </sp-menu-item>\n                    <sp-menu-divider></sp-menu-divider>\n                    <sp-menu-item value=\"2\">Soon</sp-menu-item>\n                    <sp-menu-item value=\"3\">\n                        As part of my next project\n                    </sp-menu-item>\n                    <sp-menu-item value=\"4\">In the future</sp-menu-item>\n                </sp-picker>\n            </div>\n            <div id=\"after\"></div>\n        </sp-theme>\n    `);\n    const picker = test.querySelector('sp-picker') as Picker;\n    return {\n        picker,\n        before: test.querySelector('#before') as HTMLDivElement,\n        after: test.querySelector('#after') as HTMLDivElement,\n    };\n};\n\ndescribe('Reparented Picker', () => {\n    it('maintains a `dir` attribute', async () => {\n        const { picker, before, after } = await fixtureElements();\n\n        expect(picker.dir).to.equal('ltr');\n        expect(picker.getAttribute('dir')).to.equal('ltr');\n\n        after.append(picker);\n        await nextFrame();\n\n        expect(picker.dir).to.equal('ltr');\n        expect(picker.getAttribute('dir')).to.equal('ltr');\n\n        before.append(picker);\n        await nextFrame();\n\n        expect(picker.dir).to.equal('ltr');\n        expect(picker.getAttribute('dir')).to.equal('ltr');\n    });\n    it('maintains `value`', async () => {\n        const { picker, before, after } = await fixtureElements();\n\n        expect(picker.value).to.equal('');\n        picker.id = 'nikki';\n\n        const item2 = picker.querySelector('[value=\"2\"]') as MenuItem;\n        const item3 = picker.querySelector('[value=\"3\"]') as MenuItem;\n        let opened = oneEvent(picker, 'sp-opened');\n        picker.click();\n        await opened;\n        expect(picker.open).to.be.true;\n        expect(picker.value).to.equal('');\n        let closed = oneEvent(picker, 'sp-closed');\n        item2.click();\n        await closed;\n\n        expect(picker.value).to.equal('2');\n        expect(picker.open).to.be.false;\n\n        after.append(picker);\n        opened = oneEvent(picker, 'sp-opened');\n        picker.click();\n        await opened;\n        expect(picker.open).to.be.true;\n        expect(picker.value).to.equal('2');\n        closed = oneEvent(picker, 'sp-closed');\n        item3.click();\n        await closed;\n\n        expect(picker.value).to.equal('3');\n        expect(picker.open).to.be.false;\n\n        opened = oneEvent(picker, 'sp-opened');\n        picker.click();\n        await opened;\n        await nextFrame();\n        expect(picker.open).to.be.true;\n        expect(picker.value).to.equal('3');\n        opened = oneEvent(picker, 'sp-opened');\n        before.append(picker);\n        await elementUpdated(picker);\n\n        expect(\n            (picker as unknown as TestablePicker).optionsMenu.value\n        ).to.equal('3');\n        expect(picker.value).to.equal('3');\n    });\n});\n"],
  "mappings": ";AAYA,OAAO;AACP,OAAO;AACP,OAAO;AAGP;AAAA,EACI;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACG;AAEP,OAAO;AACP,OAAO;AAGP,MAAM,kBAAkB,YAIlB;AACF,QAAM,OAAO,MAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAqB1B;AACD,QAAM,SAAS,KAAK,cAAc,WAAW;AAC7C,SAAO;AAAA,IACH;AAAA,IACA,QAAQ,KAAK,cAAc,SAAS;AAAA,IACpC,OAAO,KAAK,cAAc,QAAQ;AAAA,EACtC;AACJ;AAEA,SAAS,qBAAqB,MAAM;AAChC,KAAG,+BAA+B,YAAY;AAC1C,UAAM,EAAE,QAAQ,QAAQ,MAAM,IAAI,MAAM,gBAAgB;AAExD,WAAO,OAAO,GAAG,EAAE,GAAG,MAAM,KAAK;AACjC,WAAO,OAAO,aAAa,KAAK,CAAC,EAAE,GAAG,MAAM,KAAK;AAEjD,UAAM,OAAO,MAAM;AACnB,UAAM,UAAU;AAEhB,WAAO,OAAO,GAAG,EAAE,GAAG,MAAM,KAAK;AACjC,WAAO,OAAO,aAAa,KAAK,CAAC,EAAE,GAAG,MAAM,KAAK;AAEjD,WAAO,OAAO,MAAM;AACpB,UAAM,UAAU;AAEhB,WAAO,OAAO,GAAG,EAAE,GAAG,MAAM,KAAK;AACjC,WAAO,OAAO,aAAa,KAAK,CAAC,EAAE,GAAG,MAAM,KAAK;AAAA,EACrD,CAAC;AACD,KAAG,qBAAqB,YAAY;AAChC,UAAM,EAAE,QAAQ,QAAQ,MAAM,IAAI,MAAM,gBAAgB;AAExD,WAAO,OAAO,KAAK,EAAE,GAAG,MAAM,EAAE;AAChC,WAAO,KAAK;AAEZ,UAAM,QAAQ,OAAO,cAAc,aAAa;AAChD,UAAM,QAAQ,OAAO,cAAc,aAAa;AAChD,QAAI,SAAS,SAAS,QAAQ,WAAW;AACzC,WAAO,MAAM;AACb,UAAM;AACN,WAAO,OAAO,IAAI,EAAE,GAAG,GAAG;AAC1B,WAAO,OAAO,KAAK,EAAE,GAAG,MAAM,EAAE;AAChC,QAAI,SAAS,SAAS,QAAQ,WAAW;AACzC,UAAM,MAAM;AACZ,UAAM;AAEN,WAAO,OAAO,KAAK,EAAE,GAAG,MAAM,GAAG;AACjC,WAAO,OAAO,IAAI,EAAE,GAAG,GAAG;AAE1B,UAAM,OAAO,MAAM;AACnB,aAAS,SAAS,QAAQ,WAAW;AACrC,WAAO,MAAM;AACb,UAAM;AACN,WAAO,OAAO,IAAI,EAAE,GAAG,GAAG;AAC1B,WAAO,OAAO,KAAK,EAAE,GAAG,MAAM,GAAG;AACjC,aAAS,SAAS,QAAQ,WAAW;AACrC,UAAM,MAAM;AACZ,UAAM;AAEN,WAAO,OAAO,KAAK,EAAE,GAAG,MAAM,GAAG;AACjC,WAAO,OAAO,IAAI,EAAE,GAAG,GAAG;AAE1B,aAAS,SAAS,QAAQ,WAAW;AACrC,WAAO,MAAM;AACb,UAAM;AACN,UAAM,UAAU;AAChB,WAAO,OAAO,IAAI,EAAE,GAAG,GAAG;AAC1B,WAAO,OAAO,KAAK,EAAE,GAAG,MAAM,GAAG;AACjC,aAAS,SAAS,QAAQ,WAAW;AACrC,WAAO,OAAO,MAAM;AACpB,UAAM,eAAe,MAAM;AAE3B;AAAA,MACK,OAAqC,YAAY;AAAA,IACtD,EAAE,GAAG,MAAM,GAAG;AACd,WAAO,OAAO,KAAK,EAAE,GAAG,MAAM,GAAG;AAAA,EACrC,CAAC;AACL,CAAC;",
  "names": []
}
