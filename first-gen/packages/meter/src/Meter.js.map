{
  "version": 3,
  "sources": ["Meter.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {\n    CSSResultArray,\n    html,\n    nothing,\n    PropertyValues,\n    SizedMixin,\n    SpectrumElement,\n    TemplateResult,\n} from '@spectrum-web-components/base';\nimport {\n    property,\n    query,\n} from '@spectrum-web-components/base/src/decorators.js';\n\nimport { getLabelFromSlot } from '@spectrum-web-components/shared/src/get-label-from-slot.js';\nimport { ObserveSlotText } from '@spectrum-web-components/shared/src/observe-slot-text.js';\nimport { LanguageResolutionController } from '@spectrum-web-components/reactive-controllers/src/LanguageResolution.js';\nimport '@spectrum-web-components/field-label/sp-field-label.js';\nimport styles from './meter.css.js';\n\nexport const meterVariants = ['positive', 'notice', 'negative'];\n\nexport type MeterVariants = (typeof meterVariants)[number];\n\n/**\n * @element sp-meter\n *\n * @slot - text labeling the Meter\n */\nexport class Meter extends SizedMixin(ObserveSlotText(SpectrumElement, ''), {\n    noDefaultSize: true,\n}) {\n    public static override get styles(): CSSResultArray {\n        return [styles];\n    }\n\n    @property({ type: Number })\n    public progress = 0;\n\n    /**\n     * The variant applies specific styling when set to `negative`, `positive`, `notice`\n     * `variant` attribute is removed when not matching one of the above.\n     *\n     * @param {String} variant\n     */\n    @property({ type: String })\n    public set variant(variant: MeterVariants) {\n        if (variant === this.variant) {\n            return;\n        }\n        const oldValue = this.variant;\n        if (meterVariants.includes(variant)) {\n            this.setAttribute('variant', variant);\n            this._variant = variant;\n        } else {\n            this.removeAttribute('variant');\n            this._variant = '';\n        }\n        this.requestUpdate('variant', oldValue);\n    }\n\n    public get variant(): MeterVariants {\n        return this._variant;\n    }\n\n    private _variant: MeterVariants = '';\n\n    @property({ type: String, reflect: true })\n    public label = '';\n\n    @query('slot')\n    private slotEl!: HTMLSlotElement;\n\n    private languageResolver = new LanguageResolutionController(this);\n\n    @property({ type: Boolean, reflect: true, attribute: 'side-label' })\n    // called sideLabel\n    public sideLabel = false;\n\n    @property({ reflect: true, attribute: 'static-color' })\n    public staticColor?: 'white';\n\n    protected override render(): TemplateResult {\n        return html`\n            <sp-field-label size=${this.size} class=\"label\">\n                ${this.slotHasContent ? nothing : this.label}\n                <slot @slotchange=${this.handleSlotchange}>${this.label}</slot>\n            </sp-field-label>\n            <sp-field-label size=${this.size} class=\"percentage\">\n                ${new Intl.NumberFormat(this.languageResolver.language, {\n                    style: 'percent',\n                    unitDisplay: 'narrow',\n                }).format(this.progress / 100)}\n            </sp-field-label>\n            <div class=\"track\">\n                <div\n                    class=\"fill\"\n                    style=\"transform: scaleX(calc(${this.progress} / 100));\"\n                ></div>\n            </div>\n        `;\n    }\n\n    protected handleSlotchange(): void {\n        const labelFromSlot = getLabelFromSlot(this.label, this.slotEl);\n        if (labelFromSlot) {\n            this.label = labelFromSlot;\n        }\n    }\n\n    protected override firstUpdated(changes: PropertyValues): void {\n        super.firstUpdated(changes);\n        this.setAttribute('role', 'meter progressbar');\n    }\n\n    protected override updated(changes: PropertyValues): void {\n        super.updated(changes);\n        if (changes.has('progress')) {\n            this.setAttribute('aria-valuenow', '' + this.progress);\n        }\n        if (changes.has('label')) {\n            if (this.label.length) {\n                this.setAttribute('aria-label', this.label);\n            } else {\n                this.removeAttribute('aria-label');\n            }\n        }\n    }\n}\n"],
  "mappings": "qNAYA,OAEI,QAAAA,EACA,WAAAC,EAEA,cAAAC,EACA,mBAAAC,MAEG,gCACP,OACI,YAAAC,EACA,SAAAC,MACG,kDAEP,OAAS,oBAAAC,MAAwB,6DACjC,OAAS,mBAAAC,MAAuB,2DAChC,OAAS,gCAAAC,MAAoC,0EAC7C,MAAO,yDACP,OAAOC,MAAY,iBAEZ,aAAM,cAAgB,CAAC,WAAY,SAAU,UAAU,EASvD,aAAM,cAAcP,EAAWK,EAAgBJ,EAAiB,EAAE,EAAG,CACxE,cAAe,EACnB,CAAC,CAAE,CAFI,kCAQH,KAAO,SAAW,EA4BlB,KAAQ,SAA0B,GAGlC,KAAO,MAAQ,GAKf,KAAQ,iBAAmB,IAAIK,EAA6B,IAAI,EAIhE,KAAO,UAAY,GA7CnB,WAA2B,QAAyB,CAChD,MAAO,CAACC,CAAM,CAClB,CAYA,IAAW,QAAQC,EAAwB,CACvC,GAAIA,IAAY,KAAK,QACjB,OAEJ,MAAMC,EAAW,KAAK,QAClB,cAAc,SAASD,CAAO,GAC9B,KAAK,aAAa,UAAWA,CAAO,EACpC,KAAK,SAAWA,IAEhB,KAAK,gBAAgB,SAAS,EAC9B,KAAK,SAAW,IAEpB,KAAK,cAAc,UAAWC,CAAQ,CAC1C,CAEA,IAAW,SAAyB,CAChC,OAAO,KAAK,QAChB,CAmBmB,QAAyB,CACxC,OAAOX;AAAA,mCACoB,KAAK,IAAI;AAAA,kBAC1B,KAAK,eAAiBC,EAAU,KAAK,KAAK;AAAA,oCACxB,KAAK,gBAAgB,IAAI,KAAK,KAAK;AAAA;AAAA,mCAEpC,KAAK,IAAI;AAAA,kBAC1B,IAAI,KAAK,aAAa,KAAK,iBAAiB,SAAU,CACpD,MAAO,UACP,YAAa,QACjB,CAAC,EAAE,OAAO,KAAK,SAAW,GAAG,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKM,KAAK,QAAQ;AAAA;AAAA;AAAA,SAI7D,CAEU,kBAAyB,CAC/B,MAAMW,EAAgBN,EAAiB,KAAK,MAAO,KAAK,MAAM,EAC1DM,IACA,KAAK,MAAQA,EAErB,CAEmB,aAAaC,EAA+B,CAC3D,MAAM,aAAaA,CAAO,EAC1B,KAAK,aAAa,OAAQ,mBAAmB,CACjD,CAEmB,QAAQA,EAA+B,CACtD,MAAM,QAAQA,CAAO,EACjBA,EAAQ,IAAI,UAAU,GACtB,KAAK,aAAa,gBAAiB,GAAK,KAAK,QAAQ,EAErDA,EAAQ,IAAI,OAAO,IACf,KAAK,MAAM,OACX,KAAK,aAAa,aAAc,KAAK,KAAK,EAE1C,KAAK,gBAAgB,YAAY,EAG7C,CACJ,CA3FWC,EAAA,CADNV,EAAS,CAAE,KAAM,MAAO,CAAC,GAPjB,MAQF,wBASIU,EAAA,CADVV,EAAS,CAAE,KAAM,MAAO,CAAC,GAhBjB,MAiBE,uBAsBJU,EAAA,CADNV,EAAS,CAAE,KAAM,OAAQ,QAAS,EAAK,CAAC,GAtChC,MAuCF,qBAGCU,EAAA,CADPT,EAAM,MAAM,GAzCJ,MA0CD,sBAMDS,EAAA,CAFNV,EAAS,CAAE,KAAM,QAAS,QAAS,GAAM,UAAW,YAAa,CAAC,GA9C1D,MAgDF,yBAGAU,EAAA,CADNV,EAAS,CAAE,QAAS,GAAM,UAAW,cAAe,CAAC,GAlD7C,MAmDF",
  "names": ["html", "nothing", "SizedMixin", "SpectrumElement", "property", "query", "getLabelFromSlot", "ObserveSlotText", "LanguageResolutionController", "styles", "variant", "oldValue", "labelFromSlot", "changes", "__decorateClass"]
}
