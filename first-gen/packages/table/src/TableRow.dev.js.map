{
  "version": 3,
  "sources": ["TableRow.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport {\n    CSSResultArray,\n    html,\n    PropertyValues,\n    SpectrumElement,\n    TemplateResult,\n} from '@spectrum-web-components/base';\nimport {\n    property,\n    queryAssignedElements,\n} from '@spectrum-web-components/base/src/decorators.js';\nimport styles from './table-row.css.js';\nimport { TableCheckboxCell } from './TableCheckboxCell.dev.js'\n\n/**\n * @element sp-table-row\n *\n * @fires sorted - Announces that `selected` of the table row has changed\n */\nexport class TableRow extends SpectrumElement {\n    public static override get styles(): CSSResultArray {\n        return [styles];\n    }\n\n    @queryAssignedElements({\n        selector: 'sp-table-checkbox-cell',\n        flatten: true,\n    })\n    checkboxCells!: TableCheckboxCell[];\n\n    @property({ reflect: true })\n    public override role = 'row';\n\n    @property({ type: Boolean })\n    public selectable = false;\n\n    @property({ type: Boolean, reflect: true })\n    public selected = false;\n\n    @property({ type: String })\n    public value = '';\n\n    protected async handleChange(\n        event: Event & { target: TableCheckboxCell }\n    ): Promise<void> {\n        if (!event.target.checkbox) {\n            return;\n        }\n\n        this.selected = event.target.checkbox.checked;\n\n        await 0;\n\n        if (event.defaultPrevented) {\n            this.selected = !this.selected;\n        }\n    }\n\n    protected handleSlotchange({\n        target,\n    }: Event & { target: HTMLSlotElement }): void {\n        const assignedElements = target.assignedElements();\n        this.selectable = !!assignedElements.find(\n            (el) => el.localName === 'sp-table-checkbox-cell'\n        );\n    }\n\n    protected async manageSelected(): Promise<void> {\n        await this.updateComplete;\n        // Manage differently when parent table does not have `role=\"grid\"`.\n        // See: https://github.com/adobe/spectrum-web-components/issues/3397 and https://github.com/adobe/spectrum-web-components/issues/3395\n        if (this.selectable) {\n            this.setAttribute(\n                'aria-selected',\n                this.selected ? 'true' : 'false'\n            );\n        } else {\n            this.removeAttribute('aria-selected');\n        }\n        const [checkboxCell] = this.checkboxCells;\n        if (!checkboxCell) return;\n        checkboxCell.checked = this.selected;\n    }\n\n    protected handleClick(event: Event): void {\n        if (\n            event\n                .composedPath()\n                .find(\n                    (node) =>\n                        (node as HTMLElement).localName ===\n                        'sp-table-checkbox-cell'\n                )\n        ) {\n            return;\n        }\n        const [checkboxCell] = this.checkboxCells;\n        if (!checkboxCell) /* c8 ignore next */ return;\n        checkboxCell.click();\n    }\n\n    protected override render(): TemplateResult {\n        return html`\n            <slot\n                @change=${this.handleChange}\n                @slotchange=${this.handleSlotchange}\n            ></slot>\n        `;\n    }\n\n    protected override willUpdate(changed: PropertyValues<this>): void {\n        if (changed.has('selected')) {\n            this.manageSelected();\n        }\n        if (changed.has('selectable')) {\n            if (this.selectable) {\n                this.addEventListener('click', this.handleClick);\n            } else {\n                this.removeEventListener('click', this.handleClick);\n            }\n        }\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;AAWA;AAAA,EAEI;AAAA,EAEA;AAAA,OAEG;AACP;AAAA,EACI;AAAA,EACA;AAAA,OACG;AACP,OAAO,YAAY;AAQZ,aAAM,iBAAiB,gBAAgB;AAAA,EAAvC;AAAA;AAYH,SAAgB,OAAO;AAGvB,SAAO,aAAa;AAGpB,SAAO,WAAW;AAGlB,SAAO,QAAQ;AAAA;AAAA,EApBf,WAA2B,SAAyB;AAChD,WAAO,CAAC,MAAM;AAAA,EAClB;AAAA,EAoBA,MAAgB,aACZ,OACa;AACb,QAAI,CAAC,MAAM,OAAO,UAAU;AACxB;AAAA,IACJ;AAEA,SAAK,WAAW,MAAM,OAAO,SAAS;AAEtC,UAAM;AAEN,QAAI,MAAM,kBAAkB;AACxB,WAAK,WAAW,CAAC,KAAK;AAAA,IAC1B;AAAA,EACJ;AAAA,EAEU,iBAAiB;AAAA,IACvB;AAAA,EACJ,GAA8C;AAC1C,UAAM,mBAAmB,OAAO,iBAAiB;AACjD,SAAK,aAAa,CAAC,CAAC,iBAAiB;AAAA,MACjC,CAAC,OAAO,GAAG,cAAc;AAAA,IAC7B;AAAA,EACJ;AAAA,EAEA,MAAgB,iBAAgC;AAC5C,UAAM,KAAK;AAGX,QAAI,KAAK,YAAY;AACjB,WAAK;AAAA,QACD;AAAA,QACA,KAAK,WAAW,SAAS;AAAA,MAC7B;AAAA,IACJ,OAAO;AACH,WAAK,gBAAgB,eAAe;AAAA,IACxC;AACA,UAAM,CAAC,YAAY,IAAI,KAAK;AAC5B,QAAI,CAAC,aAAc;AACnB,iBAAa,UAAU,KAAK;AAAA,EAChC;AAAA,EAEU,YAAY,OAAoB;AACtC,QACI,MACK,aAAa,EACb;AAAA,MACG,CAAC,SACI,KAAqB,cACtB;AAAA,IACR,GACN;AACE;AAAA,IACJ;AACA,UAAM,CAAC,YAAY,IAAI,KAAK;AAC5B,QAAI,CAAC,aAAmC;AACxC,iBAAa,MAAM;AAAA,EACvB;AAAA,EAEmB,SAAyB;AACxC,WAAO;AAAA;AAAA,0BAEW,KAAK,YAAY;AAAA,8BACb,KAAK,gBAAgB;AAAA;AAAA;AAAA,EAG/C;AAAA,EAEmB,WAAW,SAAqC;AAC/D,QAAI,QAAQ,IAAI,UAAU,GAAG;AACzB,WAAK,eAAe;AAAA,IACxB;AACA,QAAI,QAAQ,IAAI,YAAY,GAAG;AAC3B,UAAI,KAAK,YAAY;AACjB,aAAK,iBAAiB,SAAS,KAAK,WAAW;AAAA,MACnD,OAAO;AACH,aAAK,oBAAoB,SAAS,KAAK,WAAW;AAAA,MACtD;AAAA,IACJ;AAAA,EACJ;AACJ;AA9FI;AAAA,EAJC,sBAAsB;AAAA,IACnB,UAAU;AAAA,IACV,SAAS;AAAA,EACb,CAAC;AAAA,GARQ,SAST;AAGgB;AAAA,EADf,SAAS,EAAE,SAAS,KAAK,CAAC;AAAA,GAXlB,SAYO;AAGT;AAAA,EADN,SAAS,EAAE,MAAM,QAAQ,CAAC;AAAA,GAdlB,SAeF;AAGA;AAAA,EADN,SAAS,EAAE,MAAM,SAAS,SAAS,KAAK,CAAC;AAAA,GAjBjC,SAkBF;AAGA;AAAA,EADN,SAAS,EAAE,MAAM,OAAO,CAAC;AAAA,GApBjB,SAqBF;",
  "names": []
}
