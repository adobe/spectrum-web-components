{
  "version": 3,
  "sources": ["TableHeadCell.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport {\n    CSSResultArray,\n    html,\n    nothing,\n    PropertyValues,\n    SpectrumElement,\n    TemplateResult,\n} from '@spectrum-web-components/base';\nimport { property } from '@spectrum-web-components/base/src/decorators.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-arrow100.js';\n\nimport styles from './table-head-cell.css.js';\nimport arrowStyles from '@spectrum-web-components/icon/src/spectrum-icon-arrow.css.js';\n\nexport type SortedEventDetails = {\n    sortDirection: 'asc' | 'desc';\n    sortKey: string;\n};\n\nconst ariaSortValue = (sortDirection?: 'asc' | 'desc'): string => {\n    const values = {\n        asc: 'ascending',\n        desc: 'descending',\n    };\n    return values[sortDirection as 'asc' | 'desc'] || 'none';\n};\n\n/**\n * @element sp-table-head-cell\n *\n * @fires sorted - Announces that the table head has been sorted and handles the sorted event\n */\nexport class TableHeadCell extends SpectrumElement {\n    public static override get styles(): CSSResultArray {\n        return [styles, arrowStyles];\n    }\n\n    @property({ type: Boolean, reflect: true })\n    public active = false;\n\n    @property({ reflect: true })\n    public override role = 'columnheader';\n\n    @property({ type: Boolean, reflect: true })\n    public sortable = false;\n\n    @property({ reflect: true, attribute: 'sort-direction' })\n    public sortDirection: 'asc' | 'desc' | undefined;\n\n    @property({ attribute: 'sort-key' })\n    public sortKey = '';\n\n    protected handleKeydown(event: KeyboardEvent): void {\n        const { code } = event;\n        switch (code) {\n            case 'Space':\n                event.preventDefault();\n                this.addEventListener('keyup', this.handleKeyup);\n                this.active = true;\n                break;\n            /* c8 ignore next 2 */\n            default:\n                break;\n        }\n    }\n\n    private handleKeypress(event: KeyboardEvent): void {\n        const { code } = event;\n        switch (code) {\n            case 'Enter':\n            case 'NumpadEnter':\n                this.click();\n                break;\n            /* c8 ignore next 2 */\n            default:\n                break;\n        }\n    }\n\n    protected handleKeyup(event: KeyboardEvent): void {\n        const { code } = event;\n        switch (code) {\n            case 'Space':\n                this.active = false;\n                this.removeEventListener('keyup', this.handleKeyup);\n                this.click();\n                break;\n            /* c8 ignore next 2 */\n            default:\n                break;\n        }\n    }\n\n    protected handleClick(): void {\n        if (!this.sortable) return;\n        if (this.sortDirection) {\n            this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n        } else {\n            this.sortDirection = 'asc';\n        }\n        this.dispatchEvent(\n            new CustomEvent<SortedEventDetails>('sorted', {\n                bubbles: true,\n                detail: {\n                    sortDirection: this.sortDirection,\n                    sortKey: this.sortKey,\n                },\n            })\n        );\n    }\n\n    protected override render(): TemplateResult {\n        const visiblySorted = this.sortable && !!this.sortDirection;\n        return html`\n            ${visiblySorted\n                ? html`\n                      <sp-icon-arrow100\n                          class=\"sortedIcon spectrum-UIIcon-ArrowDown100\"\n                      ></sp-icon-arrow100>\n                  `\n                : nothing}\n            <slot></slot>\n        `;\n    }\n\n    protected override firstUpdated(changes: PropertyValues): void {\n        super.firstUpdated(changes);\n        this.addEventListener('click', this.handleClick);\n        this.addEventListener('keydown', this.handleKeydown);\n        this.addEventListener('keypress', this.handleKeypress);\n    }\n\n    protected override update(changes: PropertyValues): void {\n        if (changes.has('sortDirection')) {\n            this.setAttribute('aria-sort', ariaSortValue(this.sortDirection));\n        }\n        if (changes.has('sortable')) {\n            this.tabIndex = this.sortable ? 0 : -1;\n        }\n        super.update(changes);\n    }\n}\n"],
  "mappings": "qNAWA,OAEI,QAAAA,EACA,WAAAC,EAEA,mBAAAC,MAEG,gCACP,OAAS,YAAAC,MAAgB,kDACzB,MAAO,8DAEP,OAAOC,MAAY,2BACnB,OAAOC,MAAiB,+DAOxB,MAAMC,EAAiBC,IACJ,CACX,IAAK,YACL,KAAM,YACV,GACcA,CAA+B,GAAK,OAQ/C,aAAM,sBAAsBL,CAAgB,CAA5C,kCAMH,KAAO,OAAS,GAGhB,KAAgB,KAAO,eAGvB,KAAO,SAAW,GAMlB,KAAO,QAAU,GAjBjB,WAA2B,QAAyB,CAChD,MAAO,CAACE,EAAQC,CAAW,CAC/B,CAiBU,cAAcG,EAA4B,CAChD,KAAM,CAAE,KAAAC,CAAK,EAAID,EACjB,OAAQC,EAAM,CACV,IAAK,QACDD,EAAM,eAAe,EACrB,KAAK,iBAAiB,QAAS,KAAK,WAAW,EAC/C,KAAK,OAAS,GACd,MAEJ,QACI,KACR,CACJ,CAEQ,eAAeA,EAA4B,CAC/C,KAAM,CAAE,KAAAC,CAAK,EAAID,EACjB,OAAQC,EAAM,CACV,IAAK,QACL,IAAK,cACD,KAAK,MAAM,EACX,MAEJ,QACI,KACR,CACJ,CAEU,YAAYD,EAA4B,CAC9C,KAAM,CAAE,KAAAC,CAAK,EAAID,EACjB,OAAQC,EAAM,CACV,IAAK,QACD,KAAK,OAAS,GACd,KAAK,oBAAoB,QAAS,KAAK,WAAW,EAClD,KAAK,MAAM,EACX,MAEJ,QACI,KACR,CACJ,CAEU,aAAoB,CACrB,KAAK,WACN,KAAK,cACL,KAAK,cAAgB,KAAK,gBAAkB,MAAQ,OAAS,MAE7D,KAAK,cAAgB,MAEzB,KAAK,cACD,IAAI,YAAgC,SAAU,CAC1C,QAAS,GACT,OAAQ,CACJ,cAAe,KAAK,cACpB,QAAS,KAAK,OAClB,CACJ,CAAC,CACL,EACJ,CAEmB,QAAyB,CACxC,MAAMC,EAAgB,KAAK,UAAY,CAAC,CAAC,KAAK,cAC9C,OAAOV;AAAA,cACDU,EACIV;AAAA;AAAA;AAAA;AAAA,oBAKAC,CAAO;AAAA;AAAA,SAGrB,CAEmB,aAAaU,EAA+B,CAC3D,MAAM,aAAaA,CAAO,EAC1B,KAAK,iBAAiB,QAAS,KAAK,WAAW,EAC/C,KAAK,iBAAiB,UAAW,KAAK,aAAa,EACnD,KAAK,iBAAiB,WAAY,KAAK,cAAc,CACzD,CAEmB,OAAOA,EAA+B,CACjDA,EAAQ,IAAI,eAAe,GAC3B,KAAK,aAAa,YAAaL,EAAc,KAAK,aAAa,CAAC,EAEhEK,EAAQ,IAAI,UAAU,IACtB,KAAK,SAAW,KAAK,SAAW,EAAI,IAExC,MAAM,OAAOA,CAAO,CACxB,CACJ,CAvGWC,EAAA,CADNT,EAAS,CAAE,KAAM,QAAS,QAAS,EAAK,CAAC,GALjC,cAMF,sBAGSS,EAAA,CADfT,EAAS,CAAE,QAAS,EAAK,CAAC,GARlB,cASO,oBAGTS,EAAA,CADNT,EAAS,CAAE,KAAM,QAAS,QAAS,EAAK,CAAC,GAXjC,cAYF,wBAGAS,EAAA,CADNT,EAAS,CAAE,QAAS,GAAM,UAAW,gBAAiB,CAAC,GAd/C,cAeF,6BAGAS,EAAA,CADNT,EAAS,CAAE,UAAW,UAAW,CAAC,GAjB1B,cAkBF",
  "names": ["html", "nothing", "SpectrumElement", "property", "styles", "arrowStyles", "ariaSortValue", "sortDirection", "event", "code", "visiblySorted", "changes", "__decorateClass"]
}
