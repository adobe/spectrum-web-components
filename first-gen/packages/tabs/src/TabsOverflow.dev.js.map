{
  "version": 3,
  "sources": ["TabsOverflow.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport {\n    CSSResultArray,\n    html,\n    PropertyValueMap,\n    PropertyValues,\n    SizedMixin,\n    SpectrumElement,\n    TemplateResult,\n} from '@spectrum-web-components/base';\nimport {\n    property,\n    query,\n    queryAssignedElements,\n    state,\n} from '@spectrum-web-components/base/src/decorators.js';\nimport { classMap } from '@spectrum-web-components/base/src/directives.js';\nimport { ResizeController } from '@lit-labs/observers/resize-controller.js';\nimport { Tabs } from './Tabs.dev.js'\nimport '@spectrum-web-components/action-button/sp-action-button.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-chevron100.js';\nimport chevronIconStyles from '@spectrum-web-components/icon/src/spectrum-icon-chevron.css.js';\nimport tabSizes from './tabs-sizes.css.js';\nimport styles from './tabs-overflow.css.js';\n\ninterface TabsOverflowState {\n    canScrollLeft: boolean;\n    canScrollRight: boolean;\n}\n/**\n * @element sp-tabs-overflow\n */\nexport class TabsOverflow extends SizedMixin(SpectrumElement) {\n    public static override get styles(): CSSResultArray {\n        return [styles, tabSizes, chevronIconStyles];\n    }\n\n    @property({ type: Boolean, reflect: true })\n    public compact = false;\n\n    @property({ type: String, attribute: 'label-previous' })\n    public labelPrevious = 'Scroll to previous tabs';\n\n    @property({ type: String, attribute: 'label-next' })\n    public labelNext = 'Scroll to next tabs';\n\n    @property({ reflect: true })\n    public override dir!: 'ltr' | 'rtl';\n\n    @state()\n    private overflowState: TabsOverflowState = {\n        canScrollLeft: false,\n        canScrollRight: false,\n    };\n\n    @queryAssignedElements({ selector: 'sp-tabs', flatten: true })\n    private tabs!: Tabs[];\n\n    @query('.tabs-overflow-container')\n    private overflowContainer!: HTMLDivElement;\n\n    resizeController!: ResizeController;\n\n    protected get scrollContent(): Tabs[] {\n        return this.tabs;\n    }\n\n    public constructor() {\n        super();\n        this.resizeController = new ResizeController(this, {\n            target: this,\n            callback: (): void => {\n                this._updateScrollState();\n            },\n        });\n    }\n\n    protected override firstUpdated(changes: PropertyValues): void {\n        super.firstUpdated(changes);\n        // enable scroll event\n        const [tabs] = this.scrollContent;\n        if (tabs) {\n            tabs.enableTabsScroll = true;\n        }\n        this.resizeController.observe(this.overflowContainer);\n    }\n\n    private async _handleSlotChange(): Promise<void> {\n        const [tabsElement] = this.scrollContent;\n        await tabsElement?.updateComplete;\n        this._updateScrollState();\n    }\n\n    private _updateScrollState(): void {\n        const { scrollContent, overflowState } = this;\n\n        if (scrollContent) {\n            const [tabsElement] = this.scrollContent;\n            const { canScrollLeft, canScrollRight } =\n                tabsElement?.scrollState || {\n                    canScrollLeft: false,\n                    canScrollRight: false,\n                };\n\n            this.overflowState = {\n                ...overflowState,\n                canScrollLeft,\n                canScrollRight,\n            };\n        }\n    }\n\n    private scrollFactor = 0.5;\n    private _handleScrollClick(event: MouseEvent): void {\n        const currentTarget = event.currentTarget as HTMLElement;\n        const [tabsElement] = this.scrollContent;\n\n        const dist = tabsElement.clientWidth * this.scrollFactor;\n        const left = currentTarget.classList.contains('left-scroll')\n            ? -dist\n            : dist;\n        tabsElement.scrollTabs(left, 'smooth');\n    }\n\n    protected override updated(\n        changedProperties: PropertyValueMap<this>\n    ): void {\n        super.updated(changedProperties);\n        if (changedProperties.has('dir')) {\n            this._updateScrollState();\n        }\n    }\n\n    protected override render(): TemplateResult {\n        const { canScrollRight, canScrollLeft } = this.overflowState;\n        const ariaLabelPrevious = this.labelPrevious;\n        const ariaLabelNext = this.labelNext;\n        return html`\n            <div\n                class=${classMap({\n                    'tabs-overflow-container': true,\n                    'left-shadow': canScrollLeft,\n                    'right-shadow': canScrollRight,\n                })}\n            >\n                <sp-action-button\n                    class=${classMap({\n                        'left-scroll': true,\n                        show: canScrollLeft,\n                    })}\n                    aria-label=${ariaLabelPrevious}\n                    quiet\n                    dir=\"rtl\"\n                    tabindex=\"-1\"\n                    @click=${this._handleScrollClick}\n                >\n                    <sp-icon-chevron100\n                        slot=\"icon\"\n                        class=\"spectrum-UIIcon-ChevronLeft300\"\n                    ></sp-icon-chevron100>\n                </sp-action-button>\n                <sp-action-button\n                    class=${classMap({\n                        'right-scroll': true,\n                        show: canScrollRight,\n                    })}\n                    aria-label=${ariaLabelNext}\n                    quiet\n                    tabindex=\"-1\"\n                    @click=${this._handleScrollClick}\n                >\n                    <sp-icon-chevron100\n                        slot=\"icon\"\n                        class=\"spectrum-UIIcon-ChevronRight300\"\n                    ></sp-icon-chevron100>\n                </sp-action-button>\n                <slot\n                    @slotchange=${this._handleSlotChange}\n                    @sp-tabs-scroll=${this._updateScrollState}\n                ></slot>\n            </div>\n        `;\n    }\n}\n"],
  "mappings": "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",
  "names": []
}
