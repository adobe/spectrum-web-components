{
  "version": 3,
  "sources": ["action-menu-responsive.test.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {\n    elementUpdated,\n    expect,\n    fixture,\n    html,\n    waitUntil,\n} from '@open-wc/testing';\nimport { ActionMenu } from '@spectrum-web-components/action-menu';\nimport '@spectrum-web-components/action-menu/sync/sp-action-menu.js';\nimport '@spectrum-web-components/menu/sp-menu-divider.js';\nimport '@spectrum-web-components/menu/sp-menu-item.js';\nimport { spreadProps } from '../../../test/lit-helpers.js';\nimport { sendMouseTo } from '../../../test/testing-helpers.js';\nimport { Popover } from '@spectrum-web-components/popover';\nimport { Tray } from '@spectrum-web-components/tray/src/Tray.js';\n\ndescribe('ActionMenu, responsive', () => {\n    let el: ActionMenu;\n    const actionMenuFixture = async (args?: {\n        forcePopover: boolean;\n    }): Promise<ActionMenu> => {\n        const test = await fixture<HTMLDivElement>(html`\n            <div>\n                <sp-action-menu id=\"action-menu\" ${spreadProps(args || {})}>\n                    <span slot=\"label\">Action Menu</span>\n                    <sp-menu-item>Deselect</sp-menu-item>\n                    <sp-menu-item>Select Inverse</sp-menu-item>\n                    <sp-menu-item>Feather...</sp-menu-item>\n                    <sp-menu-item>Select and Mask...</sp-menu-item>\n                    <sp-menu-divider></sp-menu-divider>\n                    <sp-menu-item>Save Selection</sp-menu-item>\n                    <sp-menu-item disabled>Make Work Path</sp-menu-item>\n                </sp-action-menu>\n            </div>\n        `);\n\n        return test.querySelector('sp-action-menu') as ActionMenu;\n    };\n\n    describe('container', () => {\n        beforeEach(async () => {\n            el = await actionMenuFixture();\n            await elementUpdated(el);\n        });\n\n        it('is a Tray in mobile', async () => {\n            /**\n             * This is a hack to set the `isMobile` property to true so that we can test the MobileController\n             */\n            el.isMobile.matches = true;\n            el.bindEvents();\n\n            sendMouseTo(el.button, 'click');\n\n            // in this test we only need to wait to see if a tray opens\n            let tray: Tray | null = null;\n            await waitUntil(\n                () => {\n                    tray = el.shadowRoot.querySelector('sp-tray') as Tray;\n                    return !!tray;\n                },\n                `tray appeared (el.open: ${el.open})`,\n                { timeout: 300 }\n            );\n\n            const popover = el.shadowRoot.querySelector('sp-popover');\n\n            expect(tray).to.not.be.null;\n            expect(popover).to.be.null;\n        });\n\n        it('is a Popover in desktop', async () => {\n\n            el.open = true;\n\n            // in this test we only need to wait to see if a popover opens\n            let popover: Popover | null = null;\n            await waitUntil(\n                () => {\n                    popover = el.shadowRoot.querySelector(\n                        'sp-popover'\n                    ) as Popover;\n                    return !!popover && popover.open;\n                },\n                `popover appeared (el.open: ${el.open})`,\n                { timeout: 300 }\n            );\n\n            const tray = el.shadowRoot.querySelector('sp-tray');\n\n            expect(popover).to.not.be.null;\n            expect(tray).to.be.null;\n        });\n    });\n\n    describe('forcePopover', () => {\n        beforeEach(async () => {\n            el = await actionMenuFixture({ forcePopover: true });\n            await elementUpdated(el);\n        });\n\n        it('is a Popover in mobile', async () => {\n            /**\n             * This is a hack to set the `isMobile` property to true so that we can test the MobileController\n             */\n            el.isMobile.matches = true;\n            el.bindEvents();\n\n            el.open = true;\n\n            // in this test we only need to wait to see if a popover opens\n            let popover: Popover | null = null;\n            await waitUntil(\n                () => {\n                    popover = el.shadowRoot.querySelector(\n                        'sp-popover'\n                    ) as Popover;\n                    return !!popover && popover.open;\n                },\n                `popover appeared (el.open: ${el.open})`,\n                { timeout: 300 }\n            );\n\n            const tray = el.shadowRoot.querySelector('sp-tray');\n\n            expect(tray).to.be.null;\n            expect(popover).to.not.be.null;\n        });\n\n        it('is a Popover in desktop', async () => {\n\n            el.open = true;\n\n            // in this test we only need to wait to see if a popover opens\n            let popover: Popover | null = null;\n            await waitUntil(\n                () => {\n                    popover = el.shadowRoot.querySelector(\n                        'sp-popover'\n                    ) as Popover;\n                    return !!popover && popover.open;\n                },\n                `popover appeared (el.open: ${el.open})`,\n                { timeout: 300 }\n            );\n\n            const tray = el.shadowRoot.querySelector('sp-tray');\n\n            expect(popover).to.not.be.null;\n            expect(tray).to.be.null;\n        });\n    });\n});\n"],
  "mappings": "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",
  "names": []
}
