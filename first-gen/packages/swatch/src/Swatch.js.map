{
  "version": 3,
  "sources": ["Swatch.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport {\n    CSSResultArray,\n    html,\n    PropertyValues,\n    SizedMixin,\n    TemplateResult,\n} from '@spectrum-web-components/base';\nimport { property } from '@spectrum-web-components/base/src/decorators.js';\nimport {\n    ifDefined,\n    when,\n} from '@spectrum-web-components/base/src/directives.js';\nimport { Focusable } from '@spectrum-web-components/shared/src/focusable.js';\nimport opacityCheckerboardStyles from '@spectrum-web-components/opacity-checkerboard/src/opacity-checkerboard.css.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-dash75.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-dash100.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-dash200.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-dash300.js';\n\nimport styles from './swatch.css.js';\nimport dashStyles from '@spectrum-web-components/icon/src/spectrum-icon-dash.css.js';\n\nexport type SwatchBorder = 'light' | 'none' | undefined;\nexport type SwatchRounding = 'none' | 'full' | undefined;\nexport type SwatchShape = 'rectangle' | undefined;\n\nconst dashIcon: Record<string, () => TemplateResult> = {\n    xs: () => html`\n        <sp-icon-dash75\n            slot=\"icon\"\n            class=\"mixedValueIcon spectrum-UIIcon-Dash75\"\n        ></sp-icon-dash75>\n    `,\n    s: () => html`\n        <sp-icon-dash100\n            slot=\"icon\"\n            class=\"mixedValueIcon spectrum-UIIcon-Dash100\"\n        ></sp-icon-dash100>\n    `,\n    m: () => html`\n        <sp-icon-dash200\n            slot=\"icon\"\n            class=\"mixedValueIcon spectrum-UIIcon-Dash200\"\n        ></sp-icon-dash200>\n    `,\n    l: () => html`\n        <sp-icon-dash300\n            slot=\"icon\"\n            class=\"mixedValueIcon spectrum-UIIcon-Dash300\"\n        ></sp-icon-dash300>\n    `,\n};\n\n/**\n * @element sp-swatch\n */\nexport class Swatch extends SizedMixin(Focusable, {\n    validSizes: ['xs', 's', 'm', 'l'],\n    noDefaultSize: true,\n}) {\n    public static override get styles(): CSSResultArray {\n        return [opacityCheckerboardStyles, styles, dashStyles];\n    }\n\n    @property({ reflect: true })\n    public border: SwatchBorder;\n\n    @property()\n    public color = '';\n\n    @property()\n    public label = '';\n\n    @property({ type: Boolean, reflect: true, attribute: 'mixed-value' })\n    public mixedValue = false;\n\n    @property({ type: Boolean, reflect: true })\n    public nothing = false;\n\n    @property({ reflect: true })\n    public override role = 'button';\n\n    @property({ reflect: true })\n    public rounding: SwatchRounding;\n\n    @property({ type: Boolean, reflect: true })\n    public selected = false;\n\n    @property({ reflect: true })\n    public shape: SwatchShape;\n\n    @property()\n    get value(): string {\n        return this._value || this.color || this.label;\n    }\n\n    set value(value: string) {\n        if (value === this._value) return;\n        const oldValue = this.value;\n        this._value = value;\n        this.requestUpdate('value', oldValue);\n    }\n\n    private _value?: string;\n\n    public override get focusElement(): HTMLElement {\n        return this;\n    }\n\n    public toggle(force?: boolean): void {\n        this.selected = force ?? !this.selected;\n    }\n\n    private handleClick(): void {\n        if (this.disabled || this.mixedValue) return;\n        this.toggle();\n        const applyDefault = this.dispatchEvent(\n            new Event('change', {\n                cancelable: true,\n                bubbles: true,\n            })\n        );\n        if (!applyDefault) {\n            this.toggle();\n        }\n    }\n\n    protected handleKeydown(event: KeyboardEvent): void {\n        const { code } = event;\n        switch (code) {\n            case 'Space':\n                event.preventDefault();\n                this.addEventListener('keyup', this.handleKeyup);\n                break;\n            /* c8 ignore next 2 */\n            default:\n                break;\n        }\n    }\n\n    private handleKeypress(event: KeyboardEvent): void {\n        const { code } = event;\n        switch (code) {\n            case 'Enter':\n            case 'NumpadEnter':\n                this.click();\n                break;\n            /* c8 ignore next 2 */\n            default:\n                break;\n        }\n    }\n\n    protected handleKeyup(event: KeyboardEvent): void {\n        const { code } = event;\n        switch (code) {\n            case 'Space':\n                this.removeEventListener('keyup', this.handleKeyup);\n                this.click();\n                break;\n            /* c8 ignore next 2 */\n            default:\n                break;\n        }\n    }\n\n    protected renderDisabled = (): TemplateResult => {\n        return html`\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                class=\"disabledIcon\"\n                viewBox=\"0 0 20 20\"\n            >\n                <path\n                    d=\"M9.889,1a8.889,8.889,0,1,0,8.889,8.889A8.889,8.889,0,0,0,9.889,1Zm6.667,8.889a6.635,6.635,0,0,1-1.233,3.863l-9.3-9.3A6.667,6.667,0,0,1,16.556,9.889Zm-13.333,0A6.636,6.636,0,0,1,4.455,6.026l9.3,9.3A6.667,6.667,0,0,1,3.222,9.889Z\"\n                    stroke=\"none\"\n                    fill=\"var(--spectrum-swatch-disabled-icon-color)\"\n                />\n                <path\n                    d=\"M 9.888889312744141 1 C 4.979689598083496 1 1 4.979689598083496 1 9.888889312744141 C 1 14.7980899810791 4.979689598083496 18.77777862548828 9.888889312744141 18.77777862548828 C 14.7980899810791 18.77777862548828 18.77777862548828 14.7980899810791 18.77777862548828 9.888889312744141 C 18.77777862548828 4.979689598083496 14.7980899810791 1 9.888889312744141 1 M 15.32277870178223 13.75166893005371 L 6.02610969543457 4.454998970031738 C 8.059318542480469 3.009572982788086 10.72937774658203 2.820217132568359 12.9462194442749 3.964249610900879 C 15.16304969787598 5.10828971862793 16.55568885803223 7.394259452819824 16.5555591583252 9.888889312744141 C 16.55776977539062 11.27357959747314 16.126708984375 12.62425994873047 15.32277870178223 13.75166893005371 M 9.888258934020996 16.55648612976074 C 8.843273162841797 16.55648612976074 7.794573783874512 16.31111145019531 6.831318855285645 15.8139591217041 C 4.614439010620117 14.66977882385254 3.221879959106445 12.38361930847168 3.222219467163086 9.888889312744141 C 3.220088958740234 8.504219055175781 3.651140213012695 7.153559684753418 4.454998970031738 6.02610969543457 L 13.75166893005371 15.32333946228027 C 12.60186290740967 16.14075088500977 11.24825286865234 16.55648612976074 9.888258934020996 16.55648612976074 M 9.888889312744141 0 C 15.34163951873779 0 19.77777862548828 4.436139106750488 19.77777862548828 9.888889312744141 C 19.77777862548828 15.34163951873779 15.34163951873779 19.77777862548828 9.888889312744141 19.77777862548828 C 4.436139106750488 19.77777862548828 0 15.34163951873779 0 9.888889312744141 C 0 4.436139106750488 4.436139106750488 0 9.888889312744141 0 Z M 15.10232830047607 12.11699867248535 C 15.40205764770508 11.41858959197998 15.55679702758789 10.66494941711426 15.5555591583252 9.89048957824707 C 15.5556697845459 7.759209632873535 14.38009929656982 5.829549789428711 12.48761940002441 4.852889060974121 C 11.68764972686768 4.440059661865234 10.78924942016602 4.22184944152832 9.889529228210449 4.22184944152832 C 9.114802360534668 4.22184944152832 8.360831260681152 4.377038955688477 7.661839485168457 4.676509857177734 L 15.10232830047607 12.11699867248535 Z M 12.11597919464111 15.10181331634521 L 4.675475120544434 7.660861015319824 C 4.375750541687012 8.359296798706055 4.221027374267578 9.112875938415527 4.222219467163086 9.887349128723145 C 4.221929550170898 12.01874923706055 5.397418975830078 13.94855880737305 7.289958953857422 14.92533874511719 C 8.08997917175293 15.3382396697998 8.988459587097168 15.55648994445801 9.888258934020996 15.55648994445801 C 10.66298007965088 15.55648994445801 11.41698551177979 15.40128421783447 12.11597919464111 15.10181331634521 Z\"\n                    stroke=\"none\"\n                    fill=\"var(--spectrum-swatch-disabled-icon-stroke-color)\"\n                />\n            </svg>\n        `;\n    };\n\n    protected renderMixedValue = (): TemplateResult => {\n        return dashIcon[this.size]();\n    };\n\n    protected override render(): TemplateResult {\n        return html`\n            <div\n                class=\"opacity-checkerboard fill\"\n                style=${ifDefined(\n                    this.color\n                        ? `--spectrum-picked-color: ${this.color}`\n                        : undefined\n                )}\n            >\n                <slot name=\"image\"></slot>\n                ${when(this.disabled, this.renderDisabled)}\n                ${when(this.mixedValue, this.renderMixedValue)}\n            </div>\n        `;\n    }\n\n    protected override willUpdate(changes: PropertyValues): void {\n        if (!this.getAttribute('role')) {\n            this.setAttribute('role', 'button');\n        }\n        if (changes.has('selected') || changes.has('role')) {\n            const selectedAttribute =\n                this.role === 'button' ? 'aria-pressed' : 'aria-checked';\n            const removedSelectedAttribute =\n                this.role === 'button' ? 'aria-checked' : 'aria-pressed';\n            if (changes.has('role')) {\n                this.removeAttribute(removedSelectedAttribute);\n            }\n            this.setAttribute(\n                selectedAttribute,\n                this.selected ? 'true' : 'false'\n            );\n        }\n\n        // aria-label should be in sync with changes in label and color.\n        if (\n            changes.has('label') ||\n            changes.has('color') ||\n            changes.has('mixedValue')\n        ) {\n            if (this.label !== this.color && this.label?.length) {\n                this.setAttribute('aria-label', this.label);\n            } else if (this.color) {\n                this.setAttribute('aria-label', this.color);\n            } else if (this.mixedValue) {\n                this.setAttribute('aria-label', 'Mixed');\n            } else {\n                this.removeAttribute('aria-label');\n            }\n        }\n    }\n\n    protected override firstUpdated(changes: PropertyValues): void {\n        super.firstUpdated(changes);\n        this.addEventListener('click', this.handleClick);\n        this.addEventListener('keydown', this.handleKeydown);\n        this.addEventListener('keypress', this.handleKeypress);\n        if (!this.hasAttribute('tabindex')) {\n            this.setAttribute('tabindex', '0');\n        }\n    }\n}\n"],
  "mappings": "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",
  "names": ["html", "SizedMixin", "property", "ifDefined", "when", "Focusable", "opacityCheckerboardStyles", "styles", "dashStyles", "dashIcon", "value", "oldValue", "force", "event", "code", "changes", "_a", "selectedAttribute", "removedSelectedAttribute", "__decorateClass"]
}
