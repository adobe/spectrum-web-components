{
  "version": 3,
  "sources": ["Swatch.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport {\n    CSSResultArray,\n    html,\n    PropertyValues,\n    SizedMixin,\n    TemplateResult,\n} from '@spectrum-web-components/base';\nimport { property } from '@spectrum-web-components/base/src/decorators.js';\nimport {\n    ifDefined,\n    when,\n} from '@spectrum-web-components/base/src/directives.js';\nimport { Focusable } from '@spectrum-web-components/shared/src/focusable.js';\nimport opacityCheckerboardStyles from '@spectrum-web-components/opacity-checkerboard/src/opacity-checkerboard.css.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-dash75.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-dash100.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-dash200.js';\nimport '@spectrum-web-components/icons-ui/icons/sp-icon-dash300.js';\n\nimport styles from './swatch.css.js';\nimport dashStyles from '@spectrum-web-components/icon/src/spectrum-icon-dash.css.js';\n\nexport type SwatchBorder = 'light' | 'none' | undefined;\nexport type SwatchRounding = 'none' | 'full' | undefined;\nexport type SwatchShape = 'rectangle' | undefined;\n\nconst dashIcon: Record<string, () => TemplateResult> = {\n    xs: () => html`\n        <sp-icon-dash75\n            slot=\"icon\"\n            class=\"mixedValueIcon spectrum-UIIcon-Dash75\"\n        ></sp-icon-dash75>\n    `,\n    s: () => html`\n        <sp-icon-dash100\n            slot=\"icon\"\n            class=\"mixedValueIcon spectrum-UIIcon-Dash100\"\n        ></sp-icon-dash100>\n    `,\n    m: () => html`\n        <sp-icon-dash200\n            slot=\"icon\"\n            class=\"mixedValueIcon spectrum-UIIcon-Dash200\"\n        ></sp-icon-dash200>\n    `,\n    l: () => html`\n        <sp-icon-dash300\n            slot=\"icon\"\n            class=\"mixedValueIcon spectrum-UIIcon-Dash300\"\n        ></sp-icon-dash300>\n    `,\n};\n\n/**\n * @element sp-swatch\n */\nexport class Swatch extends SizedMixin(Focusable, {\n    validSizes: ['xs', 's', 'm', 'l'],\n    noDefaultSize: true,\n}) {\n    public static override get styles(): CSSResultArray {\n        return [opacityCheckerboardStyles, styles, dashStyles];\n    }\n\n    @property({ reflect: true })\n    public border: SwatchBorder;\n\n    @property()\n    public color = '';\n\n    @property()\n    public label = '';\n\n    @property({ type: Boolean, reflect: true, attribute: 'mixed-value' })\n    public mixedValue = false;\n\n    @property({ type: Boolean, reflect: true })\n    public nothing = false;\n\n    @property({ reflect: true })\n    public override role = 'button';\n\n    @property({ reflect: true })\n    public rounding: SwatchRounding;\n\n    @property({ type: Boolean, reflect: true })\n    public selected = false;\n\n    @property({ reflect: true })\n    public shape: SwatchShape;\n\n    @property()\n    get value(): string {\n        return this._value || this.color || this.label;\n    }\n\n    set value(value: string) {\n        if (value === this._value) return;\n        const oldValue = this.value;\n        this._value = value;\n        this.requestUpdate('value', oldValue);\n    }\n\n    private _value?: string;\n\n    public override get focusElement(): HTMLElement {\n        return this;\n    }\n\n    public toggle(force?: boolean): void {\n        this.selected = force ?? !this.selected;\n    }\n\n    private handleClick(): void {\n        if (this.disabled || this.mixedValue) return;\n        this.toggle();\n        const applyDefault = this.dispatchEvent(\n            new Event('change', {\n                cancelable: true,\n                bubbles: true,\n            })\n        );\n        if (!applyDefault) {\n            this.toggle();\n        }\n    }\n\n    protected handleKeydown(event: KeyboardEvent): void {\n        const { code } = event;\n        switch (code) {\n            case 'Space':\n                event.preventDefault();\n                this.addEventListener('keyup', this.handleKeyup);\n                break;\n            /* c8 ignore next 2 */\n            default:\n                break;\n        }\n    }\n\n    private handleKeypress(event: KeyboardEvent): void {\n        const { code } = event;\n        switch (code) {\n            case 'Enter':\n            case 'NumpadEnter':\n                this.click();\n                break;\n            /* c8 ignore next 2 */\n            default:\n                break;\n        }\n    }\n\n    protected handleKeyup(event: KeyboardEvent): void {\n        const { code } = event;\n        switch (code) {\n            case 'Space':\n                this.removeEventListener('keyup', this.handleKeyup);\n                this.click();\n                break;\n            /* c8 ignore next 2 */\n            default:\n                break;\n        }\n    }\n\n    protected renderDisabled = (): TemplateResult => {\n        return html`\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                class=\"disabledIcon\"\n                viewBox=\"0 0 20 20\"\n            >\n                <path\n                    d=\"M9.889,1a8.889,8.889,0,1,0,8.889,8.889A8.889,8.889,0,0,0,9.889,1Zm6.667,8.889a6.635,6.635,0,0,1-1.233,3.863l-9.3-9.3A6.667,6.667,0,0,1,16.556,9.889Zm-13.333,0A6.636,6.636,0,0,1,4.455,6.026l9.3,9.3A6.667,6.667,0,0,1,3.222,9.889Z\"\n                    stroke=\"none\"\n                    fill=\"var(--spectrum-swatch-disabled-icon-color)\"\n                />\n                <path\n                    d=\"M 9.888889312744141 1 C 4.979689598083496 1 1 4.979689598083496 1 9.888889312744141 C 1 14.7980899810791 4.979689598083496 18.77777862548828 9.888889312744141 18.77777862548828 C 14.7980899810791 18.77777862548828 18.77777862548828 14.7980899810791 18.77777862548828 9.888889312744141 C 18.77777862548828 4.979689598083496 14.7980899810791 1 9.888889312744141 1 M 15.32277870178223 13.75166893005371 L 6.02610969543457 4.454998970031738 C 8.059318542480469 3.009572982788086 10.72937774658203 2.820217132568359 12.9462194442749 3.964249610900879 C 15.16304969787598 5.10828971862793 16.55568885803223 7.394259452819824 16.5555591583252 9.888889312744141 C 16.55776977539062 11.27357959747314 16.126708984375 12.62425994873047 15.32277870178223 13.75166893005371 M 9.888258934020996 16.55648612976074 C 8.843273162841797 16.55648612976074 7.794573783874512 16.31111145019531 6.831318855285645 15.8139591217041 C 4.614439010620117 14.66977882385254 3.221879959106445 12.38361930847168 3.222219467163086 9.888889312744141 C 3.220088958740234 8.504219055175781 3.651140213012695 7.153559684753418 4.454998970031738 6.02610969543457 L 13.75166893005371 15.32333946228027 C 12.60186290740967 16.14075088500977 11.24825286865234 16.55648612976074 9.888258934020996 16.55648612976074 M 9.888889312744141 0 C 15.34163951873779 0 19.77777862548828 4.436139106750488 19.77777862548828 9.888889312744141 C 19.77777862548828 15.34163951873779 15.34163951873779 19.77777862548828 9.888889312744141 19.77777862548828 C 4.436139106750488 19.77777862548828 0 15.34163951873779 0 9.888889312744141 C 0 4.436139106750488 4.436139106750488 0 9.888889312744141 0 Z M 15.10232830047607 12.11699867248535 C 15.40205764770508 11.41858959197998 15.55679702758789 10.66494941711426 15.5555591583252 9.89048957824707 C 15.5556697845459 7.759209632873535 14.38009929656982 5.829549789428711 12.48761940002441 4.852889060974121 C 11.68764972686768 4.440059661865234 10.78924942016602 4.22184944152832 9.889529228210449 4.22184944152832 C 9.114802360534668 4.22184944152832 8.360831260681152 4.377038955688477 7.661839485168457 4.676509857177734 L 15.10232830047607 12.11699867248535 Z M 12.11597919464111 15.10181331634521 L 4.675475120544434 7.660861015319824 C 4.375750541687012 8.359296798706055 4.221027374267578 9.112875938415527 4.222219467163086 9.887349128723145 C 4.221929550170898 12.01874923706055 5.397418975830078 13.94855880737305 7.289958953857422 14.92533874511719 C 8.08997917175293 15.3382396697998 8.988459587097168 15.55648994445801 9.888258934020996 15.55648994445801 C 10.66298007965088 15.55648994445801 11.41698551177979 15.40128421783447 12.11597919464111 15.10181331634521 Z\"\n                    stroke=\"none\"\n                    fill=\"var(--spectrum-swatch-disabled-icon-stroke-color)\"\n                />\n            </svg>\n        `;\n    };\n\n    protected renderMixedValue = (): TemplateResult => {\n        return dashIcon[this.size]();\n    };\n\n    protected override render(): TemplateResult {\n        return html`\n            <div\n                class=\"opacity-checkerboard fill\"\n                style=${ifDefined(\n                    this.color\n                        ? `--spectrum-picked-color: ${this.color}`\n                        : undefined\n                )}\n            >\n                <slot name=\"image\"></slot>\n                ${when(this.disabled, this.renderDisabled)}\n                ${when(this.mixedValue, this.renderMixedValue)}\n            </div>\n        `;\n    }\n\n    protected override willUpdate(changes: PropertyValues): void {\n        if (!this.getAttribute('role')) {\n            this.setAttribute('role', 'button');\n        }\n        if (changes.has('selected') || changes.has('role')) {\n            const selectedAttribute =\n                this.role === 'button' ? 'aria-pressed' : 'aria-checked';\n            const removedSelectedAttribute =\n                this.role === 'button' ? 'aria-checked' : 'aria-pressed';\n            if (changes.has('role')) {\n                this.removeAttribute(removedSelectedAttribute);\n            }\n            this.setAttribute(\n                selectedAttribute,\n                this.selected ? 'true' : 'false'\n            );\n        }\n\n        // aria-label should be in sync with changes in label and color.\n        if (\n            changes.has('label') ||\n            changes.has('color') ||\n            changes.has('mixedValue')\n        ) {\n            if (this.label !== this.color && this.label?.length) {\n                this.setAttribute('aria-label', this.label);\n            } else if (this.color) {\n                this.setAttribute('aria-label', this.color);\n            } else if (this.mixedValue) {\n                this.setAttribute('aria-label', 'Mixed');\n            } else {\n                this.removeAttribute('aria-label');\n            }\n        }\n    }\n\n    protected override firstUpdated(changes: PropertyValues): void {\n        super.firstUpdated(changes);\n        this.addEventListener('click', this.handleClick);\n        this.addEventListener('keydown', this.handleKeydown);\n        this.addEventListener('keypress', this.handleKeypress);\n        if (!this.hasAttribute('tabindex')) {\n            this.setAttribute('tabindex', '0');\n        }\n    }\n}\n"],
  "mappings": "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",
  "names": []
}
