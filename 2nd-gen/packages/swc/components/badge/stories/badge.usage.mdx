import { Canvas, Story, Meta } from '@storybook/addon-docs/blocks';
import { SpectrumStories } from '../../../.storybook/blocks/SpectrumStories';
import * as BadgeStories from './badge.stories';

<Meta tag="usage" />

## Usage

```bash
yarn add @spectrum-web-components/badge
```

Import the side effectful registration of `<sp-badge>` via:

```js
import '@spectrum-web-components/badge/sp-badge.js';
```

When looking to leverage the `Badge` base class as a type and/or for extension purposes, do so via:

```js
import { Badge } from '@spectrum-web-components/badge';
```

### Anatomy

A badge is made up of the following parts:

- Ttext can be displayed within the badge by using the default slot.
- An optional icon element (`<sp-icon-*>`) can be used to display an icon within the badge.

Badges can contain either a label, an icon, or both.

<Canvas of={BadgeStories.Playground} withToolbar={true} sourceState="shown" />

#### Icon

Badges can be rendered with or without an icon. Icons can be passed to the component using the `icon` slot and can be sourced from either the Spectrum icon library or a custom icon library as needed.

<Canvas of={BadgeStories.WithIcon} withToolbar={true} sourceState="shown" />

### Options

It is not recommended to make badges interactive. Consider using a different component if you need interactivity, such as buttons, tags, or links.

#### Sizes

<Canvas of={BadgeStories.Sizes} withToolbar={true} sourceState="shown" />

#### Variants

The `<sp-badge>` can be customized with either semantic or non-semantic variants. Badges are intended as display elements (like status lights), so avoid using badges for critical actions.

When badges have a semantic meaning, they use semantic colors. Use these variants for the following statuses:

- **Positive**: approved, complete, success, new, purchased, licensed
- **Informative**: active, in use, live, published
- **Negative**: error, alert, rejected, failed
- **Neutral**: archived, deleted, paused, draft, not started, ended

<Canvas
    of={BadgeStories.SemanticVariants}
    withToolbar={true}
    sourceState="shown"
/>

When badges are for color-coded categories, they use non-semantic colors. Non-semantic variants are ideally used for when there are 8 categories or less.

<Canvas
    of={BadgeStories.NonsemanticVariants}
    withToolbar={true}
    sourceState="shown"
/>

#### Outline

The `outline` style is only valid for semantic color variants.

<Canvas of={BadgeStories.Outline} withToolbar={true} sourceState="shown" />

#### Subtle

The `subtle` style is available for all variants. It is useful when you want to reduce the visual prominence of the badge while still mapping to the design system color palette.

<Canvas of={BadgeStories.Subtle} withToolbar={true} sourceState="shown" />

#### Fixed positioning

`<sp-badge>` can be displayed as if it is "fixed" to the edge of a UI. The `fixed` attribute can be leveraged to alter the border rounding based on the position you would like to achieve. Fixed positioning options include `block-start`, `block-end`, `inline-start`, and `inline-end`.

<Canvas of={BadgeStories.Fixed} withToolbar={true} sourceState="shown" />

### Behaviors

#### Text wrapping

Badges are not interactive by default.

When a badge's label is too long for the available horizontal space, it wraps to form another line. Text wrapping can be enforced when a `max-inline-size` is applied to the badge.

<Canvas of={BadgeStories.Textwrapping} withToolbar={true} sourceState="shown" />

### Accessibility

The badge component implements several accessibility feature:

- **Labeling**: Uses the `label` attribute value as `aria-label`

#### Best Practices

- Use semantic variants (`positive`, `negative`, `notice`, `info`, `neutral`) when the status has specific meaning
- Include a clear, descriptive text label that explains the status
- Ensure sufficient color contrast between the status light and its background

<Canvas of={BadgeStories.A11y} withToolbar={true} sourceState="shown" />
