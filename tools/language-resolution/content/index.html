<html><head></head><body><sp-tab-panel class="section" value="overview"> <div class="headerContainer spectrum-Typography"><h2 id="overview" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeL">Overview</h2> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeL" href="#overview"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Overview</span></sp-link><sp-divider size="l"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">LanguageResolutionController</code> is a Lit reactive controller that automatically resolves and tracks the language/locale context of a web component. It detects language changes up the DOM tree, including across shadow DOM boundaries, making it essential for internationalized applications.</p> <div class="headerContainer spectrum-Typography"><h3 id="usage" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Usage</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#usage"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Usage</span></sp-link><sp-divider size="m"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM"><sp-link href="https://www.npmjs.com/package/@spectrum-web-components/reactive-controllers"><img src="https://img.shields.io/npm/v/@spectrum-web-components/reactive-controllers?style=for-the-badge" alt="See it on NPM!"></sp-link> <sp-link href="https://bundlephobia.com/result?p=@spectrum-web-components/reactive-controllers"><img src="https://img.shields.io/bundlephobia/minzip/@spectrum-web-components/reactive-controllers?style=for-the-badge" alt="How big is this package in your project?"></sp-link></p> <code-example class="language-bash" preprocessed="preprocessed"><pre class="language-bash" slot="code"><span class="token function">yarn</span> <span class="token function">add</span> @spectrum-web-components/reactive-controllers</pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Import the <code class="spectrum-Code">LanguageResolutionController</code> via:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> LanguageResolutionController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/LanguageResolution.js'</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer spectrum-Typography"><h3 id="key-features" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Key features</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#key-features"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Key features</span></sp-link><sp-divider size="m"></sp-divider></div><ul class="spectrum-Body spectrum-Body--sizeM"> <li><strong>Automatic language detection</strong>: Resolves <code class="spectrum-Code">lang</code> attribute from DOM tree</li> <li><strong>Locale change tracking</strong>: Triggers updates when language context changes</li> <li><strong>Shadow DOM support</strong>: Works across shadow boundaries via event bubbling</li> <li><strong>Fallback handling</strong>: Uses <code class="spectrum-Code">navigator.language</code> or defaults to <code class="spectrum-Code">en-US</code></li> <li><strong>Validation</strong>: Ensures locale is supported by <code class="spectrum-Code">Intl</code> APIs</li> </ul> <div class="headerContainer spectrum-Typography"><h3 id="when-to-use" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">When to use</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#when-to-use"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled When to use</span></sp-link><sp-divider size="m"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">Use <code class="spectrum-Code">LanguageResolutionController</code> when your component needs to:</p> <ul class="spectrum-Body spectrum-Body--sizeM"> <li>Format numbers based on locale</li> <li>Format dates and times according to locale conventions</li> <li>Display localized content or messages</li> <li>Determine text direction (RTL/LTR)</li> <li>Apply locale-specific formatting rules</li> </ul> <div class="headerContainer spectrum-Typography"><h3 id="examples" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Examples</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#examples"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Examples</span></sp-link><sp-divider size="m"></sp-divider></div><div class="headerContainer spectrum-Typography"><h4 id="automatic-language-detection" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Automatic language detection</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#automatic-language-detection"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Automatic language detection</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The controller automatically detects the language from the DOM tree without requiring manual configuration:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> LitElement<span class="token punctuation">,</span> html <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> LanguageResolutionController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/LanguageResolution.js'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">LocalizedGreeting</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> languageResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LanguageResolutionController</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> greetings <span class="token operator">=</span> <span class="token punctuation">{</span>
            en<span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span>
            es<span class="token operator">:</span> <span class="token string">'Hola'</span><span class="token punctuation">,</span>
            fr<span class="token operator">:</span> <span class="token string">'Bonjour'</span><span class="token punctuation">,</span>
            de<span class="token operator">:</span> <span class="token string">'Guten Tag'</span><span class="token punctuation">,</span>
            ja<span class="token operator">:</span> <span class="token string">'こんにちは'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token comment">// Get base language code (e.g., 'en' from 'en-US')</span>
        <span class="token keyword">const</span> lang <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>languageResolver<span class="token punctuation">.</span>language<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> greeting <span class="token operator">=</span> greetings<span class="token punctuation">[</span>lang<span class="token punctuation">]</span> <span class="token operator">||</span> greetings<span class="token punctuation">[</span><span class="token string">'en'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;p&gt;
                </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>greeting<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, World!
                &lt;span class="locale"&gt;(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>languageResolver<span class="token punctuation">.</span>language<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)&lt;/span&gt;
            &lt;/p&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'localized-greeting'</span><span class="token punctuation">,</span> LocalizedGreeting<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Usage:</p> <code-example class="language-html-no-demo" preprocessed="preprocessed"><pre class="language-html-no-demo" slot="code"><span class="token comment">&lt;!-- Spanish context --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>es-ES<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localized-greeting</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localized-greeting</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Renders: Hola, World! (es-ES) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></code-example> <div class="headerContainer spectrum-Typography"><h4 id="locale-change-tracking" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Locale change tracking</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#locale-change-tracking"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Locale change tracking</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The controller automatically re-renders components when the language context changes:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> LitElement<span class="token punctuation">,</span> html <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
    LanguageResolutionController<span class="token punctuation">,</span>
    languageResolverUpdatedSymbol<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/LanguageResolution.js'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">LanguageTracker</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> languageResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LanguageResolutionController</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> updateCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token function">updated</span><span class="token punctuation">(</span>changedProperties<span class="token operator">:</span> Map<span class="token operator">&lt;</span>PropertyKey<span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">updated</span><span class="token punctuation">(</span>changedProperties<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Detect when language has changed</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>changedProperties<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>languageResolverUpdatedSymbol<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>updateCount<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Language changed to:'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>languageResolver<span class="token punctuation">.</span>language<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;div&gt;
                &lt;p&gt;
                    Current language:
                    &lt;strong&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>languageResolver<span class="token punctuation">.</span>language<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/strong&gt;
                &lt;/p&gt;
                &lt;p&gt;Change count: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>updateCount<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
            &lt;/div&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'language-tracker'</span><span class="token punctuation">,</span> LanguageTracker<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer spectrum-Typography"><h4 id="supports-shadow-dom" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Supports shadow DOM</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#supports-shadow-dom"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Supports shadow DOM</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The controller works across shadow DOM boundaries using event bubbling:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> LitElement<span class="token punctuation">,</span> html <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> LanguageResolutionController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/LanguageResolution.js'</span><span class="token punctuation">;</span>

<span class="token comment">// Component with shadow DOM</span>
<span class="token keyword">class</span> <span class="token class-name">LocalizedCard</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> languageResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LanguageResolutionController</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> lang <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>languageResolver<span class="token punctuation">.</span>language<span class="token punctuation">;</span>

        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;div class="card"&gt;
                &lt;h3&gt;Language: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h3&gt;
                &lt;slot&gt;&lt;/slot&gt;
            &lt;/div&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'localized-card'</span><span class="token punctuation">,</span> LocalizedCard<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer spectrum-Typography"><h4 id="bubbles-up-dom-tree" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Bubbles up DOM tree</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#bubbles-up-dom-tree"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Bubbles up DOM tree</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The controller searches up through parent elements to find language context:</p> <code-example class="language-html-no-demo" preprocessed="preprocessed"><pre class="language-html-no-demo" slot="code"><span class="token comment">&lt;!-- Finds lang attribute several levels up --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ja-JP<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aside</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localized-greeting</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localized-greeting</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- Output: こんにちは, World! (ja-JP) --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aside</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Uses closest ancestor with lang attribute --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en-US<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>es-ES<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localized-greeting</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localized-greeting</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Output: Hola, World! (es-ES) - uses closest lang --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Bubbles through custom elements --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sp-theme</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>de-DE<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sp-card</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sp-dialog</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localized-greeting</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localized-greeting</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- Output: Guten Tag, World! (de-DE) --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sp-dialog</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sp-card</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sp-theme</span><span class="token punctuation">&gt;</span></span></pre></code-example> <div class="headerContainer spectrum-Typography"><h3 id="how-it-works" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">How it works</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#how-it-works"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled How it works</span></sp-link><sp-divider size="m"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The controller follows this resolution process:</p> <ol class="spectrum-Body spectrum-Body--sizeM"> <li><strong>On connection</strong>: Dispatches <code class="spectrum-Code">sp-language-context</code> event that bubbles up the DOM</li> <li><strong>Theme provider response</strong>: <code class="spectrum-Code">&lt;sp-theme&gt;</code> or other context providers respond with their <code class="spectrum-Code">lang</code> value</li> <li><strong>Callback registration</strong>: Provider calls the callback with language and unsubscribe function</li> <li><strong>Validation</strong>: Language is validated using <code class="spectrum-Code">Intl.DateTimeFormat.supportedLocalesOf()</code></li> <li><strong>Fallback</strong>: If validation fails, falls back to <code class="spectrum-Code">document.documentElement.lang</code>, <code class="spectrum-Code">navigator.language</code>, or <code class="spectrum-Code">en-US</code></li> <li><strong>Updates</strong>: When language changes, triggers a component update via <code class="spectrum-Code">requestUpdate()</code></li> </ol> <div class="headerContainer spectrum-Typography"><h3 id="related-components" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Related components</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#related-components"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Related components</span></sp-link><sp-divider size="m"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">Components in Spectrum Web Components that use <code class="spectrum-Code">LanguageResolutionController</code>:</p> <ul class="spectrum-Body spectrum-Body--sizeM"> <li><sp-link href="../../components/number-field/"><code class="spectrum-Code">&lt;sp-number-field&gt;</code></sp-link> - Number input with locale formatting</li> <li><sp-link href="../../components/slider/"><code class="spectrum-Code">&lt;sp-slider&gt;</code></sp-link> - Slider with localized values</li> <li><sp-link href="../../components/meter/"><code class="spectrum-Code">&lt;sp-meter&gt;</code></sp-link> - Meter with formatted values</li> <li><sp-link href="../../components/progress-bar/"><code class="spectrum-Code">&lt;sp-progress-bar&gt;</code></sp-link> - Progress with formatted percentage</li> <li><sp-link href="../../components/color-wheel/"><code class="spectrum-Code">&lt;sp-color-wheel&gt;</code></sp-link> - Color picker with locale support</li> <li><sp-link href="../../components/color-slider/"><code class="spectrum-Code">&lt;sp-color-slider&gt;</code></sp-link> - Color slider with formatted values</li> <li><sp-link href="../../components/color-area/"><code class="spectrum-Code">&lt;sp-color-area&gt;</code></sp-link> - Color area with locale support</li> </ul> <div class="headerContainer spectrum-Typography"><h3 id="resources" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Resources</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#resources"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Resources</span></sp-link><sp-divider size="m"></sp-divider></div><ul class="spectrum-Body spectrum-Body--sizeM"> <li><sp-link href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat">Intl.NumberFormat - MDN</sp-link></li> <li><sp-link href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat">Intl.DateTimeFormat - MDN</sp-link></li> <li><sp-link href="https://www.w3.org/International/articles/language-tags/">Language tags (BCP 47)</sp-link></li> <li><sp-link href="https://www.w3.org/WAI/WCAG21/Understanding/language-of-page.html">WCAG - Language of Page</sp-link></li> </ul> </sp-tab-panel></body></html>