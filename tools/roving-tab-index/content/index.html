<html><head></head><body><sp-tab-panel class="section" value="overview"> <div class="headerContainer spectrum-Typography"><h2 id="overview" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeL">Overview</h2> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeL" href="#overview"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Overview</span></sp-link><sp-divider size="l"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">RovingTabindexController</code> is a <sp-link href="https://lit.dev/docs/composition/controllers/">reactive controller</sp-link> that implements the <sp-link href="https://www.w3.org/TR/wai-aria-practices-1.2/#kbd_roving_tabindex">roving tabindex pattern</sp-link>, a key accessibility technique for managing keyboard navigation in composite widgets. This pattern allows multiple focusable elements to be represented by a single <code class="spectrum-Code">tabindex=0</code> element in the tab order, while making all elements accessible via arrow keys. This enables keyboard users to quickly tab through a page without stopping on every item in a large collection.</p> <div class="headerContainer spectrum-Typography"><h3 id="features" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Features</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#features"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Features</span></sp-link><sp-divider size="m"></sp-divider></div><ul class="spectrum-Body spectrum-Body--sizeM"> <li><strong>Keyboard navigation</strong>: Manages arrow key navigation (Left, Right, Up, Down, Home, End) through collections</li> <li><strong>Flexible direction modes</strong>: Supports horizontal, vertical, both, and grid navigation patterns</li> <li><strong>Focus management</strong>: Automatically manages <code class="spectrum-Code">tabindex</code> attributes on elements</li> <li><strong>Customizable behavior</strong>: Configure which element receives initial focus and how elements respond to keyboard input</li> <li><strong>Accessibility compliant</strong>: Implements WCAG accessibility patterns for keyboard navigation</li> </ul> <div class="headerContainer spectrum-Typography"><h3 id="usage" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Usage</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#usage"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Usage</span></sp-link><sp-divider size="m"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM"><sp-link href="https://www.npmjs.com/package/@spectrum-web-components/reactive-controllers"><img src="https://img.shields.io/npm/v/@spectrum-web-components/reactive-controllers?style=for-the-badge" alt="See it on NPM!"></sp-link> <sp-link href="https://bundlephobia.com/result?p=@spectrum-web-components/reactive-controllers"><img src="https://img.shields.io/bundlephobia/minzip/@spectrum-web-components/reactive-controllers?style=for-the-badge" alt="How big is this package in your project?"></sp-link></p> <code-example class="language-bash" preprocessed="preprocessed"><pre class="language-bash" slot="code"><span class="token function">yarn</span> <span class="token function">add</span> @spectrum-web-components/reactive-controllers</pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">Import the <code class="spectrum-Code">RovingTabindexController</code> via:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> RovingTabindexController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/RovingTabindex.js'</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer spectrum-Typography"><h3 id="examples" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Examples</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#examples"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Examples</span></sp-link><sp-divider size="m"></sp-divider></div><div class="headerContainer spectrum-Typography"><h4 id="basic-usage" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Basic usage</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#basic-usage"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Basic usage</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">A Container element that manages a collection of <code class="spectrum-Code">&lt;sp-button&gt;</code> elements that are slotted into it from outside might look like the following:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> html<span class="token punctuation">,</span> LitElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RovingTabindexController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/RovingTabindex.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/button'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span>
    rovingTabindexController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RovingTabindexController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>Button<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">elements</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'sp-button'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;slot&gt;&lt;/slot&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">The above will default to entering the Container element via the first <code class="spectrum-Code">&lt;sp-button&gt;</code> element every time while making all slotted <code class="spectrum-Code">&lt;sp-button&gt;</code> elements accessible via the the arrow key (ArrowLeft, ArrowRight, ArrowUp, and ArrowDown) managed tab order.</p> <div class="headerContainer spectrum-Typography"><h4 id="configuration-options" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Configuration options</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#configuration-options"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Configuration options</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">A <code class="spectrum-Code">Container</code> can further customize the implementation of the <code class="spectrum-Code">RovingTabindexController</code> with the following options:</p> <ul class="spectrum-Body spectrum-Body--sizeM"> <li><code class="spectrum-Code">direction</code> to customize how and which arrow keys manage what element is to be focused and accepts a either a string of <code class="spectrum-Code">both</code>, <code class="spectrum-Code">vertical</code>, <code class="spectrum-Code">horizontal</code>, or <code class="spectrum-Code">grid</code> or a method returning one of those strings</li> <li><code class="spectrum-Code">elementEnterAction</code> enacts actions other than <code class="spectrum-Code">focus</code> on the entered element which accepts a method with a signature of <code class="spectrum-Code">(el: T) =&gt; void</code></li> <li><code class="spectrum-Code">elements</code> provides the elements that will have their <code class="spectrum-Code">tabindex</code> managed via a method with a signature of <code class="spectrum-Code">() =&gt; T[]</code></li> <li><code class="spectrum-Code">focusInIndex</code> to control what element will recieve <code class="spectrum-Code">tabindex=0</code> while focus is outside of the <code class="spectrum-Code">Container</code> and accepts a method with a signature of <code class="spectrum-Code">(_elements: T[]) =&gt; number</code></li> <li><code class="spectrum-Code">isFocusableElement</code> describes the state an element much be in to receive <code class="spectrum-Code">focus</code> via a method with a signature of <code class="spectrum-Code">(el: T) =&gt; boolean</code></li> <li><code class="spectrum-Code">listenerScope</code> outlines which parts on a container's DOM when listening for arrow key presses via an element reference or a method returning an element reference with the signature <code class="spectrum-Code">() =&gt; HTMLElement</code></li> </ul> <div class="headerContainer spectrum-Typography"><h4 id="horizontal-navigation" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Horizontal navigation</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#horizontal-navigation"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Horizontal navigation</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">Restrict navigation to horizontal arrow keys only:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> html<span class="token punctuation">,</span> LitElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RovingTabindexController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/RovingTabindex.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/button'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'@spectrum-web-components/button/sp-button.js'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">HorizontalToolbar</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span>
    rovingTabindexController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RovingTabindexController<span class="token operator">&lt;</span>Button<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">elements</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'sp-button'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        direction<span class="token operator">:</span> <span class="token string">'horizontal'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;div
                role="toolbar"
                aria-label="Formatting toolbar"
                aria-orientation="horizontal"
            &gt;
                &lt;slot&gt;&lt;/slot&gt;
            &lt;/div&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'horizontal-toolbar'</span><span class="token punctuation">,</span> HorizontalToolbar<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer spectrum-Typography"><h4 id="selection-with-focus" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Selection with focus</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#selection-with-focus"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Selection with focus</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">Make the focused element the selected one:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> html<span class="token punctuation">,</span> LitElement<span class="token punctuation">,</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> property <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit/decorators.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RovingTabindexController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/RovingTabindex.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/button'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'@spectrum-web-components/button/sp-button.js'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SelectableGroup</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">property</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> attribute<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    selected<span class="token operator">?</span><span class="token operator">:</span> Button<span class="token punctuation">;</span>

    rovingTabindexController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RovingTabindexController<span class="token operator">&lt;</span>Button<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">elements</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'sp-button'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        direction<span class="token operator">:</span> <span class="token string">'horizontal'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">focusInIndex</span><span class="token operator">:</span> <span class="token punctuation">(</span>buttons<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selected <span class="token operator">?</span> buttons<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selected<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">elementEnterAction</span><span class="token operator">:</span> <span class="token punctuation">(</span>button<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>selected <span class="token operator">=</span> button<span class="token punctuation">;</span>
            <span class="token comment">// Update visual selection</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">isFocusableElement</span><span class="token operator">:</span> <span class="token punctuation">(</span>button<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>button<span class="token punctuation">.</span>disabled<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> styles <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        ::slotted(sp-button[selected]) {
            background-color: var(--spectrum-global-color-blue-400);
        }
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

    <span class="token function">updateSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'sp-button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            button<span class="token punctuation">.</span><span class="token function">toggleAttribute</span><span class="token punctuation">(</span><span class="token string">'selected'</span><span class="token punctuation">,</span> button <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selected<span class="token punctuation">)</span><span class="token punctuation">;</span>
            button<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>
                <span class="token string">'aria-selected'</span><span class="token punctuation">,</span>
                <span class="token function">String</span><span class="token punctuation">(</span>button <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selected<span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;div role="radiogroup" aria-label="Options"&gt;
                &lt;slot&gt;&lt;/slot&gt;
            &lt;/div&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'selectable-group'</span><span class="token punctuation">,</span> SelectableGroup<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">This usage pattern is similar to what's seen in <sp-link href="../../components/radio/"><code class="spectrum-Code">&lt;sp-radio-group&gt;</code></sp-link>.</p> <div class="headerContainer spectrum-Typography"><h4 id="vertical-menu-navigation" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Vertical menu navigation</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#vertical-menu-navigation"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Vertical menu navigation</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">Create a vertical menu with arrow key navigation:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> html<span class="token punctuation">,</span> LitElement<span class="token punctuation">,</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RovingTabindexController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/RovingTabindex.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'@spectrum-web-components/menu/sp-menu-item.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> MenuItem <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/menu'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">VerticalMenu</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span>
    rovingTabindexController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RovingTabindexController<span class="token operator">&lt;</span>MenuItem<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">elements</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'sp-menu-item'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        direction<span class="token operator">:</span> <span class="token string">'vertical'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">isFocusableElement</span><span class="token operator">:</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>item<span class="token punctuation">.</span>disabled<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> styles <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        :host {
            display: block;
            border: 1px solid var(--spectrum-global-color-gray-300);
            border-radius: 4px;
            padding: 4px 0;
        }
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;div role="menu" aria-label="Menu" aria-orientation="vertical"&gt;
                &lt;slot&gt;&lt;/slot&gt;
            &lt;/div&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'vertical-menu'</span><span class="token punctuation">,</span> VerticalMenu<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer spectrum-Typography"><h4 id="grid-navigation" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Grid navigation</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#grid-navigation"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Grid navigation</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">Implements a 2D grid navigation:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> html<span class="token punctuation">,</span> LitElement<span class="token punctuation">,</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> property <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit/decorators.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RovingTabindexController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/RovingTabindex.js'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">GridNavigator</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">property</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> Number <span class="token punctuation">}</span><span class="token punctuation">)</span>
    columns <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

    rovingTabindexController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RovingTabindexController<span class="token operator">&lt;</span>HTMLElement<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">elements</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.grid-item'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        direction<span class="token operator">:</span> <span class="token string">'grid'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> styles <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        .grid {
            display: grid;
            grid-template-columns: repeat(var(--columns, 3), 1fr);
            gap: 8px;
        }

        .grid-item {
            padding: 16px;
            border: 2px solid var(--spectrum-global-color-gray-300);
            border-radius: 4px;
            text-align: center;
            cursor: pointer;
        }

        .grid-item:focus {
            outline: 2px solid var(--spectrum-global-color-blue-400);
            outline-offset: 2px;
        }
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

    <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Set the grid column count for the controller</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>rovingTabindexController<span class="token punctuation">.</span>directionLength <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>columns<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;div
                class="grid"
                style="--columns: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>columns<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
                role="grid"
                aria-label="Grid navigator"
            &gt;
                &lt;slot&gt;&lt;/slot&gt;
            &lt;/div&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'grid-navigator'</span><span class="token punctuation">,</span> GridNavigator<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer spectrum-Typography"><h4 id="tab-panel-navigation" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Tab panel navigation</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#tab-panel-navigation"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Tab panel navigation</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">Implements keyboard navigation for tabs:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token keyword">import</span> <span class="token punctuation">{</span> html<span class="token punctuation">,</span> LitElement<span class="token punctuation">,</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> property <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lit/decorators.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RovingTabindexController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/reactive-controllers/src/RovingTabindex.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'@spectrum-web-components/tabs/sp-tab.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Tab <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@spectrum-web-components/tabs'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">TabList</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">property</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> attribute<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    selectedTab<span class="token operator">?</span><span class="token operator">:</span> Tab<span class="token punctuation">;</span>

    rovingTabindexController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RovingTabindexController<span class="token operator">&lt;</span>Tab<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">elements</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'sp-tab'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        direction<span class="token operator">:</span> <span class="token string">'horizontal'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">focusInIndex</span><span class="token operator">:</span> <span class="token punctuation">(</span>tabs<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedTab <span class="token operator">?</span> tabs<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selectedTab<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">elementEnterAction</span><span class="token operator">:</span> <span class="token punctuation">(</span>tab<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">selectTab</span><span class="token punctuation">(</span>tab<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">isFocusableElement</span><span class="token operator">:</span> <span class="token punctuation">(</span>tab<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>tab<span class="token punctuation">.</span>disabled<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">selectTab</span><span class="token punctuation">(</span>tab<span class="token operator">:</span> Tab<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>selectedTab <span class="token operator">=</span> tab<span class="token punctuation">;</span>

        <span class="token comment">// Update ARIA attributes</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'sp-tab'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'aria-selected'</span><span class="token punctuation">,</span> <span class="token function">String</span><span class="token punctuation">(</span>t <span class="token operator">===</span> tab<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            t<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'tabindex'</span><span class="token punctuation">,</span> t <span class="token operator">===</span> tab <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">:</span> <span class="token string">'-1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Dispatch event</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>
            <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">'tab-select'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                detail<span class="token operator">:</span> <span class="token punctuation">{</span> tab <span class="token punctuation">}</span><span class="token punctuation">,</span>
                bubbles<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                composed<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;div role="tablist" aria-label="Content sections"&gt;
                &lt;slot&gt;&lt;/slot&gt;
            &lt;/div&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'tab-list'</span><span class="token punctuation">,</span> TabList<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <div class="headerContainer spectrum-Typography"><h3 id="accessibility" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Accessibility</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#accessibility"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Accessibility</span></sp-link><sp-divider size="m"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">RovingTabindexController</code> implements the W3C ARIA Authoring Practices Guide's <sp-link href="https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/#kbd_roving_tabindex">roving tabindex pattern</sp-link>, which is essential for creating accessible composite widgets.</p> <div class="headerContainer spectrum-Typography"><h4 id="why-use-roving-tabindex%3F" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Why use roving tabindex?</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#why-use-roving-tabindex%3F"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Why use roving tabindex?</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">Without roving tabindex, keyboard users would need to press Tab through every item in a collection (e.g., every button in a toolbar or every option in a listbox). For large collections, this significantly degrades the keyboard navigation experience. Roving tabindex solves this by:</p> <ol class="spectrum-Body spectrum-Body--sizeM"> <li>Including only one element in the tab order (<code class="spectrum-Code">tabindex="0"</code>)</li> <li>Making all other elements programmatically focusable (<code class="spectrum-Code">tabindex="-1"</code>)</li> <li>Managing arrow key navigation between elements</li> <li>Updating <code class="spectrum-Code">tabindex</code> values as focus moves</li> </ol> <div class="headerContainer spectrum-Typography"><h4 id="aria-roles-and-attributes" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">ARIA roles and attributes</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#aria-roles-and-attributes"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled ARIA roles and attributes</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">When using the <code class="spectrum-Code">RovingTabindexController</code>, ensure you apply appropriate ARIA roles and attributes:</p> <sp-tabs selected="toolbars" auto="" label="For toolbars"> <sp-tab value="toolbars">For toolbars</sp-tab> <sp-tab-panel value="toolbars"> <code-example class="language-html-no-demo" preprocessed="preprocessed"><pre class="language-html-no-demo" slot="code"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toolbar<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Formatting tools<span class="token punctuation">"</span></span> <span class="token attr-name">aria-orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Managed elements --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></code-example> </sp-tab-panel> <sp-tab value="tablist">For tab lists</sp-tab> <sp-tab-panel value="tablist"> <code-example class="language-html-no-demo" preprocessed="preprocessed"><pre class="language-html-no-demo" slot="code"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tablist<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Content sections<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab<span class="token punctuation">"</span></span> <span class="token attr-name">aria-selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Tab 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab<span class="token punctuation">"</span></span> <span class="token attr-name">aria-selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Tab 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></code-example> </sp-tab-panel> <sp-tab value="listboxes">For listboxes</sp-tab> <sp-tab-panel value="listboxes"> <code-example class="language-html-no-demo" preprocessed="preprocessed"><pre class="language-html-no-demo" slot="code"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>listbox<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Options<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option<span class="token punctuation">"</span></span> <span class="token attr-name">aria-selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Option 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option<span class="token punctuation">"</span></span> <span class="token attr-name">aria-selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Option 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></code-example> </sp-tab-panel> <sp-tab value="radiogroups">For Radiogroups</sp-tab> <sp-tab-panel value="radiogroups"> <code-example class="language-html-no-demo" preprocessed="preprocessed"><pre class="language-html-no-demo" slot="code"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radiogroup<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Choices<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">aria-checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Choice 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">aria-checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Choice 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></code-example> </sp-tab-panel> <sp-tab value="menus">For menus</sp-tab> <sp-tab-panel value="menus"> <code-example class="language-html-no-demo" preprocessed="preprocessed"><pre class="language-html-no-demo" slot="code"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Actions<span class="token punctuation">"</span></span> <span class="token attr-name">aria-orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menuitem<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>New<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menuitem<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Open<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></code-example> </sp-tab-panel> </sp-tabs> <div class="headerContainer spectrum-Typography"><h4 id="keyboard-support" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Keyboard support</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#keyboard-support"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Keyboard support</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">RovingTabindexController</code> provides the following keyboard interactions:</p> <sp-table> <sp-table-head> <sp-table-head-cell>Key</sp-table-head-cell> <sp-table-head-cell>Direction Mode</sp-table-head-cell> <sp-table-head-cell>Action</sp-table-head-cell> </sp-table-head> <sp-table-body> <sp-table-row> <sp-table-cell><kbd>Tab</kbd></sp-table-cell> <sp-table-cell>All</sp-table-cell> <sp-table-cell>Moves focus into or out of the composite widget</sp-table-cell> </sp-table-row> <sp-table-row> <sp-table-cell><kbd></kbd> (Right Arrow)</sp-table-cell> <sp-table-cell>horizontal, both, grid</sp-table-cell> <sp-table-cell>Moves focus to the next element</sp-table-cell> </sp-table-row> <sp-table-row> <sp-table-cell><kbd></kbd>(Left Arrow)</sp-table-cell> <sp-table-cell>horizontal, both, grid</sp-table-cell> <sp-table-cell>Moves focus to the previous element</sp-table-cell> </sp-table-row> <sp-table-row> <sp-table-cell><kbd></kbd> (Down Arrow)</sp-table-cell> <sp-table-cell>vertical, both, grid</sp-table-cell> <sp-table-cell>Moves focus to the next element (or down in grid)</sp-table-cell> </sp-table-row> <sp-table-row> <sp-table-cell><kbd></kbd> (Up Arrow)</sp-table-cell> <sp-table-cell>vertical, both, grid</sp-table-cell> <sp-table-cell>Moves focus to the previous element (or up in grid)</sp-table-cell> </sp-table-row> </sp-table-body> </sp-table> <div class="headerContainer spectrum-Typography"><h4 id="disabled-elements" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeS">Disabled elements</h4> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeS" href="#disabled-elements"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Disabled elements</span></sp-link><sp-divider size="s"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM"><strong>Important:</strong> According to <sp-link href="https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/#focusabilityofdisabledcontrols">WAI-ARIA Authoring Practices Guide</sp-link>, disabled items should remain focusable in these composite widgets:</p> <ul class="spectrum-Body spectrum-Body--sizeM"> <li>Options in a Listbox</li> <li>Menu items in a Menu or menu bar</li> <li>Tab elements in a set of Tabs</li> <li>Tree items in a Tree View</li> </ul> <p class="spectrum-Body spectrum-Body--sizeM">For these widgets, use <code class="spectrum-Code">aria-disabled="true"</code> instead of the <code class="spectrum-Code">disabled</code> attribute so items can still receive focus and be read in screen readers' forms/interactive mode:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token comment">// For menu items, tabs, listbox options - DO NOT skip disabled items</span>
rovingTabindexController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RovingTabindexController<span class="token operator">&lt;</span>MenuItem<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">elements</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'sp-menu-item'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// Disabled items remain focusable for accessibility</span>
    <span class="token function-variable function">isFocusableElement</span><span class="token operator">:</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <p class="spectrum-Body spectrum-Body--sizeM">For other controls like buttons or form inputs where disabled items should be skipped:</p> <code-example class="language-typescript" preprocessed="preprocessed"><pre class="language-typescript" slot="code"><span class="token comment">// For buttons/forms - skip disabled items</span>
rovingTabindexController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RovingTabindexController<span class="token operator">&lt;</span>Button<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">elements</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'sp-button'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">isFocusableElement</span><span class="token operator">:</span> <span class="token punctuation">(</span>button<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>button<span class="token punctuation">.</span>disabled<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></code-example> <code-example class="language-html-no-demo" preprocessed="preprocessed"><pre class="language-html-no-demo" slot="code"><span class="token comment">&lt;!-- Buttons can use disabled attribute --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sp-button</span> <span class="token attr-name">disabled</span><span class="token punctuation">&gt;</span></span>Disabled Button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sp-button</span><span class="token punctuation">&gt;</span></span></pre></code-example> <div class="headerContainer spectrum-Typography"><h3 id="wcag-compliance" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">WCAG compliance</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#wcag-compliance"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled WCAG compliance</span></sp-link><sp-divider size="m"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The roving tabindex pattern helps meet several WCAG success criteria:</p> <ul class="spectrum-Body spectrum-Body--sizeM"> <li><sp-link href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html">2.1.1 Keyboard (Level A)</sp-link> - All functionality is available from keyboard</li> <li><sp-link href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard-no-exception.html">2.1.3 Keyboard (No Exception) (Level AAA)</sp-link> - No keyboard traps</li> <li><sp-link href="https://www.w3.org/WAI/WCAG21/Understanding/focus-visible.html">2.4.7 Focus Visible (Level AA)</sp-link> - Focus indicator is visible</li> </ul> <div class="headerContainer spectrum-Typography"><h3 id="references" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">References</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#references"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled References</span></sp-link><sp-divider size="m"></sp-divider></div><ul class="spectrum-Body spectrum-Body--sizeM"> <li><sp-link href="https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/#kbd_roving_tabindex">ARIA Authoring Practices Guide - Roving tabindex</sp-link></li> <li><sp-link href="https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/#kbd_general_within">ARIA Authoring Practices Guide - Composite Widgets</sp-link></li> <li><sp-link href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard-accessible">WCAG 2.1 - Keyboard Accessible</sp-link></li> </ul> <div class="headerContainer spectrum-Typography"><h3 id="related-components" tabindex="-1" class="header-heading spectrum-Heading spectrum-Heading--sizeM">Related components</h3> <sp-link class="header-anchor spectrum-Heading spectrum-Heading--sizeM" href="#related-components"><span aria-hidden="true">#</span><span class="visually-hidden">Section titled Related components</span></sp-link><sp-divider size="m"></sp-divider></div><p class="spectrum-Body spectrum-Body--sizeM">The <code class="spectrum-Code">RovingTabindexController</code> is used by these Spectrum Web Components:</p> <ul class="spectrum-Body spectrum-Body--sizeM"> <li><sp-link href="../../components/tabs/"><code class="spectrum-Code">&lt;sp-tabs&gt;</code></sp-link> - Tab navigation</li> <li><sp-link href="../../components/radio/"><code class="spectrum-Code">&lt;sp-radio-group&gt;</code></sp-link> - Radio button groups</li> <li><sp-link href="../../components/action-group/"><code class="spectrum-Code">&lt;sp-action-group&gt;</code></sp-link> - Action button groups</li> <li><sp-link href="../../components/menu/"><code class="spectrum-Code">&lt;sp-menu&gt;</code></sp-link> - Menu navigation</li> <li><sp-link href="../../components/table/"><code class="spectrum-Code">&lt;sp-table&gt;</code></sp-link> - Table keyboard navigation</li> </ul> </sp-tab-panel></body></html>