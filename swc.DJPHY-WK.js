import{C as e}from"./swc.CedePp-f.js";const t=new class{constructor(e={}){this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,e)}async openTimer(e){if(this.cancelCooldownTimer(),!this.component||e!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=e,!this.isWarm&&(this.promise=new Promise(e=>{this.resolve=e,this.timeout=window.setTimeout(()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)},this.warmUpDelay)}),this.promise);if(this.promise)return this.promise;throw new Error("Inconsistent state")}close(e){this.component&&this.component===e&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout(()=>{this.isWarm=!1,delete this.cooldownTimeout},this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}},o=()=>{},n=(e,t,o)=>{const n=new AbortController,s=new Map,r=()=>{n.abort(),o()};let i,a;const l=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{r()})})}),m=t=>{t.target===e&&(s.set(t.propertyName,s.get(t.propertyName)-1),s.get(t.propertyName)||s.delete(t.propertyName),0===s.size&&r())};e.addEventListener("transitionrun",t=>{t.target===e&&(s.has(t.propertyName)||s.set(t.propertyName,0),s.set(t.propertyName,s.get(t.propertyName)+1),cancelAnimationFrame(l),cancelAnimationFrame(i),cancelAnimationFrame(a))},{signal:n.signal}),e.addEventListener("transitionend",m,{signal:n.signal}),e.addEventListener("transitioncancel",m,{signal:n.signal}),t()};function s(){return new Promise(e=>requestAnimationFrame(()=>e()))}class r extends e{constructor(){super(...arguments),this.dispose=o,this.offset=0,this.willPreventClose=!1}async applyFocus(e,t){}get delayed(){return!1}set delayed(e){}get disabled(){return!1}set disabled(e){}get elementResolver(){return this._elementResolver}set elementResolver(e){this._elementResolver=e}async ensureOnDOM(e){}async makeTransition(e){return null}async manageDelay(e){}async managePopoverOpen(){}managePosition(){}get open(){return!1}set open(e){}get placementController(){return this._placementController}set placementController(e){this._placementController=e}requestSlottable(){}returnFocus(){}get state(){return"closed"}set state(e){}manuallyKeepOpen(){}static update(){const e=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(e)}static async open(e,t,n,s){await import("./swc.CQfAh0i5.js");const i=2===arguments.length,a=n||e,l=new this;let m=!1;l.dispose=()=>{l.addEventListener("sp-closed",()=>{m||(c(),m=!0),requestAnimationFrame(()=>{l.remove()})}),l.open=!1,l.dispose=o};const c=((e,t,{position:o,prepareCallback:n}={position:"beforeend"})=>{let{length:s}=e;if(0===s)return()=>e;let r=1,i=0;("afterbegin"===o||"afterend"===o)&&(r=-1,i=s-1);const a=new Array(s),l=new Array(s),m=document.createComment("placeholder for reparented element");do{const s=e[i];n&&(l[i]=n(s)),a[i]=m.cloneNode();const c=s.parentElement||s.getRootNode();c&&c!==s&&c.replaceChild(a[i],s),t.insertAdjacentElement(o,s),i+=r}while(--s>0);return function(){return function(e,t,o=[]){for(let n=0;n<t.length;++n){const s=t[n],r=e[n],i=r.parentElement||r.getRootNode();o[n]&&o[n](s),i&&i!==r&&i.replaceChild(s,r),delete e[n]}return t}(a,e,l)}})([a],l,{position:"beforeend",prepareCallback:e=>{const t=e.slot;return e.removeAttribute("slot"),()=>{e.slot=t}}});if(!i&&a&&s){const o=e,n=t,i=s;return r.applyOptions(l,{...i,delayed:i.delayed||a.hasAttribute("delayed"),trigger:i.virtualTrigger||o,type:"modal"===n?"modal":"hover"===n?"hint":"auto"}),o.insertAdjacentElement("afterend",l),await l.updateComplete,l.open=!0,l.dispose}const p=t;return l.append(a),r.applyOptions(l,{...p,delayed:p.delayed||a.hasAttribute("delayed")}),l.updateComplete.then(()=>{l.open=!0}),l}static applyOptions(e,t){var o,n;e.delayed=!!t.delayed,e.receivesFocus=null!=(o=t.receivesFocus)?o:"auto",e.triggerElement=t.trigger||null,e.type=t.type||"modal",e.offset=null!=(n=t.offset)?n:0,e.placement=t.placement,e.willPreventClose=!!t.notImmediatelyClosable}disconnectedCallback(){super.disconnectedCallback()}}export{r as A,s as a,n as g,o as n,t as o};
//# sourceMappingURL=swc.Ic6KYl8-.js.map
