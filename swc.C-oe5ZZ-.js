import{I as t,s as e,A as s}from"./swc.CI2drcAD.js";import{r as i}from"./swc.mUX8iMJZ.js";import{f as r}from"./swc.CrCi3X4N.js";import{T as n,j as o}from"./swc.BkWj9Vim.js";import{e as l}from"./swc.8Y9xgsp7.js";class a extends r{render(t){return n}update(t,[e]){this.template=e,this.target!==t.element&&(this.target=t.element,this.renderBefore=this.target.children[0]),this.listenerHost=this.target,this.init()}handleSlottableRequest(t){if(t.target!==t.currentTarget)return;const e=t.data===i;o(e?void 0:this.template(),this.target,{renderBefore:this.renderBefore})}init(){var t;null==(t=this.listeners)||t.abort(),this.listeners=new AbortController;const{signal:e}=this.listeners;this.listenerHost.addEventListener("slottable-request",(t=>this.handleSlottableRequest(t)),{signal:e})}disconnected(){var t;null==(t=this.listeners)||t.abort()}reconnected(){this.init()}}const h=l(class extends a{constructor(){super(...arguments),this.defaultOptions={triggerInteraction:"click",overlayOptions:{type:"auto",offset:0}},this.options={...this.defaultOptions.overlayOptions}}render(t,e){return n}update(s,[i,r]){var n,o,l,a;this.options={...this.defaultOptions.overlayOptions,...null==r?void 0:r.overlayOptions},this.insertionOptions=null==r?void 0:r.insertionOptions,this.template=i,this.host=null==(n=s.options)?void 0:n.host;let h=!1;const p=(null==r?void 0:r.triggerInteraction)||this.defaultOptions.triggerInteraction,d=t[null==(o=this.strategy)?void 0:o.type]!==p;this.target!==s.element&&(this.target=s.element,h=!0),(h||d)&&(null==(l=this.strategy)||l.abort(),this.strategy=new e[p](this.target,{isPersistent:!0,handleOverlayReady:t=>{this.listenerHost=this.overlay=t,this.init()}})),this.strategy.open=null!=(a=null==r?void 0:r.open)&&a}handleSlottableRequest(t){var e,r;if(t.target!==t.currentTarget)return;const n=t.data===i,l={};if(this.host&&(l.host=this.host),o(n?void 0:this.template(),this.overlay,l),n)this.overlay.remove();else{s.applyOptions(this.overlay,{...this.options,trigger:this.target});const t="function"==typeof(null==(e=this.insertionOptions)?void 0:e.el)?this.insertionOptions.el():(null==(r=this.insertionOptions)?void 0:r.el)||this.target,{where:i="afterend"}=this.insertionOptions||{};t.insertAdjacentElement(i,this.overlay)}}});export{h as t};
//# sourceMappingURL=swc.DI6d7lCM.js.map
