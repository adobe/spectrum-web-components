{"version":3,"file":"swc.Dc4jfb2R.js","sources":["../../../packages/button/src/button-base.css.js","../../../packages/button/src/ButtonBase.js"],"sourcesContent":["\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const s=e`\n    :host{vertical-align:top;--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-100);--spectrum-icon-size:var(--spectrum-workflow-icon-size-100);display:inline-flex}:host([dir]){-webkit-appearance:none}:host([disabled]){pointer-events:none;cursor:auto}#button{position:absolute;inset:0}::slotted(sp-overlay),::slotted(sp-tooltip){position:absolute}:host:after{pointer-events:none}::slotted(*){pointer-events:none}slot[name=icon]::slotted(svg),slot[name=icon]::slotted(img){fill:currentColor;stroke:currentColor;block-size:var(--spectrum-icon-size,var(--spectrum-workflow-icon-size-100));inline-size:var(--spectrum-icon-size,var(--spectrum-workflow-icon-size-100))}[icon-only]+#label{display:contents}:host([size=xs]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-50);--spectrum-icon-size:var(--spectrum-workflow-icon-size-50)}:host([size=s]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-75);--spectrum-icon-size:var(--spectrum-workflow-icon-size-75)}:host([size=l]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-200);--spectrum-icon-size:var(--spectrum-workflow-icon-size-200)}:host([size=xl]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-300);--spectrum-icon-size:var(--spectrum-workflow-icon-size-300)}:host([size=xxl]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-400);--spectrum-icon-size:var(--spectrum-workflow-icon-size-400)}\n`;export default s;\n//# sourceMappingURL=button-base.css.js.map\n","\"use strict\";var d=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var s=(a,i,e,t)=>{for(var r=t>1?void 0:t?u(i,e):i,n=a.length-1,l;n>=0;n--)(l=a[n])&&(r=(t?l(i,e,r):l(r))||r);return t&&r&&d(i,e,r),r};import{html as o}from\"@spectrum-web-components/base\";import{property as h,query as p}from\"@spectrum-web-components/base/src/decorators.js\";import{LikeAnchor as c}from\"@spectrum-web-components/shared/src/like-anchor.js\";import{Focusable as b}from\"@spectrum-web-components/shared/src/focusable.js\";import{ObserveSlotText as f}from\"@spectrum-web-components/shared/src/observe-slot-text.js\";import m from\"./button-base.css.js\";export class ButtonBase extends f(c(b),\"\",[\"sp-overlay,sp-tooltip\"]){constructor(){super();this.active=!1;this.type=\"button\";this.proxyFocus=this.proxyFocus.bind(this),this.addEventListener(\"click\",this.handleClickCapture,{capture:!0})}static get styles(){return[m]}get focusElement(){return this}get hasLabel(){return this.slotHasContent}get buttonContent(){return[o`\n                <slot name=\"icon\" ?icon-only=${!this.hasLabel}></slot>\n            `,o`\n                <span id=\"label\">\n                    <slot @slotchange=${this.manageTextObservedSlot}></slot>\n                </span>\n            `]}handleClickCapture(e){if(this.disabled)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1;this.shouldProxyClick()}proxyFocus(){this.focus()}shouldProxyClick(){let e=!1;if(this.anchorElement)this.anchorElement.click(),e=!0;else if(this.type!==\"button\"){const t=document.createElement(\"button\");t.type=this.type,this.insertAdjacentElement(\"afterend\",t),t.click(),t.remove(),e=!0}return e}renderAnchor(){return o`\n            ${this.buttonContent}\n            ${super.renderAnchor({id:\"button\",ariaHidden:!0,className:\"button anchor hidden\"})}\n        `}renderButton(){return o`\n            ${this.buttonContent}\n        `}render(){return this.href&&this.href.length>0?this.renderAnchor():this.renderButton()}handleKeydown(e){const{code:t}=e;switch(t){case\"Space\":e.preventDefault(),typeof this.href==\"undefined\"&&(this.addEventListener(\"keyup\",this.handleKeyup),this.active=!0);break;default:break}}handleKeypress(e){const{code:t}=e;switch(t){case\"Enter\":case\"NumpadEnter\":this.click();break;default:break}}handleKeyup(e){const{code:t}=e;switch(t){case\"Space\":this.removeEventListener(\"keyup\",this.handleKeyup),this.active=!1,this.click();break;default:break}}manageAnchor(){this.href&&this.href.length>0?(!this.hasAttribute(\"role\")||this.getAttribute(\"role\")===\"button\")&&this.setAttribute(\"role\",\"link\"):(!this.hasAttribute(\"role\")||this.getAttribute(\"role\")===\"link\")&&this.setAttribute(\"role\",\"button\")}firstUpdated(e){super.firstUpdated(e),this.hasAttribute(\"tabindex\")||this.setAttribute(\"tabindex\",\"0\"),e.has(\"label\")&&(this.label?this.setAttribute(\"aria-label\",this.label):this.removeAttribute(\"aria-label\")),this.manageAnchor(),this.addEventListener(\"keydown\",this.handleKeydown),this.addEventListener(\"keypress\",this.handleKeypress)}updated(e){super.updated(e),e.has(\"href\")&&this.manageAnchor(),this.anchorElement&&(this.anchorElement.addEventListener(\"focus\",this.proxyFocus),this.anchorElement.tabIndex=-1)}update(e){super.update(e),e.has(\"label\")&&(this.label?this.setAttribute(\"aria-label\",this.label):this.removeAttribute(\"aria-label\"))}}s([h({type:Boolean,reflect:!0})],ButtonBase.prototype,\"active\",2),s([h({type:String})],ButtonBase.prototype,\"type\",2),s([p(\".anchor\")],ButtonBase.prototype,\"anchorElement\",2);\n//# sourceMappingURL=ButtonBase.js.map\n"],"names":["s","e","d","Object","defineProperty","a","i","t","l","r","n","length","ButtonBase","f","c","b","constructor","super","this","active","type","proxyFocus","bind","addEventListener","handleClickCapture","capture","styles","m","focusElement","hasLabel","slotHasContent","buttonContent","o","manageTextObservedSlot","disabled","preventDefault","stopImmediatePropagation","stopPropagation","shouldProxyClick","focus","anchorElement","click","document","createElement","insertAdjacentElement","remove","renderAnchor","id","ariaHidden","className","renderButton","render","href","handleKeydown","code","handleKeyup","handleKeypress","removeEventListener","manageAnchor","hasAttribute","getAttribute","setAttribute","firstUpdated","has","label","removeAttribute","updated","tabIndex","update","h","Boolean","reflect","prototype","String","p"],"mappings":"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"}