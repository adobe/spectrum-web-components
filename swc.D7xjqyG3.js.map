{"version":3,"file":"swc.Yfeumm9z.js","sources":["../../../tools/reactive-controllers/src/ColorController.js","../../../packages/color-field/src/color-field.css.js","../../../packages/color-field/src/ColorField.js","../../../packages/color-field/sp-color-field.js","../../../packages/color-field/stories/template.js","../_site/components/color-field/inline-module-507b08c426acd15acd33b0e897db9c3e.js"],"sourcesContent":["\"use strict\";import _ from\"colorjs.io\";export class ColorController{constructor(r,{manageAs:s}={}){this._color=new _(\"hsv\",[0,100,100],1);this.host=r,this.manageAs=s}get color(){return this._color}validateColorString(r){var $,C,M,O;const s={spaceId:null,coords:[0,0,0],isValid:!1,alpha:1},t=[/rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d*\\.?\\d+)\\s*\\)/i,/rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)/i,/^rgba\\s+(\\d{1,3})\\s+(\\d{1,3})\\s+(\\d{1,3})\\s+(0|0?\\.\\d+|1)\\s*$/i,/^rgb\\s+(\\d{1,3})\\s+(\\d{1,3})\\s+(\\d{1,3})\\s*$/i,/^rgba\\(\\s*(\\d{1,3})\\s+(\\d{1,3})\\s+(\\d{1,3})\\s+(\\d*\\.?\\d+)\\s*\\)$/i,/^rgb\\(\\s*(\\d{1,3})\\s+(\\d{1,3})\\s+(\\d{1,3})\\s*\\)$/i,/rgb\\(\\s*(100|[0-9]{1,2}%)\\s*,\\s*(100|[0-9]{1,2}%)\\s*,\\s*(100|[0-9]{1,2}%)\\s*\\)/i,/rgba\\(\\s*(100|[0-9]{1,2})%\\s*,\\s*(100|[0-9]{1,2})%\\s*,\\s*(100|[0-9]{1,2})%\\s*,\\s*(\\d*\\.?\\d+)\\s*\\)/i],o=[/hsla\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3}%?)\\s*,\\s*(\\d{1,3}%?)\\s*,\\s*(\\d*\\.?\\d+)\\s*\\)/i,/hsl\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3}%?)\\s*,\\s*(\\d{1,3}%?)\\s*\\)/i,/^hsla\\s+(\\d{1,3})\\s+(\\d{1,3}%?)\\s+(\\d{1,3}%?)\\s+(\\d*\\.?\\d+)\\s*$/i,/^hsl\\s+(\\d{1,3})\\s+(\\d{1,3}%?)\\s+(\\d{1,3}%?)\\s*$/i,/^hsla\\(\\s*(\\d{1,3})\\s+(\\d{1,3}%?)\\s+(\\d{1,3}%?)\\s+(\\d*\\.?\\d+)\\s*\\)$/i,/^hsl\\(\\s*(\\d{1,3})\\s+(\\d{1,3}%?)\\s+(\\d{1,3}%?)\\s*\\)$/i],i=[/hsva\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3}%?)\\s*,\\s*(\\d{1,3}%?)\\s*,\\s*(\\d*\\.?\\d+)\\s*\\)/i,/hsv\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3}%?)\\s*,\\s*(\\d{1,3}%?)\\s*\\)/i,/^hsva\\s+(\\d{1,3})\\s+(\\d{1,3}%?)\\s+(\\d{1,3}%?)\\s+(\\d*\\.?\\d+)\\s*$/i,/^hsv\\s+(\\d{1,3})\\s+(\\d{1,3}%?)\\s+(\\d{1,3}%?)\\s*$/i,/^hsva\\(\\s*(\\d{1,3})\\s+(\\d{1,3}%?)\\s+(\\d{1,3}%?)\\s+(\\d*\\.?\\d+)\\s*\\)$/i,/^hsv\\(\\s*(\\d{1,3})\\s+(\\d{1,3}%?)\\s+(\\d{1,3}%?)\\s*\\)$/i],n=[/^#([A-Fa-f0-9]{6})([A-Fa-f0-9]{2})?$/,/^#([A-Fa-f0-9]{3})([A-Fa-f0-9]{1})?$/],h=($=t.find(e=>e.test(r)))==null?void 0:$.exec(r),f=(C=o.find(e=>e.test(r)))==null?void 0:C.exec(r),b=(M=i.find(e=>e.test(r)))==null?void 0:M.exec(r),y=(O=n.find(e=>e.test(r)))==null?void 0:O.exec(r);if(h){const[,e,v,g,c]=h.filter(m=>typeof m==\"string\"),u=c===void 0?1:Number(c),a=m=>m.includes(\"%\")?Number(m.replace(\"%\",\"\"))/100:Number(m)/255,d=a(e),l=a(v),p=a(g);s.spaceId=\"srgb\",s.coords=[d,l,p],s.alpha=u,s.isValid=d>=0&&d<=1&&l>=0&&l<=1&&p>=0&&p<=1&&u>=0&&u<=1}else if(f){const[,e,v,g,c]=f,u=[e,v,g,c===void 0?\"1\":c].map(m=>Number(m.replace(/[^\\d.]/g,\"\"))),[a,d,l,p]=u;s.spaceId=\"hsl\",s.coords=[a,d,l],s.alpha=p,s.isValid=a>=0&&a<=360&&d>=0&&d<=100&&l>=0&&l<=100&&p>=0&&p<=1}else if(b){const[,e,v,g,c]=b,u=[e,v,g,c===void 0?\"1\":c].map(m=>Number(m.replace(/[^\\d.]/g,\"\"))),[a,d,l,p]=u;s.spaceId=\"hsv\",s.coords=[a,d,l],s.alpha=p,s.isValid=a>=0&&a<=360&&d>=0&&d<=100&&l>=0&&l<=100&&p>=0&&p<=1}else if(y){const[,e,v]=y,g=l=>(l.length===1&&(l=l+l),parseInt(l,16)/255);let c,u,a;e.length===3?(c=g(e.substring(0,1)),u=g(e.substring(1,2)),a=g(e.substring(2,3))):(c=g(e.substring(0,2)),u=g(e.substring(2,4)),a=g(e.substring(4,6)));const d=v?g(v):1;s.spaceId=\"srgb\",s.coords=[c,u,a],s.alpha=d,s.isValid=c>=0&&c<=1&&u>=0&&u<=1&&a>=0&&a<=1&&d>=0&&d<=1}return s}get colorOrigin(){return this._colorOrigin}set colorOrigin(r){this._colorOrigin=r}_getHexString(r,s){const{r:t,g:o,b:i}=this._color.to(\"srgb\").srgb,n=this._color.alpha,h=Math.round(t*255).toString(16).padStart(2,\"0\"),f=Math.round(o*255).toString(16).padStart(2,\"0\"),b=Math.round(i*255).toString(16).padStart(2,\"0\"),y=Math.round(n*255).toString(16).padStart(2,\"0\");return`${r?\"#\":\"\"}${h}${f}${b}${s?y:\"\"}`}set color(r){this._colorOrigin=r;let s;if(typeof r==\"string\"){const t=this.validateColorString(r);if(t.isValid){const[o,i,n]=t.coords;s=new _(`${t.spaceId}`,[o,i,n],t.alpha)}else try{_.parse(r)}catch(o){try{s=new _(`#${r}`)}catch(i){return}}}else if(r instanceof _)s=r;else if(!Array.isArray(r)){const{h:t,s:o,l:i,v:n,r:h,g:f,b,a:y}=r;if(typeof t!=\"undefined\"&&typeof o!=\"undefined\"){const $=i!=null?i:n;s=new _(typeof i!=\"undefined\"?\"hsl\":\"hsv\",[parseFloat(t),typeof o!=\"string\"?o*100:parseFloat(o),typeof $!=\"string\"?$*100:parseFloat($)],parseFloat(y||\"1\"))}else typeof h!=\"undefined\"&&typeof f!=\"undefined\"&&typeof b!=\"undefined\"&&(s=new _(\"srgb\",[parseFloat(h)/255,parseFloat(f)/255,parseFloat(b)/255],parseFloat(y||\"1\")))}s||(s=new _(r)),this.manageAs?this._color=s.to(this.manageAs):this._color=s,this.host.requestUpdate()}get colorValue(){if(typeof this._colorOrigin==\"string\"){let s=\"\";switch(this._colorOrigin.startsWith(\"#\")?s=\"hex string\":this._colorOrigin.startsWith(\"rgb\")?s=\"rgb\":this._colorOrigin.startsWith(\"hsl\")?s=\"hsl\":this._colorOrigin.startsWith(\"hsv\")?s=\"hsv\":s=\"hex\",s){case\"hsv\":{const t=this._colorOrigin[3]===\"a\",{h:o,s:i,v:n}=this._color.to(\"hsv\").hsv,h=this._color.alpha;return`hsv${t?\"a\":\"\"}(${Math.round(o)}, ${Math.round(i)}%, ${Math.round(n)}%${t?`, ${h}`:\"\"})`}case\"hsl\":{const t=this._colorOrigin[3]===\"a\",{h:o,s:i,l:n}=this._color.to(\"hsl\").hsl,h=this._color.alpha;return`hsl${t?\"a\":\"\"}(${Math.round(o)}, ${Math.round(i)}%, ${Math.round(n)}%${t?`, ${h}`:\"\"})`}case\"hex string\":{const t=this._colorOrigin.length===9||this._colorOrigin.length===5;return this._getHexString(!0,t)}case\"hex\":{const t=this._colorOrigin.length===8||this._colorOrigin.length===4;return this._getHexString(!1,t)}default:{const{r:t,g:o,b:i}=this._color.to(\"srgb\").srgb,n=this._colorOrigin[3]===\"a\",h=this._color.alpha;return this._colorOrigin.search(\"%\")>-1?`rgb${n?\"a\":\"\"}(${Math.round(t*100)}%, ${Math.round(o*100)}%, ${Math.round(i*100)}%${n?`,${Math.round(h*100)}%`:\"\"})`:`rgb${n?\"a\":\"\"}(${Math.round(t*255)}, ${Math.round(o*255)}, ${Math.round(i*255)}${n?`, ${h}`:\"\"})`}}}let r;if(this._colorOrigin)try{({spaceId:r}=new _(this._colorOrigin))}catch(s){const{h:t,s:o,l:i,v:n,r:h,g:f,b}=this._colorOrigin;typeof t!=\"undefined\"&&typeof o!=\"undefined\"&&typeof i!=\"undefined\"?r=\"hsl\":typeof t!=\"undefined\"&&typeof o!=\"undefined\"&&typeof n!=\"undefined\"?r=\"hsv\":typeof h!=\"undefined\"&&typeof f!=\"undefined\"&&typeof b!=\"undefined\"&&(r=\"srgb\")}else({spaceId:r}=this.color);switch(r){case\"hsv\":{const{h:s,s:t,v:o}=this._color.to(\"hsv\").hsv;return{h:s,s:t/100,v:o/100,a:this._color.alpha}}case\"hsl\":{const{h:s,s:t,l:o}=this._color.to(\"hsl\").hsl;return{h:s,s:t/100,l:o/100,a:this._color.alpha}}case\"srgb\":{const{r:s,g:t,b:o}=this._color.to(\"srgb\").srgb;return this._colorOrigin&&typeof this._colorOrigin.r==\"string\"&&this._colorOrigin.r.search(\"%\")?{r:`${Math.round(s*255)}%`,g:`${Math.round(t*255)}%`,b:`${Math.round(o*255)}%`,a:this._color.alpha}:{r:Math.round(s*255),g:Math.round(t*255),b:Math.round(o*255),a:this._color.alpha}}}return this._color}get hue(){return Number(this._color.to(\"hsl\").hsl.h)}set hue(r){this._color.set(\"h\",r),this.host.requestUpdate()}getColor(r){if(typeof r==\"string\"&&![\"srgb\",\"hsva\",\"hsv\",\"hsl\",\"hsla\"].includes(r))throw new Error(\"not a valid format\");return this._color.to(r)}getHslString(){return this._color.to(\"hsl\").toString()}savePreviousColor(){this._previousColor=this._color.clone()}restorePreviousColor(){this._color=this._previousColor}}\n//# sourceMappingURL=ColorController.js.map\n","\"use strict\";import{css as t}from\"@spectrum-web-components/base\";const o=t`\n    :host{position:relative}\n`;export default o;\n//# sourceMappingURL=color-field.css.js.map\n","\"use strict\";var u=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var n=(o,l,r,t)=>{for(var e=t>1?void 0:t?d(l,r):l,i=o.length-1,s;i>=0;i--)(s=o[i])&&(e=(t?s(l,r,e):s(e))||e);return t&&e&&u(l,r,e),e};import{html as a}from\"@spectrum-web-components/base\";import{property as v}from\"@spectrum-web-components/base/src/decorators.js\";import{ColorController as p}from\"@spectrum-web-components/reactive-controllers/src/ColorController.js\";import{TextfieldBase as h}from\"@spectrum-web-components/textfield\";import c from\"./color-field.css.js\";export class ColorField extends h{constructor(){super();this.viewColor=!1;this._value=\"\";this.colorController=new p(this)}static get styles(){return[...super.styles,c]}set value(r){if(r===this.value)return;const t=this._value;this._value=r,this.requestUpdate(\"value\",t)}get value(){return this._value}renderColorHandle(){return this.viewColor&&this.valid?a`\n                  <sp-color-handle\n                      size=\"m\"\n                      color=\"${this.colorController.getColor(\"srgb\").toString()}\"\n                  ></sp-color-handle>\n              `:a``}getColorValue(){return this.valid?this.colorController.getColor(\"srgb\").toString():\"\"}render(){return this.viewColor&&import(\"@spectrum-web-components/color-handle/sp-color-handle.js\"),a`\n            ${super.render()} ${this.renderColorHandle()}\n        `}checkValidity(){let r=super.checkValidity();return this.value?(this.valid=r=this.colorController.validateColorString(this.value).isValid,this.invalid=!r,this.valid&&(this.colorController.color=this.value)):this.valid=this.invalid=!1,r}}n([v({type:Boolean,attribute:\"view-color\"})],ColorField.prototype,\"viewColor\",2);\n//# sourceMappingURL=ColorField.js.map\n","\"use strict\";import{ColorField as e}from\"./src/ColorField.js\";customElements.define(\"sp-color-field\",e);\n//# sourceMappingURL=sp-color-field.js.map\n","\"use strict\";\nimport { html } from \"@spectrum-web-components/base\";\nimport \"@spectrum-web-components/color-field/sp-color-field.js\";\nexport const ColorFieldMarkup = ({\n  label = \"Color Field\",\n  quiet = false,\n  size = \"m\",\n  readonly = false,\n  disabled = false,\n  viewColor = false,\n  value = \"\"\n} = {}) => {\n  return html`\n        <sp-color-field\n            label=${label}\n            size=${size}\n            value=${value}\n            ?view-color=${viewColor}\n            ?quiet=${quiet}\n            ?readonly=${readonly}\n            ?disabled=${disabled}\n        ></sp-color-field>\n    `;\n};\nexport const Template = ColorFieldMarkup;\n//# sourceMappingURL=template.js.map\n","\n    import { Template } from '@swc-packages-internal/color-field/stories/template.js';\n    import { render } from 'lit';\n    const demo = document.querySelector('.demo-preview');\n    const config = document.querySelector('.demo-config');\n    function getArgs() {\n        const args = {};\n        if (!config) {\n            return args;\n        }\n        const form = config.querySelectorAll('.demo-control');\n        form.forEach(arg => {\n            args[arg.id] = arg.value === 'false' ? false : arg.value;\n        })\n        return args;\n    }\n    const renderDemo = (args = {}) => {\n        // Pass componentName to Template for variant detection\n        args.componentName = 'color-field';\n        render(Template(args), demo);\n    };\n    if (config) {\n        config.addEventListener('change', () => {\n            renderDemo(getArgs());\n        });\n    }\n    customElements.whenDefined('sp-picker').then(() => {\n        const defaultArgs = getArgs();\n        console.log(defaultArgs);\n        renderDemo(defaultArgs);\n    });\n"],"names":["ColorController","constructor","r","manageAs","s","this","_color","_","host","color","validateColorString","$","C","M","O","spaceId","coords","isValid","alpha","h","find","e","test","exec","f","b","y","v","g","c","filter","m","u","Number","a","includes","replace","d","l","p","map","length","parseInt","substring","colorOrigin","_colorOrigin","_getHexString","t","o","i","to","srgb","n","Math","round","toString","padStart","parse","Array","isArray","parseFloat","requestUpdate","colorValue","startsWith","hsv","hsl","search","hue","set","getColor","Error","getHslString","savePreviousColor","_previousColor","clone","restorePreviousColor","ColorField","super","viewColor","_value","colorController","styles","value","renderColorHandle","valid","getColorValue","render","import","checkValidity","invalid","type","Boolean","attribute","prototype","customElements","define","Template","ColorFieldMarkup","label","quiet","size","readonly","disabled","html","demo","document","querySelector","config","getArgs","args","querySelectorAll","forEach","arg","id","renderDemo","componentName","addEventListener","whenDefined","then","defaultArgs","console","log"],"mappings":"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"}