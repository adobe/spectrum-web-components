{"version":3,"file":"swc.eJQEZSgS.js","sources":["../../../tools/base/src/Base.js"],"sourcesContent":["\"use strict\";import{LitElement as m}from\"lit\";import{version as u}from\"@spectrum-web-components/base/src/version.js\";const c=new Set,g=()=>{const s=document.documentElement.dir===\"rtl\"?document.documentElement.dir:\"ltr\";c.forEach(o=>{o.setAttribute(\"dir\",s)})},w=new MutationObserver(g);w.observe(document.documentElement,{attributes:!0,attributeFilter:[\"dir\"]});const p=s=>typeof s.startManagingContentDirection!=\"undefined\"||s.tagName===\"SP-THEME\";export function SpectrumMixin(s){class o extends s{get isLTR(){return this.dir===\"ltr\"}hasVisibleFocusInTree(){const n=((r=document)=>{var l;let t=r.activeElement;for(;t!=null&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;const a=t?[t]:[];for(;t;){const i=t.assignedSlot||t.parentElement||((l=t.getRootNode())==null?void 0:l.host);i&&a.push(i),t=i}return a})(this.getRootNode())[0];if(!n)return!1;try{return n.matches(\":focus-visible\")||n.matches(\".focus-visible\")}catch(r){return n.matches(\".focus-visible\")}}connectedCallback(){if(!this.hasAttribute(\"dir\")){let e=this.assignedSlot||this.parentNode;for(;e!==document.documentElement&&!p(e);)e=e.assignedSlot||e.parentNode||e.host;if(this.dir=e.dir===\"rtl\"?e.dir:this.dir||\"ltr\",e===document.documentElement)c.add(this);else{const{localName:n}=e;n.search(\"-\")>-1&&!customElements.get(n)?customElements.whenDefined(n).then(()=>{e.startManagingContentDirection(this)}):e.startManagingContentDirection(this)}this._dirParent=e}super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._dirParent&&(this._dirParent===document.documentElement?c.delete(this):this._dirParent.stopManagingContentDirection(this),this.removeAttribute(\"dir\"))}}return o}export class SpectrumElement extends SpectrumMixin(m){}SpectrumElement.VERSION=u;\n//# sourceMappingURL=Base.js.map\n"],"names":["c","Set","w","MutationObserver","updateRTL","s","document","documentElement","dir","forEach","o","setAttribute","observe","attributes","attributeFilter","p","startManagingContentDirection","tagName","SpectrumElement","isLTR","this","hasVisibleFocusInTree","n","r","l","t","activeElement","shadowRoot","a","i","assignedSlot","parentElement","getRootNode","host","push","matches","connectedCallback","hasAttribute","e","parentNode","add","localName","search","customElements","get","whenDefined","then","_dirParent","super","disconnectedCallback","delete","stopManagingContentDirection","removeAttribute","SpectrumMixin","m","VERSION","u"],"mappings":"4EAgCA,MAAMA,EAAwC,IAAIC,IAY5CC,EAAc,IAAIC,kBAVNC,KACd,MAAMC,EAC+B,QAAjCC,SAASC,gBAAgBC,IACnBF,SAASC,gBAAgBC,IACzB,MACVR,EAAoBS,SAASC,IACzBA,EAAGC,aAAa,MAAON,EAC3B,GACJ,IAIAH,EAAYU,QAAQN,SAASC,gBAAiB,CAC1CM,YAAY,EACZC,gBAAiB,CAAC,SAOtB,MAAMC,EAA6BV,QACa,IAArCA,EAAGW,+BACK,aAAfX,EAAGY,QAkIA,MAAMC,UAhIG,SACZb,GA4HA,OA1HA,cAAmCA,EAe/B,SAAWc,GACP,MAAoB,QAAbC,KAAKZ,GAChB,CAEOa,qBAAAA,GA0BH,MAAMC,EAAA,EAzBgBC,EAAiBjB,YAlFnD,IAAAkB,EAoFgB,IAAIC,EAAcF,EAAKG,cACvB,KACI,MAAAD,GAAAA,EAAaE,YACbF,EAAYE,WAAWD,eAEvBD,EAAcA,EAAYE,WACrBD,cAET,MAAME,EAA2BH,EAC3B,CAACA,GACD,GACN,KAAOA,GAAa,CAChB,MAAMI,EACFJ,EAAYK,cACZL,EAAYM,gBACX,OAAAP,EAAAC,EAAYO,oBAAZ,EAAAR,EAA0CS,MAC3CJ,GACAD,EAAUM,KAAKL,GAEnBJ,EAAcI,CAClB,CACA,OAAOD,CACX,EACM,CACFR,KAAKY,eACP,GACF,IAAKV,EACD,OAAO,EAMX,IACI,OACIA,EAAca,QAAQ,mBACtBb,EAAca,QAAQ,iBAGrBZ,CAAAA,MAAAA,GACL,OAAOD,EAAca,QAAQ,iBAErC,CAAA,CAEgBC,iBAAAA,GACZ,IAAKhB,KAAKiB,aAAa,OAAQ,CAC3B,IAAIC,EAAclB,KAAqBU,cACnCV,KAAKmB,WACT,KACID,IAAchC,SAASC,kBACtBQ,EACGuB,IAGJA,EAAcA,EAA0BR,cACpCQ,EAAUC,YACTD,EACIL,KAIb,GAFAb,KAAKZ,IACiB,QAAlB8B,EAAU9B,IAAgB8B,EAAU9B,IAAMY,KAAKZ,KAAO,MACtD8B,IAAchC,SAASC,gBACvBP,EAAoBwC,IAAIpB,UACrB,CACH,MAAQqB,UAAAnB,GAAcgB,EAElBhB,EAAUoB,OAAO,MAAO,IACvBC,eAAeC,IAAItB,GAGpBqB,eAAeE,YAAYvB,GAAWwB,MAAK,KAEnCR,EACFtB,8BAA8BI,KACpC,IAECkB,EAAwBtB,8BACrBI,KAIZ,CAAAA,KAAK2B,WAAaT,CACtB,CACAU,MAAMZ,oBAGMa,oBAAAA,GACZD,MAAMC,uBACF7B,KAAK2B,aACD3B,KAAK2B,aAAezC,SAASC,gBAC7BP,EAAoBkD,OAAO9B,MAE1BA,KAAK2B,WAAyBI,6BAC3B/B,MAGRA,KAAKgC,gBAAgB,SAO9B,CAA8BC,CAAcC,KAAtCpC,EACFqC,QAAUC"}