{"version":3,"file":"swc.BQZY2DyP.js","sources":["../../../packages/tray/src/tray.css.js","../../../packages/tray/src/Tray.js","../../../packages/tray/sp-tray.js"],"sourcesContent":["\"use strict\";import{css as a}from\"@spectrum-web-components/base\";const r=a`\n    :host{justify-content:center;inline-size:100%;display:flex;position:fixed;inset-block-end:0;inset-inline-start:0}.tray{--spectrum-tray-max-inline-size:var(--mod-tray-max-inline-size,375px);--spectrum-tray-spacing-edge-to-tray-safe-zone:var(--mod-tray-spacing-edge-to-tray-safe-zone,64px);--spectrum-tray-entry-animation-delay:var(--mod-tray-entry-animation-delay,.16s);--spectrum-tray-entry-animation-duration:var(--mod-tray-entry-animation-duration,var(--spectrum-animation-duration-500));--spectrum-tray-exit-animation-delay:var(--mod-tray-exit-animation-delay,0s);--spectrum-tray-exit-animation-duration:var(--mod-tray-exit-animation-duration,var(--spectrum-animation-duration-100));--spectrum-tray-corner-radius:var(--mod-tray-corner-radius,var(--spectrum-corner-radius-100));--spectrum-tray-background-color:var(--highcontrast-tray-background-color,var(--mod-tray-background-color,var(--spectrum-background-layer-2-color)));--mod-modal-max-width:100%;max-block-size:calc(100vh - 64px);inline-size:100%;max-inline-size:100%;max-block-size:calc(100vh - var(--spectrum-tray-spacing-edge-to-tray-safe-zone));box-sizing:border-box;border-radius:0;border-radius:var(--mod-tray-corner-radius-portrait,0)var(--mod-tray-corner-radius-portrait,0)0 0;transition:opacity var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)0s,visibility var(--spectrum-tray-exit-animation-duration)linear calc(var(--spectrum-tray-exit-animation-duration)),transform var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)0s;transition:opacity var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)var(--spectrum-tray-exit-animation-delay),visibility var(--spectrum-tray-exit-animation-duration)linear calc(var(--spectrum-tray-exit-animation-delay) + var(--spectrum-tray-exit-animation-duration)),transform var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)var(--spectrum-tray-exit-animation-delay);background-color:var(--spectrum-tray-background-color);outline:none;margin-block-start:var(--spectrum-tray-spacing-edge-to-tray-safe-zone);padding-block-start:var(--mod-tray-top-to-content-area,var(--spectrum-tray-top-to-content-area));padding-block-end:var(--mod-tray-bottom-to-content-area,var(--spectrum-tray-top-to-content-area));overflow:auto;transform:translateY(100%)}:host([open]) .tray{transition:transform var(--spectrum-tray-entry-animation-duration)cubic-bezier(0,0,.4,1)var(--spectrum-tray-entry-animation-delay),opacity var(--spectrum-tray-entry-animation-duration)cubic-bezier(0,0,.4,1)var(--spectrum-tray-entry-animation-delay);transform:translateY(0)}@media screen and (orientation:landscape){.tray{max-inline-size:var(--spectrum-tray-max-inline-size);border-start-start-radius:var(--spectrum-tray-corner-radius);border-start-end-radius:var(--spectrum-tray-corner-radius)}}@media (forced-colors:active){.tray{--highcontrast-tray-background-color:Canvas;border:solid}.tray ::slotted(*){border:none}}:host{align-items:flex-end;max-height:100dvh;position:fixed!important}sp-underlay{touch-action:none}.tray{overscroll-behavior:contain;display:inline-flex}.visually-hidden,::slotted(.visually-hidden){clip:rect(0,0,0,0);clip-path:inset(50%);white-space:nowrap;border:0;width:1px;height:1px;margin:0 -1px -1px 0;padding:0;position:absolute;overflow:hidden}\n`;export default r;\n//# sourceMappingURL=tray.css.js.map\n","\"use strict\";var h=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var i=(n,r,e,s)=>{for(var t=s>1?void 0:s?m(r,e):r,o=n.length-1,a;o>=0;o--)(a=n[o])&&(t=(s?a(r,e,t):a(t))||t);return s&&t&&h(r,e,t),t};import{html as l,nothing as d,SpectrumElement as c}from\"@spectrum-web-components/base\";import{property as p,query as u,state as f}from\"@spectrum-web-components/base/src/decorators.js\";import\"@spectrum-web-components/underlay/sp-underlay.js\";import{firstFocusableIn as v}from\"@spectrum-web-components/shared/src/first-focusable-in.js\";import{MatchMediaController as b}from\"@spectrum-web-components/reactive-controllers/src/MatchMedia.js\";import y from\"@spectrum-web-components/modal/src/modal.css.js\";import g from\"./tray.css.js\";export class Tray extends c{constructor(){super(...arguments);this.open=!1;this.prefersMotion=new b(this,\"(prefers-reduced-motion: no-preference)\");this.transitionPromise=Promise.resolve();this.resolveTransitionPromise=()=>{};this.animating=!1;this.hasKeyboardDismissButton=!1;this.needsDismissHelper=!0}static get styles(){return[y,g]}focus(){const e=v(this);e?e.focus():this.children.length===1?this.tray.focus():super.focus()}overlayWillCloseCallback(){return this.open?(this.close(),!0):this.animating}close(){this.open=!1,this.prefersMotion.matches||this.dispatchClosed()}get dismissHelper(){return l`\n            <div class=\"visually-hidden\">\n                <button aria-label=\"Dismiss\" @click=${this.close}></button>\n            </div>\n        `}checkForDismissButtons(){if(!this.contentSlot){this.needsDismissHelper=!0;return}const e=this.contentSlot.assignedElements({flatten:!0});if(e.length===0){this.needsDismissHelper=!0;return}const s=e.some(t=>!!(t.tagName===\"SP-BUTTON\"||t.tagName===\"SP-CLOSE-BUTTON\"||t.tagName===\"BUTTON\"||t.tagName===\"SP-DIALOG\"&&t.hasAttribute(\"dismissable\")||t.tagName===\"SP-DIALOG-WRAPPER\"&&t.hasAttribute(\"dismissable\")||t.querySelectorAll(\"sp-button, sp-close-button, button\").length>0));this.needsDismissHelper=!s}handleSlotChange(){this.checkForDismissButtons()}dispatchClosed(){this.dispatchEvent(new Event(\"close\",{bubbles:!0}))}handleUnderlayTransitionend(){this.open||(this.resolveTransitionPromise(),this.dispatchClosed())}handleTrayTransitionend(){this.open&&this.resolveTransitionPromise()}firstUpdated(e){super.firstUpdated(e),this.checkForDismissButtons()}update(e){e.has(\"open\")&&e.get(\"open\")!==void 0&&this.prefersMotion.matches&&(this.animating=!0,this.transitionPromise=new Promise(s=>{this.resolveTransitionPromise=()=>{this.animating=!1,s()}})),super.update(e)}render(){return l`\n            <sp-underlay\n                ?open=${this.open}\n                @close=${this.close}\n                @transitionend=${this.handleUnderlayTransitionend}\n            ></sp-underlay>\n            <div\n                class=\"tray modal\"\n                tabindex=\"-1\"\n                @transitionend=${this.handleTrayTransitionend}\n            >\n                ${!this.hasKeyboardDismissButton&&this.needsDismissHelper?this.dismissHelper:d}\n                <slot @slotchange=${this.handleSlotChange}></slot>\n                ${!this.hasKeyboardDismissButton&&this.needsDismissHelper?this.dismissHelper:d}\n            </div>\n        `}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.transitionPromise,e}}i([p({type:Boolean,reflect:!0})],Tray.prototype,\"open\",2),i([u(\".tray\")],Tray.prototype,\"tray\",2),i([u(\"slot\")],Tray.prototype,\"contentSlot\",2),i([p({type:Boolean,attribute:\"has-keyboard-dismiss\"})],Tray.prototype,\"hasKeyboardDismissButton\",2),i([f()],Tray.prototype,\"needsDismissHelper\",2);\n//# sourceMappingURL=Tray.js.map\n","\"use strict\";import{Tray as e}from\"./src/Tray.js\";import{defineElement as a}from\"@spectrum-web-components/base/src/define-element.js\";a(\"sp-tray\",e);\n//# sourceMappingURL=sp-tray.js.map\n"],"names":["r","a","Tray","c","constructor","super","arguments","this","open","prefersMotion","b","transitionPromise","Promise","resolve","resolveTransitionPromise","animating","hasKeyboardDismissButton","needsDismissHelper","styles","y","g","focus","e","v","children","length","tray","overlayWillCloseCallback","close","matches","dispatchClosed","dismissHelper","l","checkForDismissButtons","contentSlot","assignedElements","flatten","s","some","t","tagName","hasAttribute","querySelectorAll","handleSlotChange","dispatchEvent","Event","bubbles","handleUnderlayTransitionend","handleTrayTransitionend","firstUpdated","update","has","get","render","d","getUpdateComplete","i","p","type","Boolean","reflect","prototype","u","attribute","f"],"mappings":"mZACA,MAAMA,EAASC,CAAA;;qICsCR,MAAMC,UAAaC,EAAnBC,WAAAA,GAAAC,SAAAC,WAMHC,KAAOC,MAAO,EAEdD,KAAUE,cAAgB,IAAIC,EAC1BH,KACA,2CAGJA,KAAQI,kBAAoBC,QAAQC,UAEpCN,KAAQO,yBAA2B,OAmBnCP,KAAQQ,WAAY,EAuBpBR,KAAOS,0BAA2B,EAoBlCT,KAAQU,oBAAqB,CAAA,CA5E7B,iBAA2BC,GACvB,MAAO,CAACC,EAAaC,EACzB,CAoBgBC,KAAAA,GACZ,MAAMC,EAAiBC,EAAiBhB,MACpCe,EACAA,EAAeD,QACiB,IAAzBd,KAAKiB,SAASC,OACrBlB,KAAKmB,KAAKL,QAEVhB,MAAMgB,QAMPM,wBAAAA,GACH,OAAKpB,KAAKC,MACVD,KAAKqB,SACE,GAFgBrB,KAAKQ,UAKzBa,KAAAA,GACHrB,KAAKC,MAAO,EACPD,KAAKE,cAAcoB,SACpBtB,KAAKuB,gBAEb,CAiBA,iBAAcC,GACV,OAAOC,CAAA;;sDAEuCzB,KAAKqB;;SAGvD,CAaQK,sBAAAA,GACJ,IAAK1B,KAAK2B,YAEN,YADA3B,KAAKU,oBAAqB,GAI9B,MAAMK,EAAkBf,KAAK2B,YAAYC,iBAAiB,CACtDC,SAAS,IAGb,GAA+B,IAA3Bd,EAAgBG,OAEhB,YADAlB,KAAKU,oBAAqB,GAI9B,MAAMoB,EAAmBf,EAAgBgB,KAAMC,MAGnB,cAApBA,EAAQC,SACY,oBAApBD,EAAQC,SACY,WAApBD,EAAQC,SAOY,cAApBD,EAAQC,SACRD,EAAQE,aAAa,gBAOD,sBAApBF,EAAQC,SACRD,EAAQE,aAAa,gBAMTF,EAAQG,iBACpB,sCAEQjB,OAAS,IAOzBlB,KAAKU,oBAAsBoB,CAC/B,CAEQM,gBAAAA,GACJpC,KAAK0B,wBACT,CAEQH,cAAAA,GACJvB,KAAKqC,cACD,IAAIC,MAAM,QAAS,CACfC,SAAS,IAGrB,CAEUC,2BAAAA,GACDxC,KAAKC,OACND,KAAKO,2BACLP,KAAKuB,iBAEb,CAEUkB,uBAAAA,GACFzC,KAAKC,MACLD,KAAKO,0BAEb,CAEmBmC,YAAAA,CAAa3B,GAC5BjB,MAAM4C,aAAa3B,GAEnBf,KAAK0B,wBACT,CAEmBiB,MAAAA,CAAO5B,GAElBA,EAAQ6B,IAAI,cACY,IAAxB7B,EAAQ8B,IAAI,SACZ7C,KAAKE,cAAcoB,UAEnBtB,KAAKQ,WAAY,EACjBR,KAAKI,kBAAoB,IAAIC,QAASyB,IAClC9B,KAAKO,yBAA2B,KAC5BP,KAAKQ,WAAY,EACjBsB,QAIZhC,MAAM6C,OAAO5B,EACjB,CAEmB+B,MAAAA,GACf,OAAOrB,CAAA;;wBAESzB,KAAKC;yBACJD,KAAKqB;iCACGrB,KAAKwC;;;;;iCAKLxC,KAAKyC;;mBAEnBzC,KAAKS,0BAA4BT,KAAKU,mBACnCV,KAAKwB,cACLuB;oCACc/C,KAAKoC;mBACtBpC,KAAKS,0BAA4BT,KAAKU,mBACnCV,KAAKwB,cACLuB;;UAalB,uBAAyBC,GACrB,MAAMjC,cAAwBiC,oBAC9B,aAAMhD,KAAKI,kBACJW,CACX,EAvNOkC,EAAA,CADNC,EAAS,CAAEC,KAAMC,QAASC,SAAS,KAL3B1D,EAMF2D,kBAYCL,EAAA,CADPM,EAAM,UAjBE5D,EAkBD2D,UAAA,QAGAL,EAAA,CADPM,EAAM,SApBE5D,EAqBD2D,UAAA,eAoCDL,GADNC,EAAS,CAAEC,KAAMC,QAASI,UAAW,0BAxD7B7D,EAyDF2D,UAAA,4BAoBCL,EAAA,CADPQ,KA5EQ9D,EA6ED2D,UAAA,sBCrGZ5D,EAAc,UAAWqB"}