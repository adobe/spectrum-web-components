{"version":3,"file":"swc.BuoeVPqT.js","sources":["../../../tools/reactive-controllers/src/RovingTabindex.js"],"sourcesContent":["\"use strict\";import{FocusGroupController as i}from\"./FocusGroup.js\";export class RovingTabindexController extends i{constructor(){super(...arguments);this.managed=!0;this.manageIndexesAnimationFrame=0}set focused(e){e!==this.focused&&(super.focused=e,this.manageTabindexes())}get focused(){return super.focused}clearElementCache(e=0){cancelAnimationFrame(this.manageIndexesAnimationFrame),super.clearElementCache(e),this.managed&&(this.manageIndexesAnimationFrame=requestAnimationFrame(()=>this.manageTabindexes()))}manageTabindexes(){this.focused&&!this.hostDelegatesFocus?this.updateTabindexes(()=>({tabIndex:-1})):this.updateTabindexes(e=>({removeTabIndex:e.contains(this.focusInElement)&&e!==this.focusInElement,tabIndex:e===this.focusInElement?0:-1}))}updateTabindexes(e){this.elements.forEach(a=>{const{tabIndex:n,removeTabIndex:s}=e(a);if(!s){this.focused?a!==this.elements[this.currentIndex]&&(a.tabIndex=n):a.tabIndex=n;return}const t=a;t.requestUpdate&&t.requestUpdate()})}manage(){this.managed=!0,this.manageTabindexes(),super.manage()}unmanage(){this.managed=!1,this.updateTabindexes(()=>({tabIndex:0})),super.unmanage()}hostUpdated(){super.hostUpdated(),this.host.hasUpdated||this.manageTabindexes()}}\n//# sourceMappingURL=RovingTabindex.js.map\n"],"names":["RovingTabindexController","i","constructor","super","arguments","this","managed","manageIndexesAnimationFrame","focused","e","manageTabindexes","clearElementCache","cancelAnimationFrame","requestAnimationFrame","hostDelegatesFocus","updateTabindexes","tabIndex","removeTabIndex","contains","focusInElement","elements","forEach","a","n","s","currentIndex","t","requestUpdate","manage","unmanage","hostUpdated","host","hasUpdated"],"mappings":"sCAmBO,MAAMA,UAEHC,EAFHC,WAAAA,GAAAC,SAAAC,WAaHC,KAAQC,SAAU,EAElBD,KAAQE,4BAA8B,CAAA,CAZtC,WAAuBC,CAAQC,GACvBA,IAAYJ,KAAKG,UACrBL,MAAMK,QAAUC,EAChBJ,KAAKK,mBACT,CAEA,WAAuBF,GACnB,OAAOL,MAAMK,OACjB,CAMSG,iBAAAA,CAAkBF,EAAS,GAChCG,qBAAqBP,KAAKE,6BAC1BJ,MAAMQ,kBAAkBF,GACnBJ,KAAKC,UAEVD,KAAKE,4BAA8BM,sBAAsB,IACrDR,KAAKK,oBAEb,CAEAA,gBAAAA,GACQL,KAAKG,UAAYH,KAAKS,mBACtBT,KAAKU,iBAAiB,KAAA,CAASC,UAAU,KAEzCX,KAAKU,iBAAkBN,IAAA,CAEfQ,eACIR,EAAGS,SAASb,KAAKc,iBACjBV,IAAOJ,KAAKc,eAChBH,SAAUP,IAAOJ,KAAKc,eAAiB,OAIvD,CAEAJ,gBAAAA,CAAiBN,GACbJ,KAAKe,SAASC,QAASC,IACnB,MAAQN,SAAAO,EAAUN,eAAAO,GAAmBf,EAAYa,GACjD,IAAKE,EAQD,YAPInB,KAAKG,QACDc,IAAOjB,KAAKe,SAASf,KAAKoB,gBAC1BH,EAAGN,SAAWO,GAGlBD,EAAGN,SAAWO,GAItB,MAAMG,EAAYJ,EAGdI,EAAUC,eAAeD,EAAUC,iBAE/C,CAESC,MAAAA,GACLvB,KAAKC,SAAU,EACfD,KAAKK,mBACLP,MAAMyB,QACV,CAESC,QAAAA,GACLxB,KAAKC,SAAU,EACfD,KAAKU,iBAAiB,KAAA,CAASC,SAAU,KACzCb,MAAM0B,UACV,CAESC,WAAAA,GACL3B,MAAM2B,cACDzB,KAAK0B,KAAKC,YACX3B,KAAKK,kBAEb"}