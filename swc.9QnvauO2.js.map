{"version":3,"file":"swc.2jb2TuJz.js","sources":["../../../packages/overlay/src/events.js","../../../packages/overlay/src/OverlayPopover.js","../../../packages/overlay/src/OverlayStack.js","../../../packages/overlay/src/PlacementController.js","../../../packages/overlay/src/overlay.css.js","../../../packages/overlay/src/Overlay.js","../../../packages/overlay/src/OverlayNoPopover.js"],"sourcesContent":["\"use strict\";export class BeforetoggleClosedEvent extends Event{constructor(){super(\"beforetoggle\",{bubbles:!1,composed:!1});this.currentState=\"open\";this.newState=\"closed\"}}export class BeforetoggleOpenEvent extends Event{constructor(){super(\"beforetoggle\",{bubbles:!1,composed:!1});this.currentState=\"closed\";this.newState=\"open\"}}export class OverlayStateEvent extends Event{constructor(r,l,{publish:o,interaction:s,reason:n}){super(r,{bubbles:o,composed:o});this.overlay=l;this.detail={interaction:s,reason:n}}}\n//# sourceMappingURL=events.js.map\n","\"use strict\";import{firstFocusableIn as E,firstFocusableSlottedIn as y}from\"@spectrum-web-components/shared/src/first-focusable-in.js\";import{VirtualTrigger as b}from\"./VirtualTrigger.js\";import{guaranteedAllTransitionend as w,nextFrame as c,overlayTimer as m}from\"./AbstractOverlay.js\";import{BeforetoggleClosedEvent as P,BeforetoggleOpenEvent as g,OverlayStateEvent as h}from\"./events.js\";import{userFocusableSelector as T}from\"@spectrum-web-components/shared\";const C=CSS.supports(\"(overlay: auto)\");function f(l){let a=!1;try{a=l.matches(\":popover-open\")}catch(e){}let p=!1;try{p=l.matches(\":open\")}catch(e){}return a||p}export function OverlayPopover(l){class a extends l{async manageDelay(e){if(e===!1||e!==this.open){m.close(this);return}this.delayed&&await m.openTimer(this)&&(this.open=!e)}async shouldHidePopover(e){if(e&&this.open!==e)return;const o=async({newState:i}={})=>{i!==\"open\"&&await this.placementController.resetOverlayPosition()};if(!f(this.dialogEl)){o();return}this.dialogEl.addEventListener(\"toggle\",o,{once:!0})}shouldShowPopover(e){let o=!1;try{o=this.dialogEl.matches(\":popover-open\")}catch(u){}let i=!1;try{i=this.dialogEl.matches(\":open\")}catch(u){}e&&this.open===e&&!o&&!i&&this.isConnected&&(this.dialogEl.showPopover(),this.managePosition())}async ensureOnDOM(e){C||await this.shouldHidePopover(e),this.shouldShowPopover(e),await c()}async makeTransition(e){if(this.open!==e)return null;let o=null;const i=(t,s)=>()=>{if(t.open=e,s===0){const r=e?g:P;this.dispatchEvent(new r)}if(!e||(t.matches(T)&&(o=t),o=o||E(t),o))return;t.querySelectorAll(\"slot\").forEach(r=>{o||(o=y(r))})},u=(t,s)=>async()=>{if(this.open!==e)return;const n=e?\"sp-opened\":\"sp-closed\";if(s>0){t.dispatchEvent(new h(n,this,{interaction:this.type,publish:!1}));return}const r=async()=>{if(this.open!==e)return;await c();const d=this.triggerElement instanceof b;this.dispatchEvent(new h(n,this,{interaction:this.type,publish:d})),t.dispatchEvent(new h(n,this,{interaction:this.type,publish:!1})),this.triggerElement&&!d&&this.triggerElement.dispatchEvent(new h(n,this,{interaction:this.type,publish:!0})),this.state=e?\"opened\":\"closed\",this.returnFocus(),await c(),await c(),e===this.open&&e===!1&&this.requestSlottable()};if(this.open!==e)return;const v=f(this.dialogEl);e!==!0&&v&&this.isConnected?(this.dialogEl.addEventListener(\"beforetoggle\",()=>{r()},{once:!0}),this.dialogEl.hidePopover()):r()};return this.elements.forEach((t,s)=>{w(t,i(t,s),u(t,s))}),o}}return a}\n//# sourceMappingURL=OverlayPopover.js.map\n","\"use strict\";const l=\"showPopover\"in document.createElement(\"div\");class d{constructor(){this.root=document.body;this.stack=[];this.originalBodyOverflow=\"\";this.bodyScrollBlocked=!1;this.handleScroll=t=>{t.target!==document&&t.target!==document.documentElement&&t.target!==document.body||this.stack.forEach(e=>{e.open&&(e.type===\"auto\"&&e.triggerElement instanceof HTMLElement&&e.triggerElement.closest(\"sp-picker, sp-action-menu\")&&t.stopPropagation(),document.dispatchEvent(new CustomEvent(\"sp-update-overlays\",{bubbles:!0,composed:!0,cancelable:!0})))})};this.handlePointerdown=t=>{if(!this.stack.length)return;const e=t.composedPath(),s=this.stack.filter(o=>o.open&&o.type===\"page\");if(s.length>0&&!this.isEventInsideModal(e,s)){t.preventDefault(),t.stopImmediatePropagation();return}this.pointerdownPath=e,this.lastOverlay=this.stack[this.stack.length-1]};this.handleClick=t=>{if(!this.stack.length)return;const e=this.getModalOverlays();if(!e.length)return;const s=e.filter(r=>r.type===\"page\");if(!s.length)return;const o=t.composedPath();this.isEventInsideModal(o,s)||(t.stopImmediatePropagation(),t.preventDefault())};this.handlePointerup=()=>{const t=this.pointerdownPath;if(this.pointerdownPath=void 0,!this.stack.length||!(t!=null&&t.length))return;const e=this.lastOverlay;this.lastOverlay=void 0;const s=this.stack.length-1;if(this.stack.some(n=>n.open&&(n.type===\"modal\"||n.type===\"page\"))&&t.some(i=>i instanceof HTMLDivElement&&i.classList.contains(\"modal-backdrop\"))){const i=this.stack[this.stack.length-1];(i==null?void 0:i.type)===\"modal\"&&this.closeOverlay(i);return}const r=this.stack.filter((n,i)=>!t.find(c=>c===n||c===(n==null?void 0:n.triggerElement)&&(n==null?void 0:n.type)===\"hint\"||i===s&&n!==e&&n.triggerInteraction===\"longpress\")&&!n.shouldPreventClose()&&n.type!==\"manual\"&&!(n.type===\"modal\"&&e!==n));r.reverse(),r.forEach(n=>{this.closeOverlay(n);let i=n.parentOverlayToForceClose;for(;i;)this.closeOverlay(i),i=i.parentOverlayToForceClose})};this.handleBeforetoggle=t=>{const{target:e,newState:s}=t;s!==\"open\"&&this.closeOverlay(e)};this.handleKeydown=t=>{if(t.code!==\"Escape\"||!this.stack.length)return;const e=this.stack[this.stack.length-1];if((e==null?void 0:e.type)===\"hint\"){t.preventDefault(),t.stopPropagation(),this.closeOverlay(e);return}if((e==null?void 0:e.type)===\"page\"){t.preventDefault();return}if((e==null?void 0:e.type)===\"manual\"){this.closeOverlay(e);return}if((e==null?void 0:e.type)===\"modal\"){this.closeOverlay(e);return}l||e&&this.closeOverlay(e)};this.bindEvents()}get document(){return this.root.ownerDocument||document}bindEvents(){this.document.addEventListener(\"pointerdown\",this.handlePointerdown,{capture:!0}),this.document.addEventListener(\"pointerup\",this.handlePointerup),this.document.addEventListener(\"click\",this.handleClick,{capture:!0}),this.document.addEventListener(\"keydown\",this.handleKeydown),this.document.addEventListener(\"scroll\",this.handleScroll,{capture:!0})}closeOverlay(t){const e=this.stack.indexOf(t);e>-1&&this.stack.splice(e,1),t.open=!1,this.manageBodyScroll()}manageBodyScroll(){const t=this.stack.some(e=>e.type===\"modal\"||e.type===\"page\");t&&!this.bodyScrollBlocked?(this.originalBodyOverflow=document.body.style.overflow||\"\",document.body.style.overflow=\"hidden\",this.bodyScrollBlocked=!0):!t&&this.bodyScrollBlocked&&(document.body.style.overflow=this.originalBodyOverflow,this.bodyScrollBlocked=!1)}getModalOverlays(){return this.stack.filter(t=>t.open&&(t.type===\"modal\"||t.type===\"page\"))}isEventInsideModal(t,e){for(const s of e){if(t.includes(s))return!0;const o=s.dialogEl;if(o){if(t.includes(o))return!0;for(const r of t)if(r instanceof Node&&o.contains(r))return!0}}return!1}overlaysByTriggerElement(t){return this.stack.filter(e=>e.triggerElement===t)}add(t){if(this.stack.includes(t)){const e=this.stack.indexOf(t);e>-1&&(this.stack.splice(e,1),this.stack.push(t));return}if(t.type===\"auto\"||t.type===\"modal\"||t.type===\"page\"){const e=\"sp-overlay-query-path\",s=new Event(e,{composed:!0,bubbles:!0});t.addEventListener(e,o=>{const r=o.composedPath();this.stack.forEach(n=>{!r.find(a=>a===n)&&n.type!==\"manual\"&&n.type!==\"modal\"&&this.closeOverlay(n)})},{once:!0}),t.dispatchEvent(s)}else if(t.type===\"hint\"){if(this.stack.some(s=>s.type!==\"manual\"&&s.triggerElement&&s.triggerElement===t.triggerElement)){t.open=!1;return}this.stack.forEach(s=>{s.type===\"hint\"&&this.closeOverlay(s)})}requestAnimationFrame(()=>{this.stack.push(t),t.addEventListener(\"beforetoggle\",this.handleBeforetoggle,{once:!0}),this.manageBodyScroll()})}remove(t){this.closeOverlay(t)}}export const overlayStack=new d;\n//# sourceMappingURL=OverlayStack.js.map\n","\"use strict\";import{arrow as w,autoUpdate as v,computePosition as H,flip as y,offset as R,shift as A,size as M}from\"@floating-ui/dom\";import{isWebKit as C}from\"@spectrum-web-components/shared\";function p(o){if(typeof o==\"undefined\")return 0;const t=window.devicePixelRatio||1;return Math.round(o*t)/t}const c=8,T=100,L=o=>{var e;return(e={left:[\"right\",\"bottom\",\"top\"],\"left-start\":[\"right-start\",\"bottom\",\"top\"],\"left-end\":[\"right-end\",\"bottom\",\"top\"],right:[\"left\",\"bottom\",\"top\"],\"right-start\":[\"left-start\",\"bottom\",\"top\"],\"right-end\":[\"left-end\",\"bottom\",\"top\"],top:[\"bottom\",\"left\",\"right\"],\"top-start\":[\"bottom-start\",\"left\",\"right\"],\"top-end\":[\"bottom-end\",\"left\",\"right\"],bottom:[\"top\",\"left\",\"right\"],\"bottom-start\":[\"top-start\",\"left\",\"right\"],\"bottom-end\":[\"top-end\",\"left\",\"right\"]}[o])!=null?e:[o]};export const placementUpdatedSymbol=Symbol(\"placement updated\");export class PlacementController{constructor(t){this.originalPlacements=new WeakMap;this.allowPlacementUpdate=!1;this.closeForAncestorUpdate=()=>{!this.allowPlacementUpdate&&this.options.type!==\"modal\"&&this.cleanup&&this.target.dispatchEvent(new Event(\"close\",{bubbles:!0})),this.allowPlacementUpdate=!1};this.updatePlacement=()=>{this.computePlacement()};this.resetOverlayPosition=()=>{!this.target||!this.options||(this.clearOverlayPosition(),this.host.offsetHeight,this.computePlacement())};this.host=t,this.host.addController(this)}async placeOverlay(t=this.target,e=this.options){if(this.target=t,this.options=e,!t||!e)return;const m=v(e.trigger,t,this.closeForAncestorUpdate,{ancestorResize:!1,elementResize:!1,layoutShift:!1}),h=v(e.trigger,t,this.updatePlacement,{ancestorScroll:!1});this.cleanup=()=>{var n;(n=this.host.elements)==null||n.forEach(a=>{a.addEventListener(\"sp-closed\",()=>{const r=this.originalPlacements.get(a);r&&a.setAttribute(\"placement\",r),this.originalPlacements.delete(a)},{once:!0})}),m(),h()}}async computePlacement(){var g,u;const{options:t,target:e}=this;await(document.fonts?document.fonts.ready:Promise.resolve()),C()&&await new Promise(i=>requestAnimationFrame(i));const m=t.trigger instanceof HTMLElement?y():y({padding:c,fallbackPlacements:L(t.placement)}),[h=0,n=0]=Array.isArray(t==null?void 0:t.offset)?t.offset:[t.offset,0],a=(g=this.host.elements.find(i=>i.tipElement))==null?void 0:g.tipElement,r=[R({mainAxis:h,crossAxis:n}),A({padding:c}),m,M({padding:c,apply:({availableWidth:i,availableHeight:d,rects:{floating:x}})=>{const b=Math.max(T,Math.floor(d)),l=x.height;this.initialHeight=this.isConstrained&&this.initialHeight||l,this.isConstrained=l<this.initialHeight||b<=l;const O=this.isConstrained?`${b}px`:\"\";Object.assign(e.style,{maxWidth:`${Math.floor(i)}px`,maxHeight:O})}}),...a?[w({element:a,padding:t.tipPadding||c})]:[]],{x:P,y:E,placement:s,middlewareData:f}=await H(t.trigger,e,{placement:t.placement,middleware:r,strategy:\"fixed\"});if(Object.assign(e.style,{top:\"0px\",left:\"0px\",translate:`${p(P)}px ${p(E)}px`}),e.setAttribute(\"actual-placement\",s),(u=this.host.elements)==null||u.forEach(i=>{this.originalPlacements.has(i)||this.originalPlacements.set(i,i.getAttribute(\"placement\")),i.setAttribute(\"placement\",s)}),a&&f.arrow){const{x:i,y:d}=f.arrow;Object.assign(a.style,{top:s.startsWith(\"right\")||s.startsWith(\"left\")?\"0px\":\"\",left:s.startsWith(\"bottom\")||s.startsWith(\"top\")?\"0px\":\"\",translate:`${p(i)}px ${p(d)}px`})}}clearOverlayPosition(){this.target&&(this.target.style.removeProperty(\"max-height\"),this.target.style.removeProperty(\"max-width\"),this.initialHeight=void 0,this.isConstrained=!1)}hostConnected(){document.addEventListener(\"sp-update-overlays\",this.resetOverlayPosition)}hostUpdated(){var t;this.host.open||((t=this.cleanup)==null||t.call(this),this.cleanup=void 0)}hostDisconnected(){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0,document.removeEventListener(\"sp-update-overlays\",this.resetOverlayPosition)}}\n//# sourceMappingURL=PlacementController.js.map\n","\"use strict\";import{css as a}from\"@spectrum-web-components/base\";const o=a`\n    :host{pointer-events:none;--swc-overlay-animation-distance:var(--spectrum-spacing-100);display:contents}:host(:has(>sp-tooltip)){--swc-overlay-animation-distance:var(--spectrum-tooltip-animation-distance)}.dialog{box-sizing:border-box;--sp-overlay-open:true;background:0 0;border:0;max-width:calc(100vw - 16px);height:auto;max-height:calc(100dvh - 16px);margin:0;padding:0;display:flex;position:fixed;inset:0 auto auto 0;overflow:visible;opacity:1!important}.dialog:not([is-visible]){display:none}.dialog:focus{outline:none}dialog:modal{--mod-popover-filter:var(--spectrum-popover-filter)}:host(:not([open])) .dialog{--sp-overlay-open:false}.dialog::backdrop{display:none}.dialog:before{content:\"\";position:absolute;inset:-999em;pointer-events:auto!important}.dialog:not(.not-immediately-closable):before{display:none}.dialog>div{width:100%}::slotted(*){pointer-events:auto;visibility:visible!important}::slotted(sp-popover){position:static}.dialog:not([actual-placement])[placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog:not([actual-placement])[placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}slot[name=longpress-describedby-descriptor]{display:none}.modal-backdrop{z-index:999998;pointer-events:auto;background:0 0;position:fixed;inset:0}@supports selector(:open){.dialog{opacity:0}.dialog:open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports selector(:popover-open){.dialog{opacity:0}.dialog:popover-open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports (overlay:auto){.dialog{transition:all var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s)),translate 0s,display var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s));transition-behavior:allow-discrete;display:none}.dialog:popover-open{display:flex}}@supports (not selector(:open)) and (not selector(:popover-open)){:host:not([open]) .dialog{pointer-events:none}.dialog[actual-placement]{z-index:calc(var(--swc-overlay-z-index-base,1000) + var(--swc-overlay-open-count))}}\n`;export default o;\n//# sourceMappingURL=overlay.css.js.map\n","\"use strict\";var y=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var r=(m,l,e,t)=>{for(var i=t>1?void 0:t?E(l,e):l,s=m.length-1,a;s>=0;s--)(a=m[s])&&(i=(t?a(l,e,i):a(i))||i);return t&&i&&y(l,e,i),i};import{html as d,nothing as w}from\"@spectrum-web-components/base\";import{property as n,query as g,queryAssignedElements as C,state as T}from\"@spectrum-web-components/base/src/decorators.js\";import{ElementResolutionController as P,elementResolverUpdatedSymbol as S}from\"@spectrum-web-components/reactive-controllers/src/ElementResolution.js\";import{ifDefined as h,styleMap as O}from\"@spectrum-web-components/base/src/directives.js\";import{randomID as L}from\"@spectrum-web-components/shared/src/random-id.js\";import{AbstractOverlay as f,nextFrame as u}from\"./AbstractOverlay.js\";import{OverlayPopover as R}from\"./OverlayPopover.js\";import{OverlayNoPopover as k}from\"./OverlayNoPopover.js\";import{overlayStack as v}from\"./OverlayStack.js\";import{VirtualTrigger as M}from\"./VirtualTrigger.js\";import{PlacementController as H}from\"./PlacementController.js\";export{LONGPRESS_INSTRUCTIONS}from\"./LongpressController.js\";import{strategies as F}from\"./strategies.js\";import{removeSlottableRequest as $,SlottableRequestEvent as N}from\"./slottable-request-event.js\";import q from\"./overlay.css.js\";const I=\"showPopover\"in document.createElement(\"div\");let b=R(f);I||(b=k(f));const o=class o extends b{constructor(){super(...arguments);this._delayed=!1;this._disabled=!1;this.offset=0;this._open=!1;this.lastRequestSlottableState=!1;this.receivesFocus=\"auto\";this.allowOutsideClick=!1;this._state=\"closed\";this.triggerElement=null;this.type=\"auto\";this.wasOpen=!1;this._focusTrap=null;this.closeOnFocusOut=e=>{if(!e.relatedTarget)return;const t=new Event(\"overlay-relation-query\",{bubbles:!0,composed:!0});e.relatedTarget.addEventListener(t.type,i=>{i.composedPath().some(p=>p===this)||(this.open=!1)}),e.relatedTarget.dispatchEvent(t)};this.closeOnCancelEvent=()=>{this.open=!1}}get delayed(){var e;return((e=this.elements.at(-1))==null?void 0:e.hasAttribute(\"delayed\"))||this._delayed}set delayed(e){this._delayed=e}get disabled(){return this._disabled}set disabled(e){var t;this._disabled=e,e?((t=this.strategy)==null||t.abort(),this.wasOpen=this.open,this.open=!1):(this.bindEvents(),this.open=this.open||this.wasOpen,this.wasOpen=!1)}get hasNonVirtualTrigger(){return!!this.triggerElement&&!(this.triggerElement instanceof M)}get placementController(){return this._placementController||(this._placementController=new H(this)),this._placementController}get open(){return this._open}set open(e){var t;e&&this.disabled||e!==this.open&&((t=this.strategy)!=null&&t.activelyOpening&&!e||(this._open=e,this.open&&(o.openCount+=1),this.requestUpdate(\"open\",!this.open),this.open&&this.requestSlottable()))}get state(){return this._state}set state(e){var i;if(e===this.state)return;const t=this.state;this._state=e,(this.state===\"opened\"||this.state===\"closed\")&&((i=this.strategy)==null||i.shouldCompleteOpen()),this.requestUpdate(\"state\",t)}get elementResolver(){return this._elementResolver||(this._elementResolver=new P(this)),this._elementResolver}get popoverValue(){if(\"popover\"in this)switch(this.type){case\"modal\":return\"manual\";case\"page\":return\"manual\";case\"hint\":return\"manual\";default:return this.type}}get requiresPositioning(){return!(this.type===\"page\"||!this.open||!this.triggerElement||!this.placement&&this.type!==\"hint\")}get needsModalBackdrop(){return this.open&&(this.type===\"modal\"||this.type===\"page\")}managePosition(){if(!this.requiresPositioning||!this.open)return;const e=this.offset||0,t=this.triggerElement,i=this.placement||\"right\",s=this.tipPadding;this.placementController.placeOverlay(this.dialogEl,{offset:e,placement:i,tipPadding:s,trigger:t,type:this.type})}async managePopoverOpen(){super.managePopoverOpen();const e=this.open;if(this.open!==e||(await this.manageDelay(e),this.open!==e)||(this.triggerInteraction===\"longpress\"&&await u(),await this.ensureOnDOM(e),this.open!==e))return;const t=await this.makeTransition(e);if(this.open===e){if(e){const i=await import(\"focus-trap\");this._focusTrap=i.createFocusTrap(this.dialogEl,{initialFocus:t||void 0,tabbableOptions:{getShadowRoot:!0},fallbackFocus:()=>(this.dialogEl.setAttribute(\"tabIndex\",\"-1\"),this.dialogEl),escapeDeactivates:!1,allowOutsideClick:this.allowOutsideClick}),(this.type===\"modal\"||this.type===\"page\")&&this._focusTrap.activate()}await this.applyFocus(e,t)}}async applyFocus(e,t){if(!(this.receivesFocus===\"false\"||this.type===\"hint\")){if(await u(),await u(),e===this.open&&!this.open){this.hasNonVirtualTrigger&&this.contains(this.getRootNode().activeElement)&&this.triggerElement.focus();return}t==null||t.focus()}}returnFocus(){var t;if(this.open||this.type===\"hint\")return;const e=()=>{var a,p;const i=[];let s=document.activeElement;for(;(a=s==null?void 0:s.shadowRoot)!=null&&a.activeElement;)s=s.shadowRoot.activeElement;for(;s;){const c=s.assignedSlot||s.parentElement||((p=s.getRootNode())==null?void 0:p.host);c&&i.push(c),s=c}return i};this.receivesFocus!==\"false\"&&((t=this.triggerElement)!=null&&t.focus)&&(this.contains(this.getRootNode().activeElement)||e().includes(this)||document.activeElement===document.body)&&this.triggerElement.focus()}async manageOpen(e){var i;if(!this.isConnected&&this.open)return;this.hasUpdated||await this.updateComplete,this.open?(v.add(this),this.willPreventClose&&(document.addEventListener(\"pointerup\",()=>{this.dialogEl.classList.toggle(\"not-immediately-closable\",!1),this.willPreventClose=!1},{once:!0}),this.dialogEl.classList.toggle(\"not-immediately-closable\",!0))):(e&&((i=this._focusTrap)==null||i.deactivate(),this._focusTrap=null,this.dispose()),v.remove(this)),this.open&&this.state!==\"opened\"?this.state=\"opening\":!this.open&&this.state!==\"closed\"&&(this.state=\"closing\"),this.managePopoverOpen();const t=this.getRootNode();this.type===\"auto\"&&(this.open?t.addEventListener(\"focusout\",this.closeOnFocusOut,{capture:!0}):t.removeEventListener(\"focusout\",this.closeOnFocusOut,{capture:!0})),(this.type===\"modal\"||this.type===\"page\")&&(this.open?t.addEventListener(\"cancel\",this.closeOnCancelEvent,{capture:!0}):t.removeEventListener(\"cancel\",this.closeOnCancelEvent,{capture:!0}))}bindEvents(){var e;(e=this.strategy)==null||e.abort(),this.strategy=void 0,this.hasNonVirtualTrigger&&this.triggerInteraction&&(this.strategy=new F[this.triggerInteraction](this.triggerElement,{overlay:this}))}handleBeforetoggle(e){e.newState!==\"open\"&&this.handleBrowserClose(e)}handleBrowserClose(e){var t;if(e.stopPropagation(),!((t=this.strategy)!=null&&t.activelyOpening)){this.open=!1;return}this.manuallyKeepOpen()}manuallyKeepOpen(){this.open=!0,this.placementController.allowPlacementUpdate=!0,this.manageOpen(!1)}handleSlotchange(){var e,t;this.elements.length?this.hasNonVirtualTrigger&&((t=this.strategy)==null||t.prepareDescription(this.triggerElement)):(e=this.strategy)==null||e.releaseDescription()}shouldPreventClose(){const e=this.willPreventClose;return this.willPreventClose=!1,e}requestSlottable(){this.lastRequestSlottableState!==this.open&&(this.open||document.body.offsetHeight,this.dispatchEvent(new N(\"overlay-content\",this.open?{}:$)),this.lastRequestSlottableState=this.open)}willUpdate(e){var i;if(this.hasAttribute(\"id\")||this.setAttribute(\"id\",`${this.tagName.toLowerCase()}-${L()}`),e.has(\"allowOutsideClick\")&&this.allowOutsideClick&&console.warn(`[${this.localName}] The \"allow-outside-click\" attribute has been deprecated and will be removed in a future release. We do not recommend using this attribute for accessibility reasons. It allows clicks outside the overlay to close it, which can cause unexpected behavior and accessibility issues.`),e.has(\"open\")&&(this.hasUpdated||this.open)&&this.manageOpen(e.get(\"open\")),e.has(\"trigger\")){const[s,a]=((i=this.trigger)==null?void 0:i.split(\"@\"))||[];this.elementResolver.selector=s?`#${s}`:\"\",this.triggerInteraction=a}let t=!1;e.has(S)&&(t=this.triggerElement,this.triggerElement=this.elementResolver.element),e.has(\"triggerElement\")&&(t=e.get(\"triggerElement\")),t!==!1&&this.bindEvents()}updated(e){super.updated(e),e.has(\"placement\")&&(this.placement?this.dialogEl.setAttribute(\"actual-placement\",this.placement):this.dialogEl.removeAttribute(\"actual-placement\"),this.open&&typeof e.get(\"placement\")!=\"undefined\"&&this.placementController.resetOverlayPosition()),e.has(\"state\")&&this.state===\"closed\"&&typeof e.get(\"state\")!=\"undefined\"&&this.placementController.clearOverlayPosition()}renderContent(){return d`\n            <slot @slotchange=${this.handleSlotchange}></slot>\n        `}get dialogStyleMap(){return{\"--swc-overlay-open-count\":o.openCount.toString()}}renderPopover(){return d`\n            ${this.needsModalBackdrop?d`\n                      <div class=\"modal-backdrop\"></div>\n                  `:w}\n            <div\n                class=\"dialog\"\n                part=\"dialog\"\n                role=${h(this.type===\"modal\"||this.type===\"page\"?\"dialog\":void 0)}\n                aria-modal=${h(this.type===\"modal\"||this.type===\"page\"?\"true\":void 0)}\n                placement=${h(this.requiresPositioning?this.placement||\"right\":void 0)}\n                popover=${h(this.popoverValue)}\n                style=${O(this.dialogStyleMap)}\n                @beforetoggle=${this.handleBeforetoggle}\n                @close=${this.handleBrowserClose}\n                ?is-visible=${this.state!==\"closed\"}\n            >\n                ${this.renderContent()}\n            </div>\n        `}render(){return d`\n            ${this.renderPopover()}\n            <slot name=\"longpress-describedby-descriptor\"></slot>\n        `}connectedCallback(){super.connectedCallback(),this.addEventListener(\"close\",()=>{this.open=!1}),this.hasUpdated&&this.bindEvents()}disconnectedCallback(){var e;(e=this.strategy)==null||e.releaseDescription(),this.open=!1,super.disconnectedCallback()}};o.styles=[q],o.openCount=1,r([n({type:Boolean})],o.prototype,\"delayed\",1),r([g(\".dialog\")],o.prototype,\"dialogEl\",2),r([n({type:Boolean})],o.prototype,\"disabled\",1),r([C({flatten:!0,selector:':not([slot=\"longpress-describedby-descriptor\"], slot)'})],o.prototype,\"elements\",2),r([n({type:Number})],o.prototype,\"offset\",2),r([n({type:Boolean,reflect:!0})],o.prototype,\"open\",1),r([n()],o.prototype,\"placement\",2),r([n({attribute:\"receives-focus\"})],o.prototype,\"receivesFocus\",2),r([n({type:Boolean,attribute:\"allow-outside-click\"})],o.prototype,\"allowOutsideClick\",2),r([g(\"slot\")],o.prototype,\"slotEl\",2),r([T()],o.prototype,\"state\",1),r([n({type:Number,attribute:\"tip-padding\"})],o.prototype,\"tipPadding\",2),r([n()],o.prototype,\"trigger\",2),r([n({attribute:!1})],o.prototype,\"triggerElement\",2),r([n({attribute:!1})],o.prototype,\"triggerInteraction\",2),r([n()],o.prototype,\"type\",2);export let Overlay=o;\n//# sourceMappingURL=Overlay.js.map\n","\"use strict\";import{firstFocusableIn as p,firstFocusableSlottedIn as f}from\"@spectrum-web-components/shared/src/first-focusable-in.js\";import{VirtualTrigger as d}from\"./VirtualTrigger.js\";import{guaranteedAllTransitionend as v,nextFrame as l,overlayTimer as c}from\"./AbstractOverlay.js\";import{BeforetoggleClosedEvent as y,BeforetoggleOpenEvent as E,OverlayStateEvent as s}from\"./events.js\";import{userFocusableSelector as b}from\"@spectrum-web-components/shared\";export function OverlayNoPopover(a){class m extends a{async managePopoverOpen(){await this.managePosition()}async manageDelay(e){if(e===!1||e!==this.open){c.close(this);return}this.delayed&&await c.openTimer(this)&&(this.open=!e)}async ensureOnDOM(e){document.body.offsetHeight}async makeTransition(e){if(this.open!==e)return null;let o=null;const h=(t,r)=>()=>{if(e!==this.open)return;if(t.open=e,r===0){const i=e?E:y;this.dispatchEvent(new i)}if(e!==!0||(t.matches(b)&&(o=t),o=o||p(t),o))return;t.querySelectorAll(\"slot\").forEach(i=>{o||(o=f(i))})},u=(t,r)=>async()=>{if(this.open!==e)return;const n=e?\"sp-opened\":\"sp-closed\";if(t.dispatchEvent(new s(n,this,{interaction:this.type})),r>0)return;const i=this.triggerElement instanceof d;this.dispatchEvent(new s(n,this,{interaction:this.type,publish:i})),this.triggerElement&&!i&&this.triggerElement.dispatchEvent(new s(n,this,{interaction:this.type,publish:!0})),this.state=e?\"opened\":\"closed\",this.returnFocus(),await l(),await l(),e===this.open&&e===!1&&this.requestSlottable()};return this.elements.forEach((t,r)=>{v(t,h(t,r),u(t,r))}),o}}return m}\n//# sourceMappingURL=OverlayNoPopover.js.map\n"],"names":["BeforetoggleClosedEvent","Event","constructor","super","bubbles","composed","this","currentState","newState","BeforetoggleOpenEvent","OverlayStateEvent","r","l","publish","o","interaction","s","reason","n","overlay","detail","C","CSS","supports","f","a","matches","e","p","document","createElement","overlayStack","root","body","stack","originalBodyOverflow","bodyScrollBlocked","handleScroll","t","target","documentElement","forEach","open","type","triggerElement","HTMLElement","closest","stopPropagation","dispatchEvent","CustomEvent","cancelable","handlePointerdown","length","composedPath","filter","isEventInsideModal","preventDefault","stopImmediatePropagation","pointerdownPath","lastOverlay","handleClick","getModalOverlays","handlePointerup","some","i","HTMLDivElement","classList","contains","closeOverlay","find","c","triggerInteraction","shouldPreventClose","reverse","parentOverlayToForceClose","handleBeforetoggle","handleKeydown","code","bindEvents","ownerDocument","addEventListener","capture","indexOf","splice","manageBodyScroll","style","overflow","includes","dialogEl","Node","overlaysByTriggerElement","add","push","once","requestAnimationFrame","remove","window","devicePixelRatio","Math","round","L","left","right","top","bottom","PlacementController","originalPlacements","WeakMap","allowPlacementUpdate","closeForAncestorUpdate","options","cleanup","updatePlacement","computePlacement","resetOverlayPosition","clearOverlayPosition","host","offsetHeight","addController","placeOverlay","m","v","trigger","ancestorResize","elementResize","layoutShift","h","ancestorScroll","elements","get","setAttribute","delete","g","u","fonts","ready","Promise","resolve","y","padding","fallbackPlacements","placement","Array","isArray","offset","tipElement","R","mainAxis","crossAxis","A","M","apply","availableWidth","availableHeight","d","rects","floating","x","b","max","floor","height","initialHeight","isConstrained","O","Object","assign","maxWidth","maxHeight","w","element","tipPadding","P","E","middlewareData","H","middleware","strategy","translate","has","set","getAttribute","arrow","startsWith","removeProperty","hostConnected","hostUpdated","call","hostDisconnected","removeEventListener","I","manageDelay","delayed","openTimer","close","shouldHidePopover","async","placementController","shouldShowPopover","isConnected","showPopover","managePosition","ensureOnDOM","makeTransition","start","T","querySelectorAll","finish","state","returnFocus","requestSlottable","hidePopover","managePopoverOpen","arguments","_delayed","_disabled","_open","lastRequestSlottableState","receivesFocus","allowOutsideClick","_state","wasOpen","_focusTrap","closeOnFocusOut","relatedTarget","closeOnCancelEvent","at","hasAttribute","disabled","abort","hasNonVirtualTrigger","_placementController","activelyOpening","openCount","requestUpdate","shouldCompleteOpen","elementResolver","_elementResolver","popoverValue","requiresPositioning","needsModalBackdrop","import","createFocusTrap","initialFocus","tabbableOptions","getShadowRoot","fallbackFocus","escapeDeactivates","activate","applyFocus","getRootNode","activeElement","focus","getAncestors","shadowRoot","assignedSlot","parentElement","manageOpen","hasUpdated","updateComplete","willPreventClose","toggle","deactivate","dispose","F","handleBrowserClose","manuallyKeepOpen","handleSlotchange","prepareDescription","releaseDescription","N","$","willUpdate","tagName","toLowerCase","console","warn","localName","split","selector","S","updated","removeAttribute","renderContent","dialogStyleMap","toString","renderPopover","render","connectedCallback","disconnectedCallback","styles","q","Boolean","prototype","flatten","Number","reflect","attribute","Overlay"],"mappings":"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"}