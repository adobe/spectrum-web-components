{"version":3,"file":"swc.DAuNWlVo.js","sources":["../../../packages/overlay/src/overlay-trigger.css.js","../../../packages/overlay/src/OverlayTrigger.js","../../../packages/overlay/overlay-trigger.js"],"sourcesContent":["\"use strict\";import{css as s}from\"@spectrum-web-components/base\";const e=s`\n    slot[name=longpress-describedby-descriptor]{display:none}\n`;export default e;\n//# sourceMappingURL=overlay-trigger.css.js.map\n","\"use strict\";var m=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var r=(p,l,e,n)=>{for(var t=n>1?void 0:n?u(l,e):l,s=p.length-1,i;s>=0;s--)(i=p[s])&&(t=(n?i(l,e,t):i(t))||t);return n&&t&&m(l,e,t),t};import{html as a,SpectrumElement as v}from\"@spectrum-web-components/base\";import{property as o,query as h,state as c}from\"@spectrum-web-components/base/src/decorators.js\";import\"@spectrum-web-components/overlay/sp-overlay.js\";import y from\"./overlay-trigger.css.js\";export class OverlayTrigger extends v{constructor(){super(...arguments);this.offset=6;this.disabled=!1;this.receivesFocus=\"auto\";this.clickContent=[];this.longpressContent=[];this.hoverContent=[];this.targetContent=[]}static get styles(){return[y]}getAssignedElementsFromSlot(e){return e.assignedElements({flatten:!0})}handleTriggerContent(e){this.targetContent=this.getAssignedElementsFromSlot(e.target)}handleSlotContent(e){switch(e.target.name){case\"click-content\":this.clickContent=this.getAssignedElementsFromSlot(e.target);break;case\"longpress-content\":this.longpressContent=this.getAssignedElementsFromSlot(e.target);break;case\"hover-content\":this.hoverContent=this.getAssignedElementsFromSlot(e.target);break}}handleBeforetoggle(e){const{target:n}=e;let t;if(n===this.clickOverlayElement)t=\"click\";else if(n===this.longpressOverlayElement)t=\"longpress\";else if(n===this.hoverOverlayElement)t=\"hover\";else return;e.newState===\"open\"?this.open=t:this.open===t&&(this.open=void 0)}update(e){var n,t,s,i,d,g;e.has(\"clickContent\")&&(this.clickPlacement=((n=this.clickContent[0])==null?void 0:n.getAttribute(\"placement\"))||((t=this.clickContent[0])==null?void 0:t.getAttribute(\"direction\"))||void 0),e.has(\"hoverContent\")&&(this.hoverPlacement=((s=this.hoverContent[0])==null?void 0:s.getAttribute(\"placement\"))||((i=this.hoverContent[0])==null?void 0:i.getAttribute(\"direction\"))||void 0),e.has(\"longpressContent\")&&(this.longpressPlacement=((d=this.longpressContent[0])==null?void 0:d.getAttribute(\"placement\"))||((g=this.longpressContent[0])==null?void 0:g.getAttribute(\"direction\"))||void 0),super.update(e)}renderSlot(e){return a`\n            <slot name=${e} @slotchange=${this.handleSlotContent}></slot>\n        `}renderClickOverlay(){var t;const e=this.renderSlot(\"click-content\"),n=a`\n            <sp-overlay\n                id=\"click-overlay\"\n                ?disabled=${this.disabled||!this.clickContent.length}\n                ?open=${this.open===\"click\"&&!!this.clickContent.length}\n                .offset=${this.offset}\n                .placement=${this.clickPlacement||this.placement}\n                .triggerElement=${this.targetContent[0]}\n                .triggerInteraction=${\"click\"}\n                .type=${this.type||\"auto\"}\n                @beforetoggle=${this.handleBeforetoggle}\n                .receivesFocus=${this.receivesFocus}\n            >\n                ${e}\n            </sp-overlay>\n        `;return(t=this.triggeredBy)!=null&&t.includes(\"click\")||this.clickContent.length?n:e}renderHoverOverlay(){var t;const e=this.renderSlot(\"hover-content\"),n=a`\n            <sp-overlay\n                id=\"hover-overlay\"\n                ?open=${this.open===\"hover\"&&!!this.hoverContent.length}\n                ?disabled=${this.disabled||!this.hoverContent.length||!!this.open&&this.open!==\"hover\"}\n                .offset=${this.offset}\n                .placement=${this.hoverPlacement||this.placement}\n                .triggerElement=${this.targetContent[0]}\n                .triggerInteraction=${\"hover\"}\n                .type=${\"hint\"}\n                @beforetoggle=${this.handleBeforetoggle}\n                .receivesFocus=${this.receivesFocus}\n            >\n                ${e}\n            </sp-overlay>\n        `;return(t=this.triggeredBy)!=null&&t.includes(\"hover\")||this.hoverContent.length?n:e}renderLongpressOverlay(){var t;const e=this.renderSlot(\"longpress-content\"),n=a`\n            <sp-overlay\n                id=\"longpress-overlay\"\n                ?disabled=${this.disabled||!this.longpressContent.length}\n                ?open=${this.open===\"longpress\"&&!!this.longpressContent.length}\n                .offset=${this.offset}\n                .placement=${this.longpressPlacement||this.placement}\n                .triggerElement=${this.targetContent[0]}\n                .triggerInteraction=${\"longpress\"}\n                .type=${\"auto\"}\n                @beforetoggle=${this.handleBeforetoggle}\n                .receivesFocus=${this.receivesFocus}\n            >\n                ${e}\n            </sp-overlay>\n            <slot name=\"longpress-describedby-descriptor\"></slot>\n        `;return(t=this.triggeredBy)!=null&&t.includes(\"longpress\")||this.longpressContent.length?n:e}render(){return a`\n            <slot\n                id=\"trigger\"\n                name=\"trigger\"\n                @slotchange=${this.handleTriggerContent}\n            ></slot>\n            ${[this.renderClickOverlay(),this.renderHoverOverlay(),this.renderLongpressOverlay()]}\n        `}updated(e){if(super.updated(e),this.disabled&&e.has(\"disabled\")){this.open=void 0;return}}async getUpdateComplete(){return await super.getUpdateComplete()}}r([o({attribute:\"triggered-by\"})],OverlayTrigger.prototype,\"triggeredBy\",2),r([o({reflect:!0})],OverlayTrigger.prototype,\"placement\",2),r([o()],OverlayTrigger.prototype,\"type\",2),r([o({type:Number})],OverlayTrigger.prototype,\"offset\",2),r([o({reflect:!0})],OverlayTrigger.prototype,\"open\",2),r([o({type:Boolean,reflect:!0})],OverlayTrigger.prototype,\"disabled\",2),r([o({attribute:\"receives-focus\"})],OverlayTrigger.prototype,\"receivesFocus\",2),r([c()],OverlayTrigger.prototype,\"clickContent\",2),r([c()],OverlayTrigger.prototype,\"longpressContent\",2),r([c()],OverlayTrigger.prototype,\"hoverContent\",2),r([c()],OverlayTrigger.prototype,\"targetContent\",2),r([h(\"#click-overlay\",!0)],OverlayTrigger.prototype,\"clickOverlayElement\",2),r([h(\"#longpress-overlay\",!0)],OverlayTrigger.prototype,\"longpressOverlayElement\",2),r([h(\"#hover-overlay\",!0)],OverlayTrigger.prototype,\"hoverOverlayElement\",2);\n//# sourceMappingURL=OverlayTrigger.js.map\n","\"use strict\";import{defineElement as e}from\"@spectrum-web-components/base/src/define-element.js\";import{OverlayTrigger as r}from\"./src/OverlayTrigger.js\";e(\"overlay-trigger\",r);\n//# sourceMappingURL=overlay-trigger.js.map\n"],"names":["e","s","m","Object","defineProperty","r","p","l","n","i","t","length","OverlayTrigger","v","constructor","super","arguments","this","offset","disabled","receivesFocus","clickContent","longpressContent","hoverContent","targetContent","styles","y","getAssignedElementsFromSlot","assignedElements","flatten","handleTriggerContent","target","handleSlotContent","name","handleBeforetoggle","clickOverlayElement","longpressOverlayElement","hoverOverlayElement","newState","open","update","d","g","has","clickPlacement","getAttribute","hoverPlacement","longpressPlacement","renderSlot","a","renderClickOverlay","placement","type","triggeredBy","includes","renderHoverOverlay","renderLongpressOverlay","render","updated","getUpdateComplete","o","attribute","prototype","reflect","Number","Boolean","c","h"],"mappings":"4tCACA,MAAMA,EAASC,CAAA;;ECWf,IAAAC,EAAAC,OAAAC,eAAAC,EAAA,CAAAC,EAAAC,EAAAP,EAAAQ,KAAA,IAAA,IAAAC,EAAAC,OAAA,EAAAT,EAAAK,EAAAK,OAAA,EAAAV,GAAA,EAAAA,KAAAQ,EAAAH,EAAAL,MAAAS,EAAAD,EAAAF,EAAAP,EAAAU,IAAAA,GAAA,OAAAA,GAAAR,EAAAK,EAAAP,EAAAU,GAAAA,GAqDO,MAAME,UAAuBC,EAA7BC,WAAAA,GAAAC,SAAAC,WA+BHC,KAAOC,OAAS,EAMhBD,KAAOE,UAAW,EAGlBF,KAAOG,cAA2C,OAGlDH,KAAQI,aAA8B,GAKtCJ,KAAQK,iBAAkC,GAK1CL,KAAQM,aAA8B,GAKtCN,KAAQO,cAA+B,EAAC,CAzDxC,iBAA2BC,GACvB,MAAO,CAACC,EACZ,CAkEQC,2BAAAA,CAA4B3B,GAChC,OAAOA,EAAK4B,iBAAiB,CAAEC,SAAS,GAC5C,CAEQC,oBAAAA,CACJ9B,GAEAiB,KAAKO,cAAgBP,KAAKU,4BAA4B3B,EAAM+B,OAChE,CAEQC,iBAAAA,CACJhC,GAEA,OAAQA,EAAM+B,OAAOE,MACjB,IAAK,gBACDhB,KAAKI,aAAeJ,KAAKU,4BACrB3B,EAAM+B,QAEV,MACJ,IAAK,oBACDd,KAAKK,iBAAmBL,KAAKU,4BACzB3B,EAAM+B,QAEV,MACJ,IAAK,gBACDd,KAAKM,aAAeN,KAAKU,4BACrB3B,EAAM+B,QAItB,CAEQG,kBAAAA,CAAmBlC,GACvB,MAAQ+B,OAAAvB,GAAWR,EACnB,IAAIU,EACJ,GAAIF,IAAWS,KAAKkB,oBAChBzB,EAAO,aAAA,GACAF,IAAWS,KAAKmB,wBACvB1B,EAAO,oBACAF,IAAWS,KAAKoB,oBAIvB,OAHA3B,EAAO,OAGP,CAEmB,SAAnBV,EAAMsC,SACNrB,KAAKsB,KAAO7B,EACLO,KAAKsB,OAAS7B,IACrBO,KAAKsB,UAAO,EAEpB,CAEmBC,MAAAA,CAAOxC,GA1L9B,IAAAQ,EAAAE,EAAAT,EAAAQ,EAAAgC,EAAAC,EA2LY1C,EAAQ2C,IAAI,kBACZ1B,KAAK2B,gBACC,OAAApC,OAAKa,aAAa,SAAlB,EAAAb,EAAsBqC,aAAa,gBACjC,OAAAnC,OAAKW,aAAa,WAAlBX,EAAsBmC,aAClB,oBACgB,GAE5B7C,EAAQ2C,IAAI,kBACZ1B,KAAK6B,gBACC,OAAA7C,OAAKsB,aAAa,WAAlBtB,EAAsB4C,aAAa,gBACjC,OAAApC,EAAAQ,KAAKM,aAAa,WAAlBd,EAAsBoC,aAClB,oBACgB,GAE5B7C,EAAQ2C,IAAI,sBACZ1B,KAAK8B,oBACC,OAAAN,OAAKnB,iBAAiB,SAAtB,EAAAmB,EAA0BI,aAAa,gBACrC,OAAAH,OAAKpB,iBAAiB,WAAtBoB,EAA0BG,aACtB,oBACgB,GAEhC9B,MAAMyB,OAAOxC,GAGPgD,UAAAA,CAAWhD,GACjB,OAAOiD,CAAA;yBACUjD,iBAAoBiB,KAAKe;UAIpCkB,kBAAAA,GAzNd,IAAAxC,EA0NQ,MAAMV,EAAOiB,KAAK+B,WAAW,iBACvBxC,EAAeyC,CAAA;;;4BAGDhC,KAAKE,WAAaF,KAAKI,aAAaV;wBAC1B,UAAdM,KAAKsB,QAAsBtB,KAAKI,aAAaV;0BAC3CM,KAAKC;6BACFD,KAAK2B,gBAAkB3B,KAAKkC;kCACvBlC,KAAKO,cAAc;sCACf;wBACdP,KAAKmC,MAAQ;gCACLnC,KAAKiB;iCACJjB,KAAKG;;kBAEpBpB;;UASV,OAJI,OAAAU,EAAAO,KAAKoC,cAAL3C,EAAkB4C,SAAS,UAI1BrC,KAAKI,aAAaV,OAGZH,EAFAR,CAIf,CAEUuD,kBAAAA,GAxPd,IAAA7C,EAyPQ,MAAMV,EAAOiB,KAAK+B,WAAW,iBACvBxC,EAAeyC,CAAA;;;wBAGS,UAAdhC,KAAKsB,QAAsBtB,KAAKM,aAAaZ;4BACzCM,KAAKE,WAChBF,KAAKM,aAAaZ,UAChBM,KAAKsB,MAAsB,UAAdtB,KAAKsB;0BACXtB,KAAKC;6BACFD,KAAK6B,gBAAkB7B,KAAKkC;kCACvBlC,KAAKO,cAAc;sCACf;wBACd;gCACQP,KAAKiB;iCACJjB,KAAKG;;kBAEpBpB;;UASV,OAJI,OAAAU,EAAAO,KAAKoC,cAAL3C,EAAkB4C,SAAS,UAI1BrC,KAAKM,aAAaZ,OAGZH,EAFAR,CAIf,CAEUwD,sBAAAA,GAzRd,IAAA9C,EA0RQ,MAAMV,EAAOiB,KAAK+B,WAAW,qBACvBxC,EAAmByC,CAAA;;;4BAGLhC,KAAKE,WAAaF,KAAKK,iBAAiBX;wBAC9B,cAAdM,KAAKsB,QACXtB,KAAKK,iBAAiBX;0BACdM,KAAKC;6BACFD,KAAK8B,oBAAsB9B,KAAKkC;kCAC3BlC,KAAKO,cAAc;sCACf;wBACd;gCACQP,KAAKiB;iCACJjB,KAAKG;;kBAEpBpB;;;UAUV,OAJI,OAAAU,EAAAO,KAAKoC,cAAL3C,EAAkB4C,SAAS,cAI1BrC,KAAKK,iBAAiBX,OAGhBH,EAFAR,CAIf,CAEmByD,MAAAA,GAEf,OAAOR,CAAA;;;;8BAIehC,KAAKa;;cAErB,CACEb,KAAKiC,qBACLjC,KAAKsC,qBACLtC,KAAKuC;SAGjB,CAEmBE,OAAAA,CAAQ1D,GACvBe,MAAM2C,QAAQ1D,GAiBViB,KAAKE,UAAYnB,EAAkB2C,IAAI,cACvC1B,KAAKsB,UAAO,EAGpB,CAEA,uBAAyBoB,GAErB,aADwB5C,MAAM4C,mBAElC,EAlROtD,EAAA,CADNuD,EAAS,CAAEC,UAAW,kBAjBdjD,EAkBFkD,UAAA,eAOAzD,GADNuD,EAAS,CAAEG,SAAS,KAxBZnD,EAyBFkD,UAAA,aAGAzD,EAAA,CADNuD,KA3BQhD,EA4BFkD,UAAA,QAGAzD,GADNuD,EAAS,CAAER,KAAMY,UA9BTpD,EA+BFkD,UAAA,UAGAzD,EAAA,CADNuD,EAAS,CAAEG,SAAS,KAjCZnD,EAkCFkD,kBAGAzD,EAAA,CADNuD,EAAS,CAAER,KAAMa,QAASF,SAAS,KApC3BnD,EAqCFkD,UAAA,YAGAzD,EAAA,CADNuD,EAAS,CAAEC,UAAW,oBAvCdjD,EAwCFkD,UAAA,iBAGCzD,EAAA,CADP6D,KA1CQtD,EA2CDkD,UAAA,gBAKAzD,EAAA,CADP6D,KA/CQtD,EAgDDkD,UAAA,oBAKAzD,GADP6D,KApDQtD,EAqDDkD,UAAA,gBAKAzD,EAAA,CADP6D,KAzDQtD,EA0DDkD,2BAGRzD,EAAA,CADC8D,EAAM,kBAAkB,IA5DhBvD,EA6DTkD,UAAA,uBAGAzD,GADC8D,EAAM,sBAAsB,IA/DpBvD,EAgETkD,UAAA,2BAGAzD,EAAA,CADC8D,EAAM,kBAAkB,IAlEhBvD,EAmETkD,UAAA,uBCtHJ9D,EAAc,kBAAmBK"}